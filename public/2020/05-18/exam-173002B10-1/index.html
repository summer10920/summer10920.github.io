<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/config/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/config/favicon-16x16.png">
  <link rel="mask-icon" href="/assets/config/logo-loki.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,400,400italic,700,700italic%7CNoto+Sans+TC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"summer10920.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":20,"offset":20},"hljswrap":true,"copycode":{"enable":true,"style":"mac"},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeIn","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"${hits} 找到 ${time} 個結果","hits":"找到 ${hits} 個結果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="本篇為網乙解析系列之題組一。難易度偏低，評分項目多且步驟較多但重複性高，只要善用同題目作為範本複製貼上，進行修改調整就能快速完成題目動作。本篇之前置作業 (lib.php 與 MySQL 規劃）不再進行說明。">
<meta property="og:type" content="article">
<meta property="og:title" content="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組一）">
<meta property="og:url" content="http://summer10920.github.io/2020/05-18/exam-173002B10-1/">
<meta property="og:site_name" content="洛奇的邪惡組織手札">
<meta property="og:description" content="本篇為網乙解析系列之題組一。難易度偏低，評分項目多且步驟較多但重複性高，只要善用同題目作為範本複製貼上，進行修改調整就能快速完成題目動作。本篇之前置作業 (lib.php 與 MySQL 規劃）不再進行說明。">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://i.imgur.com/xVkDTDr.png">
<meta property="og:image" content="https://i.imgur.com/R4L7SuR.png">
<meta property="og:image" content="https://i.imgur.com/igd8Xfs.png">
<meta property="og:image" content="https://i.imgur.com/CPhNg9q.png">
<meta property="og:image" content="https://i.imgur.com/Gb8Pbqb.png">
<meta property="og:image" content="https://i.imgur.com/A2jlOsP.png">
<meta property="og:image" content="https://i.imgur.com/fo48pnO.png">
<meta property="og:image" content="https://i.imgur.com/Uz7ESVU.png">
<meta property="og:image" content="https://i.imgur.com/Uhxt0cY.png">
<meta property="og:image" content="https://i.imgur.com/fkJgDij.png">
<meta property="og:image" content="https://i.imgur.com/SWP0XsG.png">
<meta property="og:image" content="https://i.imgur.com/Ji8jU7J.png">
<meta property="article:published_time" content="2020-05-18T12:24:28.000Z">
<meta property="article:modified_time" content="2024-08-22T02:31:12.196Z">
<meta property="article:author" content="Loki Jiang">
<meta property="article:tag" content="技術士考照與全國技能競賽">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/xVkDTDr.png">


<link rel="canonical" href="http://summer10920.github.io/2020/05-18/exam-173002B10-1/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-TW","comments":true,"permalink":"http://summer10920.github.io/2020/05-18/exam-173002B10-1/","path":"2020/05-18/exam-173002B10-1/","title":"[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組一）"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組一） | 洛奇的邪惡組織手札</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146423952-3"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-146423952-3","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>







<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&family=Roboto&display=swap" rel="stylesheet">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <canvas id="lokiBanner" width="1920" height="200"></canvas>
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">洛奇的邪惡組織手札</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">I am WebDeveloper!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜尋" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤<span class="badge">20</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類<span class="badge">17</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>文章<span class="badge">68</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜尋..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#No-10-%E7%AE%A1%E7%90%86%E7%99%BB%E5%85%A5%E6%8C%89%E9%88%95-20"><span class="nav-number">1.</span> <span class="nav-text">No.10 管理登入按鈕 (20%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%AD%A3%E7%99%BB%E5%85%A5%E9%80%A3%E7%B5%90"><span class="nav-number">1.1.</span> <span class="nav-text">修正登入連結</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-news-php-login-php"><span class="nav-number">1.1.1.</span> <span class="nav-text">修改 index.php, news.php, login.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A4%E6%96%B7%E6%98%AF%E5%90%A6%E5%B7%B2%E7%99%BB%E5%85%A5"><span class="nav-number">1.2.</span> <span class="nav-text">判斷是否已登入</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-admin-php"><span class="nav-number">1.2.1.</span> <span class="nav-text">修改 admin.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FROM-%E6%8F%90%E4%BA%A4%E5%8B%95%E4%BD%9C"><span class="nav-number">1.3.</span> <span class="nav-text">FROM 提交動作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-login-php"><span class="nav-number">1.3.1.</span> <span class="nav-text">修改 login.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FROM-%E7%9A%84-SQL-%E8%99%95%E7%90%86"><span class="nav-number">1.4.</span> <span class="nav-text">FROM 的 SQL 處理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-api-php"><span class="nav-number">1.4.1.</span> <span class="nav-text">建立 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%99%BB%E5%87%BA%E4%BD%9C%E6%A5%AD"><span class="nav-number">1.5.</span> <span class="nav-text">登出作業</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-admin-php-1"><span class="nav-number">1.5.1.</span> <span class="nav-text">修改 admin.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-api-php"><span class="nav-number">1.5.2.</span> <span class="nav-text">修改 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-3-%E7%B6%B2%E7%AB%99%E6%A8%99%E9%A1%8C-35"><span class="nav-number">2.</span> <span class="nav-text">No.3 網站標題 (35%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%A7%E5%AE%B9%E5%8D%80%E5%9F%9F%E8%AA%BF%E6%95%B4"><span class="nav-number">2.1.</span> <span class="nav-text">內容區域調整</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-admin-php"><span class="nav-number">2.1.1.</span> <span class="nav-text">增添 admin.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F"><span class="nav-number">2.2.</span> <span class="nav-text">後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-atitle-php"><span class="nav-number">2.2.1.</span> <span class="nav-text">修改 atitle.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%B9%E6%AC%A1%E4%BF%AE%E6%94%B9%E8%AA%AA%E6%98%8E"><span class="nav-number">2.2.2.</span> <span class="nav-text">批次修改說明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%B9%E6%AC%A1%E5%88%AA%E9%99%A4%E8%AA%AA%E6%98%8E"><span class="nav-number">2.2.3.</span> <span class="nav-text">批次刪除說明</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E5%96%AE%E7%AD%86"><span class="nav-number">2.3.</span> <span class="nav-text">新增單筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-view-php"><span class="nav-number">2.3.1.</span> <span class="nav-text">建立 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php"><span class="nav-number">2.3.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%A4%9A%E7%AD%86-%E5%88%AA%E9%99%A4%E5%A4%9A%E7%AD%86"><span class="nav-number">2.4.</span> <span class="nav-text">修改多筆 + 刪除多筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-1"><span class="nav-number">2.4.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%96%AE%E4%B8%80%E5%9C%96%E7%89%87"><span class="nav-number">2.5.</span> <span class="nav-text">修改單一圖片</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php"><span class="nav-number">2.5.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-2"><span class="nav-number">2.5.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0%E9%A1%AF%E7%A4%BA"><span class="nav-number">2.6.</span> <span class="nav-text">前台顯示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php"><span class="nav-number">2.6.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-admin-php-login-php-index-php-news-php"><span class="nav-number">2.6.2.</span> <span class="nav-text">修改 admin.php, login.php, index.php, news.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-4-%E5%8B%95%E6%85%8B%E6%96%87%E5%AD%97%E5%BB%A3%E5%91%8A-30"><span class="nav-number">3.</span> <span class="nav-text">No.4 動態文字廣告 (30%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F-1"><span class="nav-number">3.1.</span> <span class="nav-text">後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-aad-php-%EF%BC%88%E5%8F%83%E8%80%83-atitle-php"><span class="nav-number">3.1.1.</span> <span class="nav-text">新增 aad.php （參考 atitle.php)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E5%96%AE%E7%AD%86-1"><span class="nav-number">3.2.</span> <span class="nav-text">新增單筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-3"><span class="nav-number">3.2.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%A4%9A%E7%AD%86-%E5%88%AA%E9%99%A4%E5%A4%9A%E7%AD%86-1"><span class="nav-number">3.3.</span> <span class="nav-text">修改多筆 + 刪除多筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-4"><span class="nav-number">3.3.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0%E9%A1%AF%E7%A4%BA-1"><span class="nav-number">3.4.</span> <span class="nav-text">前台顯示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-1"><span class="nav-number">3.4.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-login-php-index-php-news-php"><span class="nav-number">3.4.2.</span> <span class="nav-text">修改 login.php, index.php, news.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-5-%E5%8B%95%E7%95%AB%E5%9C%96%E7%89%87%E8%BC%AA%E6%92%AD-30"><span class="nav-number">4.</span> <span class="nav-text">No.5 動畫圖片輪播 (30%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F-2"><span class="nav-number">4.1.</span> <span class="nav-text">後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-amvim-php%EF%BC%88%E5%8F%83%E8%80%83-atitle-php"><span class="nav-number">4.1.1.</span> <span class="nav-text">新增 amvim.php（參考 atitle.php)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E5%96%AE%E7%AD%86-2"><span class="nav-number">4.2.</span> <span class="nav-text">新增單筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php-2"><span class="nav-number">4.2.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-5"><span class="nav-number">4.2.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%A4%9A%E7%AD%86-%E5%88%AA%E9%99%A4%E5%A4%9A%E7%AD%86-2"><span class="nav-number">4.3.</span> <span class="nav-text">修改多筆 + 刪除多筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-6"><span class="nav-number">4.3.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%96%AE%E4%B8%80%E5%9C%96%E7%89%87-1"><span class="nav-number">4.4.</span> <span class="nav-text">修改單一圖片</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php-3"><span class="nav-number">4.4.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-7"><span class="nav-number">4.4.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0%E7%9A%84%E5%8B%95%E7%95%AB%E9%A1%AF%E7%A4%BA"><span class="nav-number">4.5.</span> <span class="nav-text">前台的動畫顯示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-2"><span class="nav-number">4.5.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php"><span class="nav-number">4.5.2.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-6-%E6%A0%A1%E5%9C%92%E6%98%A0%E5%83%8F-40"><span class="nav-number">5.</span> <span class="nav-text">No.6 校園映像 (40%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F-3"><span class="nav-number">5.1.</span> <span class="nav-text">後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-aimage-php%EF%BC%88%E5%8F%83%E8%80%83-amvim-php"><span class="nav-number">5.1.1.</span> <span class="nav-text">新增 aimage.php（參考 amvim.php)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E5%96%AE%E7%AD%86-3"><span class="nav-number">5.2.</span> <span class="nav-text">新增單筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php-4"><span class="nav-number">5.2.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-8"><span class="nav-number">5.2.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%A4%9A%E7%AD%86-%E5%88%AA%E9%99%A4%E5%A4%9A%E7%AD%86-3"><span class="nav-number">5.3.</span> <span class="nav-text">修改多筆 + 刪除多筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-9"><span class="nav-number">5.3.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%96%AE%E4%B8%80%E5%9C%96%E7%89%87-2"><span class="nav-number">5.4.</span> <span class="nav-text">修改單一圖片</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php-5"><span class="nav-number">5.4.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-10"><span class="nav-number">5.4.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0%E7%9A%84%E9%A1%AF%E7%A4%BA%E6%A0%BC%E5%BC%8F"><span class="nav-number">5.5.</span> <span class="nav-text">前台的顯示格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-3"><span class="nav-number">5.5.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-login-php-news-php"><span class="nav-number">5.5.2.</span> <span class="nav-text">修改 index.php &amp; login.php &amp; news.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-7-%E9%80%B2%E7%AB%99%E7%B8%BD%E4%BA%BA%E6%95%B8-20"><span class="nav-number">6.</span> <span class="nav-text">No.7 進站總人數 (20%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F"><span class="nav-number">6.1.</span> <span class="nav-text">修改後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-atotal-php%EF%BC%88%E5%8F%83%E8%80%83-atitle-php"><span class="nav-number">6.1.1.</span> <span class="nav-text">新增 atotal.php（參考 atitle.php)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-11"><span class="nav-number">6.1.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0%E7%9A%84-total-%E9%A1%AF%E7%A4%BA%E6%A0%BC%E5%BC%8F"><span class="nav-number">6.2.</span> <span class="nav-text">前台的 total 顯示格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-4"><span class="nav-number">6.2.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-admin-php-login-php-index-php-news-php-1"><span class="nav-number">6.2.2.</span> <span class="nav-text">修改 admin.php &amp; login.php &amp; index.php &amp; news.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-8-%E9%A0%81%E5%B0%BE%E7%89%88%E6%AC%8A-10"><span class="nav-number">7.</span> <span class="nav-text">No.8 頁尾版權 (10%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F-1"><span class="nav-number">7.1.</span> <span class="nav-text">修改後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-abottom-php%EF%BC%88%E5%8F%83%E8%80%83-atotal-php"><span class="nav-number">7.1.1.</span> <span class="nav-text">新增 abottom.php（參考 atotal.php)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-12"><span class="nav-number">7.1.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0%E7%9A%84%E9%A1%AF%E7%A4%BA"><span class="nav-number">7.2.</span> <span class="nav-text">前台的顯示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-5"><span class="nav-number">7.2.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-admin-php-login-php-index-php-news-php-2"><span class="nav-number">7.2.2.</span> <span class="nav-text">修改 admin.php &amp; login.php &amp; index.php &amp; news.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-9-%E6%9C%80%E6%96%B0%E6%B6%88%E6%81%AF-55"><span class="nav-number">8.</span> <span class="nav-text">No.9 最新消息 (55%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F-4"><span class="nav-number">8.1.</span> <span class="nav-text">後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-anews-php%EF%BC%88%E5%8F%83%E8%80%83-aimage-php"><span class="nav-number">8.1.1.</span> <span class="nav-text">新增 anews.php（參考 aimage.php)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E5%96%AE%E7%AD%86-4"><span class="nav-number">8.2.</span> <span class="nav-text">新增單筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php-6"><span class="nav-number">8.2.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-13"><span class="nav-number">8.2.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%A4%9A%E7%AD%86-%E5%88%AA%E9%99%A4%E5%A4%9A%E7%AD%86-4"><span class="nav-number">8.3.</span> <span class="nav-text">修改多筆 + 刪除多筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-14"><span class="nav-number">8.3.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0%E7%9A%84%E9%A1%AF%E7%A4%BA-1"><span class="nav-number">8.4.</span> <span class="nav-text">前台的顯示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-6"><span class="nav-number">8.4.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-1"><span class="nav-number">8.4.2.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0%E7%9A%84-news-more"><span class="nav-number">8.5.</span> <span class="nav-text">前台的 news more</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-7"><span class="nav-number">8.5.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-news-php"><span class="nav-number">8.5.2.</span> <span class="nav-text">修改 news.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-8"><span class="nav-number">8.5.3.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-news-php-1"><span class="nav-number">8.5.4.</span> <span class="nav-text">修改 news.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-11-%E7%AE%A1%E7%90%86%E8%80%85%E5%B8%B3%E8%99%9F%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD-15"><span class="nav-number">9.</span> <span class="nav-text">No.11 管理者帳號管理功能 (15%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F-5"><span class="nav-number">9.1.</span> <span class="nav-text">後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-aadmin-php%EF%BC%88%E5%8F%83%E8%80%83-aad-php"><span class="nav-number">9.1.1.</span> <span class="nav-text">新增 aadmin.php（參考 aad.php)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E5%96%AE%E7%AD%86-5"><span class="nav-number">9.2.</span> <span class="nav-text">新增單筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php-7"><span class="nav-number">9.2.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-15"><span class="nav-number">9.2.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%A4%9A%E7%AD%86-%E5%88%AA%E9%99%A4%E5%A4%9A%E7%AD%86-5"><span class="nav-number">9.3.</span> <span class="nav-text">修改多筆 + 刪除多筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-16"><span class="nav-number">9.3.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-12-%E9%81%B8%E5%96%AE%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD-45"><span class="nav-number">10.</span> <span class="nav-text">No.12 選單管理功能 (45%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F-6"><span class="nav-number">10.1.</span> <span class="nav-text">後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-amenu-php%EF%BC%88%E5%8F%83%E8%80%83-aad-php"><span class="nav-number">10.1.1.</span> <span class="nav-text">新增 amenu.php（參考 aad.php)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E5%96%AE%E7%AD%86-6"><span class="nav-number">10.2.</span> <span class="nav-text">新增單筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php-8"><span class="nav-number">10.2.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-17"><span class="nav-number">10.2.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%A4%9A%E7%AD%86-%E5%88%AA%E9%99%A4%E5%A4%9A%E7%AD%86-6"><span class="nav-number">10.3.</span> <span class="nav-text">修改多筆 + 刪除多筆</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-18"><span class="nav-number">10.3.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AC%A1%E9%81%B8%E5%96%AE"><span class="nav-number">10.4.</span> <span class="nav-text">次選單</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-view-php-9"><span class="nav-number">10.4.1.</span> <span class="nav-text">增添 view.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-19"><span class="nav-number">10.4.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0%E7%9A%84-menu-%E9%A1%AF%E7%A4%BA"><span class="nav-number">10.5.</span> <span class="nav-text">前台的 menu 顯示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-9"><span class="nav-number">10.5.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-login-php-index-php-news-php-1"><span class="nav-number">10.5.2.</span> <span class="nav-text">修改 login.php &amp; index.php &amp; news.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#END-%E8%AA%BF%E6%95%B4%E7%89%88%E9%9D%A2-5"><span class="nav-number">11.</span> <span class="nav-text">END 調整版面 (5%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-login-php-index-php-news-php-admin-php"><span class="nav-number">11.1.</span> <span class="nav-text">修改 login.php &amp; index.php &amp; news.php &amp; admin.php</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Loki Jiang"
      src="/assets/config/author_loki.jpg">
  <p class="site-author-name" itemprop="name">Loki Jiang</p>
  <div class="site-description" itemprop="description">Time waits for no oneヽ(｀Д´)ﾉ</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/summer10920" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;summer10920" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:summer10920@gmail.com" title="E-Mail → mailto:summer10920@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://codepen.io/summer10920/pens/public?grid_type=list" title="CodePen → https:&#x2F;&#x2F;codepen.io&#x2F;summer10920&#x2F;pens&#x2F;public?grid_type&#x3D;list" rel="noopener me" target="_blank"><i class="fab fa-codepen fa-fw"></i>CodePen</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/c/LokiJiang/playlists" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;c&#x2F;LokiJiang&#x2F;playlists" rel="noopener me" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="回到頂端">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="http://demob17300.lokiwebs.com/" title="http:&#x2F;&#x2F;demob17300.lokiwebs.com&#x2F;" rel="noopener" target="_blank">DemoSite - 網頁設計乙術科</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="http://blog.lokiwebs.com/" title="http:&#x2F;&#x2F;blog.lokiwebs.com&#x2F;" rel="noopener" target="_blank">舊址(停更) - 札記 Blog</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://summer10920.github.io/2020/05-18/exam-173002B10-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/assets/config/author_loki.jpg">
      <meta itemprop="name" content="Loki Jiang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="洛奇的邪惡組織手札">
      <meta itemprop="description" content="Time waits for no oneヽ(｀Д´)ﾉ">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組一） | 洛奇的邪惡組織手札">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [題目解析] 技能檢定！網頁設計乙級術科考題分析（題組一）<a href="https://github.com/summer10920/summer10920.github.io/edit/master/source/_posts/20200518-exam-173002B10-1.md" class="post-edit-link" title="編輯" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2020-05-18 20:24:28" itemprop="dateCreated datePublished" datetime="2020-05-18T20:24:28+08:00">2020-05-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-08-22 10:31:12" itemprop="dateModified" datetime="2024-08-22T10:31:12+08:00">2024-08-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AB%B6%E8%B3%BD%E6%AA%A2%E5%AE%9A/" itemprop="url" rel="index"><span itemprop="name">競賽檢定</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AB%B6%E8%B3%BD%E6%AA%A2%E5%AE%9A/%E7%B6%B2%E9%A0%81%E8%A8%AD%E8%A8%88%E4%B9%99%E7%B4%9A/" itemprop="url" rel="index"><span itemprop="name">網頁設計乙級</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>10,028</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>00:18:14</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><img src="https://i.imgur.com/xVkDTDr.png"></p>
<p>本篇為網乙解析系列之題組一。難易度偏低，評分項目多且步驟較多但重複性高，只要善用同題目作為範本複製貼上，進行修改調整就能快速完成題目動作。本篇之前置作業 (lib.php 與 MySQL 規劃）不再進行說明。</p>
<span id="more"></span>

<div class="note default"><p><strong>網乙術科題庫分析：</strong><br>事前建置說明 - <a href="/2020/05-14/exam-173002B10-0/" title="[題目解析] 技能檢定！網頁設計乙級術科考題分析（事前準備）">[題目解析] 技能檢定！網頁設計乙級術科考題分析（事前準備）</a></p>
</div>

<h1 id="No-10-管理登入按鈕-20"><a href="#No-10-管理登入按鈕-20" class="headerlink" title="No.10 管理登入按鈕 (20%)"></a>No.10 管理登入按鈕 (20%)</h1><p>您必須先做第 10 題，才能方便在其他題目上做切換前後台檢查。90 分鐘所設計的 lib.php 記得放到本題組目錄下。<br><img src="https://i.imgur.com/R4L7SuR.png" alt="q1t10"></p>
<h2 id="修正登入連結"><a href="#修正登入連結" class="headerlink" title="修正登入連結"></a>修正登入連結</h2><p>將三個頁面跟登入按鈕有關的 onclick 做正確的導向。我們直接轉址到 admin.php 就可以了。調整</p>
<h3 id="修改-index-php-news-php-login-php"><a href="#修改-index-php-news-php-login-php" class="headerlink" title="修改 index.php, news.php, login.php"></a>修改 index.php, news.php, login.php</h3><figure class="highlight html"><figcaption><span>index.php, news.php, login.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--右邊--&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&quot;width:100%; margin-left:auto; margin-right:auto; margin-top:2px; height:50px;&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;lo(<span class="symbol">&amp;#39;</span>?do=admin<span class="symbol">&amp;#39;</span>)&quot;</span>&gt;</span>管理登入<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>調整 onclick 到正確的 php 位置</p>
<figure class="highlight html"><figcaption><span>index.php, news.php, login.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--右邊--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&quot;width:100%; margin-left:auto; margin-right:auto; margin-top:2px; height:50px;&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;lo(&#x27;admin.php&#x27;)&quot;</span>&gt;</span>管理登入<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="判斷是否已登入"><a href="#判斷是否已登入" class="headerlink" title="判斷是否已登入"></a>判斷是否已登入</h2><p>如果在 admin.php 還沒有登入，就踢到 login.php 去。將這段塞到最前面</p>
<h3 id="修改-admin-php"><a href="#修改-admin-php" class="headerlink" title="修改 admin.php"></a>修改 admin.php</h3><figure class="highlight php"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">require_once</span>(<span class="string">&#x27;lib.php&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;admin&#x27;</span>])) <span class="title function_ invoke__">plo</span>(<span class="string">&quot;login.php&quot;</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="FROM-提交動作"><a href="#FROM-提交動作" class="headerlink" title="FROM 提交動作"></a>FROM 提交動作</h2><p>這裡很簡單沒有 php 要處理（因為要提交表單到 <code>api.php</code> )：</p>
<ol>
<li>在 from 的 action 內多一個 api.php 連接，target 則不要</li>
<li>另外順手把密碼的 name&#x3D;ps 改成 name&#x3D;pwd 看順眼</li>
</ol>
<h3 id="修改-login-php"><a href="#修改-login-php" class="headerlink" title="修改 login.php"></a>修改 login.php</h3><figure class="highlight html"><figcaption><span>login.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--正中央--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;?do=check&quot;</span> <span class="attr">target</span>=<span class="string">&quot;back&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t botli&quot;</span>&gt;</span>管理員登入區<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>帳號 ： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;acc&quot;</span> <span class="attr">autofocus</span>=<span class="string">&quot;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>密碼 ： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;ps&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;送出&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;清除&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>調整為</p>
<figure class="highlight html"><figcaption><span>login.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--正中央--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=check&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t botli&quot;</span>&gt;</span>管理員登入區<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>帳號 ： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;acc&quot;</span> <span class="attr">autofocus</span>=<span class="string">&quot;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>密碼 ： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;送出&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;清除&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="FROM-的-SQL-處理"><a href="#FROM-的-SQL-處理" class="headerlink" title="FROM 的 SQL 處理"></a>FROM 的 SQL 處理</h2><p>舉凡所有的 from 表單都獨立起來到 api.php 做處理，所以 login 的動作要開始寫入：</p>
<ol>
<li>新增 api.php 寫入，檢查資料庫是否存在</li>
<li>登入成功則給予 SESSION 咬住紀錄。</li>
<li>這裡題目要求錯誤提示並返回時要清除輸入資料，所以用 JS 轉址方式，不能用 window.history.back</li>
</ol>
<h3 id="建立-api-php"><a href="#建立-api-php" class="headerlink" title="建立 api.php"></a>建立 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">require_once</span>(<span class="string">&quot;lib.php&quot;</span>);</span><br><span class="line"><span class="keyword">switch</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;do&#x27;</span>]) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;check&#x27;</span>:</span><br><span class="line">    <span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t10_admin&quot;</span>, <span class="string">&quot;acc=&#x27;&quot;</span> . <span class="variable">$_POST</span>[<span class="string">&#x27;acc&#x27;</span>] . <span class="string">&quot;&#x27; and pwd=&#x27;&quot;</span> . <span class="variable">$_POST</span>[<span class="string">&#x27;pwd&#x27;</span>] . <span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$re</span>) &#123;</span><br><span class="line">      <span class="variable">$_SESSION</span>[<span class="string">&#x27;admin&#x27;</span>] = <span class="variable">$_POST</span>[<span class="string">&#x27;acc&#x27;</span>];</span><br><span class="line">      <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;帳號或密碼錯誤&#x27;);&quot;</span> . <span class="title function_ invoke__">jlo</span>(<span class="string">&quot;login.php&quot;</span>) . <span class="string">&quot;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="登出作業"><a href="#登出作業" class="headerlink" title="登出作業"></a>登出作業</h2><p>我們要處理登出的反應，也就是清除 SESSION，同樣透過 api.php 完成：</p>
<ol>
<li>修正 admin.php 的登出按鈕，處理 <code>location.replace()</code> 部分添加 <code>api.php?do=logout</code></li>
</ol>
<h3 id="修改-admin-php-1"><a href="#修改-admin-php-1" class="headerlink" title="修改 admin.php"></a>修改 admin.php</h3><figure class="highlight html"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;document.cookie=<span class="symbol">&amp;#39;</span>user=<span class="symbol">&amp;#39;</span>;location.replace(<span class="symbol">&amp;#39;</span>?<span class="symbol">&amp;#39;</span>)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:99%; margin-right:2px; height:50px;&quot;</span>&gt;</span>管理登出<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改為</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;document.cookie=&#x27;user=&#x27;;location.replace(&#x27;api.php?do=logout&#x27;)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:99%; margin-right:2px; height:50px;&quot;</span>&gt;</span>管理登出<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>接著登出處理，添加 case logout 項目</p>
<h3 id="修改-api-php"><a href="#修改-api-php" class="headerlink" title="修改 api.php"></a>修改 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;logout&#x27;</span>:</span><br><span class="line">    <span class="keyword">unset</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;admin&#x27;</span>]);</span><br><span class="line">    <span class="title function_ invoke__">plo</span>(<span class="string">&quot;login.php&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h1 id="No-3-網站標題-35"><a href="#No-3-網站標題-35" class="headerlink" title="No.3 網站標題 (35%)"></a>No.3 網站標題 (35%)</h1><p>你已經可以正常切換前後台就能開始處理各題目，同時注意後台 admin.php 的初始頁為該 No.3。因這裡算第一次處理後台，所以 main_zone 要先處理掉</p>
<p><img src="https://i.imgur.com/igd8Xfs.png" alt="q1t3"></p>
<h2 id="內容區域調整"><a href="#內容區域調整" class="headerlink" title="內容區域調整"></a>內容區域調整</h2><p>原後台選單連結都是<code>?do=admin&amp;redo=XX</code>。所以先做切換 mainzone 的功能。在後台主頁增添 php 代碼</p>
<h3 id="增添-admin-php"><a href="#增添-admin-php" class="headerlink" title="增添 admin.php"></a>增添 admin.php</h3><figure class="highlight php"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="variable">$mainzone</span> = (!<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;do&#x27;</span>])) ? <span class="variable">$_GET</span>[<span class="string">&#x27;do&#x27;</span>] : <span class="string">&quot;atitle&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>同時簡化這些 do+redo 的連結，我們合併成 do 將每個開頭多個 a 字母做差異。先修好第一筆選單的 href 連接並指到 atitle 。</p>
<figure class="highlight html"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./Management page_files/Management page.htm&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>網站標題管理<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=admin&amp;redo=ad&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>動態文字廣告管理<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=admin&amp;redo=mvim&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>動畫圖片管理<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=admin&amp;redo=image&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>校園映象資料管理<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=admin&amp;redo=total&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>進站總人數管理<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=admin&amp;redo=bottom&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>頁尾版權資料管理<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=admin&amp;redo=news&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>最新消息資料管理<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=admin&amp;redo=admin&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>管理者帳號管理<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=admin&amp;redo=menu&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>選單管理<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改為</p>
<figure class="highlight html"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=atitle&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>網站標題管理 <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=aad&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>動態文字廣告管理 <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=amvim&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>動畫圖片管理 <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=aimage&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>校園映象資料管理 <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=atotal&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>進站總人數管理 <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=abottom&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>頁尾版權資料管理 <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=anews&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>最新消息資料管理 <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=aadmin&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>管理者帳號管理 <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#000; font-size:13px; text-decoration:none;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=amenu&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span>選單管理 <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>抽取內容區做成 include，預設是第三題頁面，所以抽取該段另存為 <code>atitle.php</code></p>
<figure class="highlight html"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t cent botli&quot;</span>&gt;</span>網站標題管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">target</span>=<span class="string">&quot;back&quot;</span> <span class="attr">action</span>=<span class="string">&quot;?do=tii&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;yel&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;45%&quot;</span>&gt;</span>網站標題<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;23%&quot;</span>&gt;</span>替代文字<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>顯示<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:40px; width:70%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(<span class="symbol">&amp;#39;</span>#cover<span class="symbol">&amp;#39;</span>,<span class="symbol">&amp;#39;</span>#cvr<span class="symbol">&amp;#39;</span>,<span class="symbol">&amp;#39;</span>view.php?do=title<span class="symbol">&amp;#39;</span>)&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">value</span>=<span class="string">&quot;新增網站標題圖片&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>更改為</p>
<figure class="highlight php"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">include_once</span>(<span class="variable">$mainzone</span> . <span class="string">&quot;.php&quot;</span> ); </span><br><span class="line"><span class="comment">/*不用要&lt;?=?&gt;會出現 1 的文字*/</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>接下來所有的解題步驟會是後台 <mark>select, insert, update, delete</mark> ，前台只需 select</p>
<h2 id="後台的內容格式"><a href="#後台的內容格式" class="headerlink" title="後台的內容格式"></a>後台的內容格式</h2><ol>
<li>找到 <code>atitle.php</code> 表格中間，塞入 <code>php:select</code> 並帶入 <code>tr&gt;td</code> HTML 顯示</li>
<li>新增提交到 <code>view.php?do=titleadd</code>，保留原 onclick 結構不要動到。</li>
<li>form 提交到  <code>api.php?do=titlemdy</code></li>
<li>更新圖片提交到 <code>view.php?do=titlechg</code> 並夾帶 ID，保留原 onclick 結構不要動到。</li>
<li>注意 input 的 name 與 value 寫法，依自訂函式修改刪除有固定的宣告格式，請注意重點說明。</li>
</ol>
<h3 id="修改-atitle-php"><a href="#修改-atitle-php" class="headerlink" title="修改 atitle.php"></a>修改 atitle.php</h3><figure class="highlight html"><figcaption><span>atitle.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t cent botli&quot;</span>&gt;</span>網站標題管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=titlemdy&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;yel&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;45%&quot;</span>&gt;</span>網站標題<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;23%&quot;</span>&gt;</span>替代文字<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>顯示<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      $re = select(&quot;q1t3_title&quot;, 1);</span></span><br><span class="line"><span class="meta">      foreach ($re as $ro) &#123;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/&lt;?= $ro[&#x27;img&#x27;] ?&gt;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> <span class="attr">height</span>=<span class="string">&quot;30&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;text[&lt;?= $ro[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $ro[&#x27;text&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $ro[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $ro[&#x27;id&#x27;] ?&gt;&quot;</span> &lt;?= <span class="string">($ro[</span>&#x27;<span class="attr">dpy</span>&#x27;]) ? &quot;<span class="attr">checked</span>&quot; <span class="attr">:</span> &quot;&quot; ?&gt;</span>&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $ro[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=titlechg&amp;id=&lt;?= $ro[&#x27;id&#x27;] ?&gt;&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;更新圖片&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      &#125;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:40px; width:70%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=titleadd&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;新增網站標題圖片&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div class="note info"><p><strong>※重點※</strong></p>
<h3 id="批次修改說明"><a href="#批次修改說明" class="headerlink" title="批次修改說明"></a>批次修改說明</h3><p>lib.php 的 自訂函式 update 已設計成支援多筆資料更新。原理為使用陣列進行迴圈處理，最小單位一次只處理一個 SQL 欄位更新。每個最小變數將提供<code>id（索引 key), name（SQL 欄位）, value（內容值）</code>。</p>
<p>例如 input：</p>
<figure class="highlight html"><figcaption><span>form's method is post</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;text[7]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;內容 7&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;text[8]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;內容 8&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>這樣在自訂函式 <code>update($_POST,&quot;mytable&quot;)</code> 處理結果為：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> mytable <span class="keyword">SET</span> text<span class="operator">=</span><span class="string">&#x27;內容 7&#x27;</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">7</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> mytable <span class="keyword">SET</span> text<span class="operator">=</span><span class="string">&#x27;內容 8&#x27;</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">8</span>;</span><br></pre></td></tr></table></figure>

<p>radio 部分的 dpy 表單需求比較麻煩（全題組唯獨只有 q1t3 出現），需要特別處理：</p>
<ol>
<li>先設計 hidden 表單的 <code>dpy[id]</code> 全部都是 0。</li>
<li>接著 radio 表單負責告知已選取之 <code>id</code> 為多少。</li>
<li>由 api.php 將合併翻新 dpy[<code>id</code>]&#x3D;1，這樣最後的 dpy 陣列 除了指定 id 是 1，其他都是 0。</li>
</ol>
<p>舉例：</p>
<figure class="highlight html"><figcaption><span>form's method is post</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[1]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[2]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[3]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span> &lt;?= <span class="string">($ro[</span>&#x27;<span class="attr">dpy</span>&#x27;]) ? &quot;<span class="attr">checked</span>&quot; <span class="attr">:</span> &quot;&quot; ?&gt;</span>&gt;</span><br></pre></td></tr></table></figure>

<p>此時 3 做 dpy 唯一並送出後，得到 <code>dpy[]={0,0,0,0,...}</code> &amp; <code>radio=3</code>。因此我們要整理成 <code>dpy[]={0,0,1,0,...}</code> 方便做 UPDATE 批次暴力修改。</p>
<h3 id="批次刪除說明"><a href="#批次刪除說明" class="headerlink" title="批次刪除說明"></a>批次刪除說明</h3><p>自訂函式 delete 也是支援多筆刪除，原理也是批次處理成變數做 delete，但只需要 del 動作名稱與 id 對象即可。例如：</p>
<figure class="highlight html"><figcaption><span>form's method is post</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;7&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;8&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>則 <code>delete($_POST,&quot;mytable&quot;)</code>處理結果為：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> mytable <span class="keyword">where</span> id<span class="operator">=</span><span class="number">7</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> mytable <span class="keyword">where</span> id<span class="operator">=</span><span class="number">8</span>;</span><br></pre></td></tr></table></figure></div>

<h2 id="新增單筆"><a href="#新增單筆" class="headerlink" title="新增單筆"></a>新增單筆</h2><p>後續有多種不同操作進入 view.php，先設定好 switch-case 處理判斷 <code>titleadd</code> 處理，主要是顯示 HTML FORM。其次該表單將提交到 api.php，採有相同的 do 參數（同樣走 <code>do=titleadd</code>) 這能方便之後的快速複製。注意有用到檔案上傳因此 form 宣告 <code>enctype=&quot;multipart/form-data&quot;</code> 。</p>
<h3 id="建立-view-php"><a href="#建立-view-php" class="headerlink" title="建立 view.php"></a>建立 view.php</h3><figure class="highlight html"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">require_once(&quot;lib.php&quot;);</span></span><br><span class="line"><span class="meta">switch ($_GET[&#x27;do&#x27;]) &#123;</span></span><br><span class="line"><span class="meta">  case &#x27;titleadd&#x27;:</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=&lt;?= $_GET[&#x27;do&#x27;] ?&gt;&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t botli&quot;</span>&gt;</span>新增標題區圖片<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>標題區圖片 ： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;img&quot;</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>標題區替代文字 ： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;新增&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">    break;</span></span><br><span class="line"><span class="meta">&#125;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>接著，規劃 <code>titleadd</code> 的 api 提交動作，新增 case 透過 function 快速完成 insert，並回到 admin 首頁</p>
<h3 id="增添-api-php"><a href="#增添-api-php" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;titleadd&#x27;</span>:</span><br><span class="line">  <span class="variable">$_POST</span>[<span class="string">&#x27;img&#x27;</span>] = <span class="title function_ invoke__">addfile</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;img&#x27;</span>]);</span><br><span class="line">  <span class="title function_ invoke__">insert</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t3_title&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改多筆-刪除多筆"><a href="#修改多筆-刪除多筆" class="headerlink" title="修改多筆 + 刪除多筆"></a>修改多筆 + 刪除多筆</h2><ul>
<li>從前台試著操作多筆修改跟刪除按下送出。網頁會到 <code>api.php?do=titlemdy</code>，繼續此動作處理。</li>
<li>同時將 radio 與 <code>dpy[]</code> 整合為完整的 <code>dpy[]</code>，完成後回到後台頁面 admin.php</li>
<li>沒把握你可以在 case 內先下 <code>print_r($_POST)</code>，確認畫面的資料正不正常跟有哪些資料</li>
</ul>
<h3 id="增添-api-php-1"><a href="#增添-api-php-1" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;titlemdy&#x27;</span>:</span><br><span class="line">  <span class="variable">$_POST</span>[<span class="string">&#x27;dpy&#x27;</span>][<span class="variable">$_POST</span>[<span class="string">&#x27;radio&#x27;</span>]] = <span class="number">1</span>;</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t3_title&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t3_title&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改單一圖片"><a href="#修改單一圖片" class="headerlink" title="修改單一圖片"></a>修改單一圖片</h2><p>這時候的列表、新增、修改、刪除都可順利操作，只剩單一圖片修改將由 view.php 作業。可以拿前 case 來改，因為只有純上傳圖片我們需要 <code>$_GET</code> 藏一個 ID</p>
<h3 id="增添-view-php"><a href="#增添-view-php" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;titlechg&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&amp;id=&lt;?= <span class="subst">$_GET</span>[&#x27;id&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;修改標題區圖片&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;標題區圖片 ： &lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">img</span>&quot; <span class="title">type</span>=&quot;<span class="title">file</span>&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">value</span>=&quot;修改&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  <span class="title">break</span>;</span></span><br></pre></td></tr></table></figure>

<p>提交部分參考之前的 case 做修改，為了配合格式，將 id、欄位對象、新檔名整合成陣列變數送交給 update</p>
<h3 id="增添-api-php-2"><a href="#增添-api-php-2" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;titlechg&#x27;</span>:</span><br><span class="line">  <span class="variable">$_POST</span>[<span class="string">&#x27;img&#x27;</span>][<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]] = <span class="title function_ invoke__">addfile</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;img&#x27;</span>]);</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t3_title&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="前台顯示"><a href="#前台顯示" class="headerlink" title="前台顯示"></a>前台顯示</h2><p>由於 inde.php 代碼太多避免誤碰，前端所需 PHP 處理改寫在 lib.php 內，視同寫在 index.php （注意所有頁面都會繼承，故變數命名需注意）</p>
<h3 id="增添-lib-php"><a href="#增添-lib-php" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//t3</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t3_title&quot;</span>, <span class="string">&quot;dpy=1&quot;</span>);</span><br><span class="line"><span class="variable">$t3_img</span> = <span class="string">&quot;img/&quot;</span> . <span class="variable">$re</span>[<span class="number">0</span>][<span class="string">&#x27;img&#x27;</span>];</span><br><span class="line"><span class="variable">$t3_text</span> = <span class="variable">$re</span>[<span class="number">0</span>][<span class="string">&#x27;text&#x27;</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li>將 title 區域部分做修改（記得前面要有 include lib.php)，同時超連結順手一律導向 index.php（題目沒要求導向）</li>
<li>要求圖片替代文字素材卻用 background，不做推測，a 與 div 都給予 title 說明</li>
</ul>
<h3 id="修改-admin-php-login-php-index-php-news-php"><a href="#修改-admin-php-login-php-index-php-news-php" class="headerlink" title="修改 admin.php, login.php, index.php, news.php"></a>修改 admin.php, login.php, index.php, news.php</h3><figure class="highlight html"><figcaption><span>admin.php, login.php, index.php, news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">title</span>=<span class="string">&quot;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ti&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background:url(<span class="symbol">&amp;#39;</span>use/<span class="symbol">&amp;#39;</span>); background-size:cover;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!--標題--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>帶入 <code>$t3_img</code> 與 <code>$t3_text</code> 調整為</p>
<figure class="highlight html"><figcaption><span>admin.php, login.php, index.php, news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">title</span>=<span class="string">&quot;&lt;?= $t3_text ?&gt;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">title</span>=<span class="string">&quot;&lt;?= $t3_text ?&gt;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ti&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background:url(&lt;?= $t3_img ?&gt;); background-size:cover;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--標題--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>這時候要注意 login.php 跟 index.php 跟 news.php 都還沒有連結 lib.php。所以開頭記得補上</p>
<figure class="highlight php"><figcaption><span>login.php, index.php, news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">require_once</span>(<span class="string">&#x27;lib.php&#x27;</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-4-動態文字廣告-30"><a href="#No-4-動態文字廣告-30" class="headerlink" title="No.4 動態文字廣告 (30%)"></a>No.4 動態文字廣告 (30%)</h1><p>透過已完成的第三題，你可以很快地複製修改出此題的後台內容格式。</p>
<p><img src="https://i.imgur.com/CPhNg9q.png" alt="q1t4"></p>
<h2 id="後台的內容格式-1"><a href="#後台的內容格式-1" class="headerlink" title="後台的內容格式"></a>後台的內容格式</h2><ol>
<li>注意 input 的 name 與 value，宣告方法依據修改與刪除有所不同。</li>
<li>新增單項提交到 <code>view.php?do=maqeadd</code></li>
<li>form 提交到 <code>api.php?do=maqemdy</code></li>
<li>提交前另準備一組 <code>dpy[$id]=0</code>，這樣沒選的保持 0，有選的被覆蓋會是 1，update 時全體更新</li>
</ol>
<h3 id="新增-aad-php-（參考-atitle-php"><a href="#新增-aad-php-（參考-atitle-php" class="headerlink" title="新增 aad.php （參考 atitle.php)"></a>新增 aad.php （參考 atitle.php)</h3><figure class="highlight html"><figcaption><span>aad.html</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t cent botli&quot;</span>&gt;</span>動態文字廣告管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=maqemdy&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;yel&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;68%&quot;</span>&gt;</span>動態文字廣告<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>顯示<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      $re = select(&quot;q1t4_maqe&quot;, 1);</span></span><br><span class="line"><span class="meta">      foreach ($re as $value) &#123;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">style</span>=<span class="string">&quot;width:90%&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;text[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;text&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> &lt;?= <span class="string">($value[</span>&#x27;<span class="attr">dpy</span>&#x27;]) ? &quot;<span class="attr">checked</span>&quot; <span class="attr">:</span> &quot;&quot; ?&gt;</span>&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      &#125;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:40px; width:70%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=maqeadd&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;新增動態文字廣告&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="新增單筆-1"><a href="#新增單筆-1" class="headerlink" title="新增單筆"></a>新增單筆</h2><p>對 view.php 做新的 case 規劃（可複製前題 case 做修改）</p>
<h3 id="增添-view-php-1"><a href="#增添-view-php-1" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;maqeadd&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;新增動態文字廣告&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;動態文字廣告 ： &lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">text</span>&quot; <span class="title">type</span>=&quot;<span class="title">text</span>&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">value</span>=&quot;新增&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  <span class="title">break</span>;</span></span><br></pre></td></tr></table></figure>

<p>對 api.php 做 SQL 處理，接著回到該單元內容（可複製前題 case 做修改）。</p>
<h3 id="增添-api-php-3"><a href="#增添-api-php-3" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;maqeadd&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">insert</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t4_maqe&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=aad&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改多筆-刪除多筆-1"><a href="#修改多筆-刪除多筆-1" class="headerlink" title="修改多筆 + 刪除多筆"></a>修改多筆 + 刪除多筆</h2><p>從前台試著操作多筆修改跟刪除按下送出。網頁會到 api.php?do&#x3D;maqemdy。處理完成後回到後台頁面 admin.php</p>
<p>沒把握你可以在 case 內先下 print_r($_POST)，確認畫面的資料正不正常跟有哪些資料</p>
<h3 id="增添-api-php-4"><a href="#增添-api-php-4" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;maqemdy&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t4_maqe&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t4_maqe&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=aad&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="前台顯示-1"><a href="#前台顯示-1" class="headerlink" title="前台顯示"></a>前台顯示</h2><p>由於 inde.php 代碼太多避免誤碰，前端所需 PHP 處理改寫在 lib.php 內，視同寫在 index.php （注意所有頁面都會繼承，故變數命名需注意）</p>
<p>撈取文字並串為一個字串並用空白分開。</p>
<h3 id="增添-lib-php-1"><a href="#增添-lib-php-1" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//t4</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t4_maqe&quot;</span>, <span class="string">&quot;dpy=1&quot;</span>);</span><br><span class="line"><span class="variable">$t4_text</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$data</span>) <span class="variable">$t4_text</span> .= <span class="variable">$data</span>[<span class="string">&#x27;text&#x27;</span>] . <span class="string">&quot;　　&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>接著前端部分，將 marquee 區域部分標籤內增加 php 變數</p>
<h3 id="修改-login-php-index-php-news-php"><a href="#修改-login-php-index-php-news-php" class="headerlink" title="修改 login.php, index.php, news.php"></a>修改 login.php, index.php, news.php</h3><figure class="highlight html"><figcaption><span>login.php, index.php, news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">scrolldelay</span>=<span class="string">&quot;120&quot;</span> <span class="attr">direction</span>=<span class="string">&quot;left&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:absolute; width:100%; height:40px;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>帶入 <code>$t4_text</code> 改為</p>
<figure class="highlight html"><figcaption><span>login.php, index.php, news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">scrolldelay</span>=<span class="string">&quot;120&quot;</span> <span class="attr">direction</span>=<span class="string">&quot;left&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:absolute; width:100%; height:40px;&quot;</span>&gt;</span></span><br><span class="line">    &lt;?= $t4_text ?&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-5-動畫圖片輪播-30"><a href="#No-5-動畫圖片輪播-30" class="headerlink" title="No.5 動畫圖片輪播 (30%)"></a>No.5 動畫圖片輪播 (30%)</h1><p>透過前面的操作完成，可以很快地複製修改出此題的後台內容格式。</p>
<p><img src="https://i.imgur.com/Gb8Pbqb.png" alt="q1t5"></p>
<h2 id="後台的內容格式-2"><a href="#後台的內容格式-2" class="headerlink" title="後台的內容格式"></a>後台的內容格式</h2><ol>
<li>注意 input 的 name 與 value，宣告方法依據修改與刪除有所不同。</li>
<li>新增單項提交到 <code>view.php?do=mvimadd</code></li>
<li>form 提交到 <code>api.php?do=mvimmdy</code></li>
<li>更新動畫提交到 <code>view.php?do=mvimchg</code> 並夾帶 ID</li>
<li>提交前另準備一組 <code>dpy[$id]=0</code>，這樣沒選的保持 0，有選的被覆蓋會是 1，update 時全體更新</li>
</ol>
<h3 id="新增-amvim-php（參考-atitle-php"><a href="#新增-amvim-php（參考-atitle-php" class="headerlink" title="新增 amvim.php（參考 atitle.php)"></a>新增 amvim.php（參考 atitle.php)</h3><figure class="highlight html"><figcaption><span>amvim.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t cent botli&quot;</span>&gt;</span>動畫圖片管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=mvimmdy&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;yel&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;68%&quot;</span>&gt;</span>動畫圖片<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>顯示<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      $re = select(&quot;q1t5_mvim&quot;, 1);</span></span><br><span class="line"><span class="meta">      foreach ($re as $value) &#123;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&quot;img/&lt;?= $value[&#x27;text&#x27;] ?&gt;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> &lt;?= <span class="string">($value[</span>&#x27;<span class="attr">dpy</span>&#x27;]) ? &quot;<span class="attr">checked</span>&quot; <span class="attr">:</span> &quot;&quot; ?&gt;</span>&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=mvimchg&amp;id=&lt;?= $value[&#x27;id&#x27;] ?&gt;&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;更換動畫&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      &#125;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:40px; width:70%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=mvimadd&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;新增動畫圖片&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="新增單筆-2"><a href="#新增單筆-2" class="headerlink" title="新增單筆"></a>新增單筆</h2><p>對 view.php 做新的 case 規劃（可複製前題 case 做修改）</p>
<h3 id="增添-view-php-2"><a href="#增添-view-php-2" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;mvimadd&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;新增動畫圖片&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;動畫圖片 ： &lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">img</span>&quot; <span class="title">type</span>=&quot;<span class="title">file</span>&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">value</span>=&quot;新增&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  <span class="title">break</span>;</span></span><br></pre></td></tr></table></figure>

<p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-5"><a href="#增添-api-php-5" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;mvimadd&#x27;</span>:</span><br><span class="line">  <span class="variable">$_POST</span>[<span class="string">&#x27;text&#x27;</span>] = <span class="title function_ invoke__">addfile</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;img&#x27;</span>]);</span><br><span class="line">  <span class="title function_ invoke__">insert</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t5_mvim&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=amvim&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改多筆-刪除多筆-2"><a href="#修改多筆-刪除多筆-2" class="headerlink" title="修改多筆 + 刪除多筆"></a>修改多筆 + 刪除多筆</h2><p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-6"><a href="#增添-api-php-6" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;mvimmdy&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t5_mvim&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t5_mvim&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=amvim&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改單一圖片-1"><a href="#修改單一圖片-1" class="headerlink" title="修改單一圖片"></a>修改單一圖片</h2><p>這時候的新增修改刪除都可以順利操作，只剩換圖作業。可以拿前一 case 來改一下。因為只有純上傳，我們需要藏一個 ID</p>
<h3 id="增添-view-php-3"><a href="#增添-view-php-3" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;mvimchg&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&amp;id=&lt;?= <span class="subst">$_GET</span>[&#x27;id&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;修改動畫圖片&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;標題區圖片 ： &lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">img</span>&quot; <span class="title">type</span>=&quot;<span class="title">file</span>&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">value</span>=&quot;修改&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  <span class="title">break</span>;</span></span><br></pre></td></tr></table></figure>

<p>提交部分參考之前的 case 做修改，為了配合格式，將 id、欄位對象、新檔名整合成陣列變數送交給 update</p>
<h3 id="增添-api-php-7"><a href="#增添-api-php-7" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;mvimchg&#x27;</span>:</span><br><span class="line">  <span class="variable">$_POST</span>[<span class="string">&#x27;text&#x27;</span>][<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]] = <span class="title function_ invoke__">addfile</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;img&#x27;</span>]);</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t5_mvim&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=amvim&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<p>此時到這裡，後台的功能已設計完成。接下來是在各版型內顯示該 title 圖片</p>
<h2 id="前台的動畫顯示"><a href="#前台的動畫顯示" class="headerlink" title="前台的動畫顯示"></a>前台的動畫顯示</h2><p>先撈取出 mvim 的所有檔案路徑，先存在一個 array。之後會用到</p>
<h3 id="增添-lib-php-2"><a href="#增添-lib-php-2" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//t5</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t5_mvim&quot;</span>, <span class="string">&quot;dpy=1&quot;</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$data</span>) <span class="variable">$t5_ary</span>[] = <span class="string">&quot;img/&quot;</span> . <span class="variable">$data</span>[<span class="string">&#x27;text&#x27;</span>];</span><br></pre></td></tr></table></figure>

<p>題目已經做好 js 的輪播工具。透過理解知道由一個 JS 陣列變數 lin 進行抽換。所以我們要幫所有圖片塞入到該陣列。php 的 array 要塞到 js 的陣列可使用 json_encode 來快速完成。貪快可把宣告 new array 給直接指定了。</p>
<h3 id="修改-index-php"><a href="#修改-index-php" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><figure class="highlight javascript"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> lin=<span class="keyword">new</span> <span class="title class_">Array</span>();</span><br></pre></td></tr></table></figure>

<p>修改為</p>
<figure class="highlight javascript"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> lin = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">lin = &lt;?= <span class="title function_">json_encode</span>($t5_ary) ?&gt;;</span><br></pre></td></tr></table></figure>

<p>此時就能正常播放。但初始畫面有 3 秒的空窗沒東西。這是題目設計沒弄好。如果要修正可調整兩點（可以不做）</p>
<ol>
<li>網頁執行時，應該先出現 DIV 再有 JS（才能抓到 DOM 位置），原題目顛倒。</li>
<li>if 內負責等待三秒，應該在等待三秒前先跑一次 html 印出</li>
</ol>
<p>調整原段</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--正中央--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> lin = <span class="keyword">new</span> <span class="title class_">Array</span>();</span></span><br><span class="line"><span class="language-javascript">    lin = &lt;?=<span class="title function_">json_encode</span>($t5_ary)?&gt;;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span>(lin.<span class="property">length</span>&gt;<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setInterval</span>(<span class="string">&quot;ww()&quot;</span>,<span class="number">3000</span>);</span></span><br><span class="line"><span class="language-javascript">        now=<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">ww</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#mwww&quot;</span>).<span class="title function_">html</span>(<span class="string">&quot;&lt;embed loop=true src=&#x27;&quot;</span>+lin[now]+<span class="string">&quot;&#x27; style=&#x27;width:99%; height:100%;&#x27;&gt;&lt;/embed&gt;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//$(&quot;#mwww&quot;).attr(&quot;src&quot;,lin[now])</span></span></span><br><span class="line"><span class="language-javascript">        now++;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>(now&gt;=lin.<span class="property">length</span>)</span></span><br><span class="line"><span class="language-javascript">        now=<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:100%; padding:2px; height:290px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mwww&quot;</span> <span class="attr">loop</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%; height:100%;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:99%; height:100%; position:relative;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>沒有資料<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修正為</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--正中央--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:100%; padding:2px; height:290px;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mwww&quot;</span> <span class="attr">loop</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%; height:100%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:99%; height:100%; position:relative;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>沒有資料<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> lin = <span class="keyword">new</span> <span class="title class_">Array</span>();</span></span><br><span class="line"><span class="language-javascript">  lin = &lt;?= <span class="title function_">json_encode</span>($t5_ary) ?&gt;;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> now = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">ww</span>(); <span class="comment">// 修正初始沒資料畫面</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">if</span> (lin.<span class="property">length</span> &gt; <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">setInterval</span>(<span class="string">&quot;ww()&quot;</span>, <span class="number">3000</span>);</span></span><br><span class="line"><span class="language-javascript">    now = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">ww</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&quot;#mwww&quot;</span>).<span class="title function_">html</span>(<span class="string">&quot;&lt;embed loop=true src=&#x27;&quot;</span> + lin[now] + <span class="string">&quot;&#x27; style=&#x27;width:99%; height:100%;&#x27;&gt;&lt;/embed&gt;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//$(&quot;#mwww&quot;).attr(&quot;src&quot;,lin[now])</span></span></span><br><span class="line"><span class="language-javascript">    now++;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (now &gt;= lin.<span class="property">length</span>)</span></span><br><span class="line"><span class="language-javascript">      now = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-6-校園映像-40"><a href="#No-6-校園映像-40" class="headerlink" title="No.6 校園映像 (40%)"></a>No.6 校園映像 (40%)</h1><p>與第五題的後台版面比較相近，可以拿來很快複製修改出第六題的內容格式。</p>
<p><img src="https://i.imgur.com/A2jlOsP.png" alt="q1t6"></p>
<h2 id="後台的內容格式-3"><a href="#後台的內容格式-3" class="headerlink" title="後台的內容格式"></a>後台的內容格式</h2><ol>
<li>調整 aimage.php 表格中間，塞入 php:select 並帶入 tr&gt;td HTML 顯示。每次只顯示 3 筆，所以要設定 limit 與 page 關係</li>
<li>新增單項提交到 <code>view.php?do=imageadd</code></li>
<li>form 提交到 <code>api.php?do=imagemdy</code></li>
<li>更新動畫提交到 <code>view.php?do=imagechg</code>，並夾帶 ID</li>
<li>這裡還要多個分頁效果步驟，先把畫面都能一次可呈現之後再設計分頁</li>
<li>提交前另準備一組 dpy[$id]&#x3D;0，這樣沒選的保持 0，有選的被覆蓋會是 1，update 時全體更新</li>
</ol>
<h3 id="新增-aimage-php（參考-amvim-php"><a href="#新增-aimage-php（參考-amvim-php" class="headerlink" title="新增 aimage.php（參考 amvim.php)"></a>新增 aimage.php（參考 amvim.php)</h3><figure class="highlight html"><figcaption><span>aimage.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t cent botli&quot;</span>&gt;</span>校園映像資料管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=imagemdy&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;yel&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;68%&quot;</span>&gt;</span>校園映像資料圖片<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>顯示<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      $nowpage = (empty($_GET[&#x27;page&#x27;])) ? 1 : $_GET[&#x27;page&#x27;];</span></span><br><span class="line"><span class="meta">      $begin = ($nowpage - 1) * 3;</span></span><br><span class="line"><span class="meta">      $re = select(&quot;q1t6_img&quot;, &quot;1 limit &quot; . $begin . &quot;,3&quot;);</span></span><br><span class="line"><span class="meta">      foreach ($re as $value) &#123;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&quot;img/&lt;?= $value[&#x27;text&#x27;] ?&gt;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">height</span>=<span class="string">&quot;68&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> &lt;?= <span class="string">($value[</span>&#x27;<span class="attr">dpy</span>&#x27;]) ? &quot;<span class="attr">checked</span>&quot; <span class="attr">:</span> &quot;&quot; ?&gt;</span>&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=imagechg&amp;id=&lt;?= $value[&#x27;id&#x27;] ?&gt;&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;更換圖片&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      &#125;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:40px; width:70%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=imageadd&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;新增校園映像圖片&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>此時可以在 URL 上面多加個 <code>&amp;page=2</code> 做測試，是否正常的 limit。</li>
<li>接著規劃分頁導覽，從 news.php 那裏偷來現成的 HTML&#x2F;CSS 長這樣</li>
</ul>
<figure class="highlight php"><figcaption><span>news.php</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;div style=<span class="string">&quot;text-align:center;&quot;</span>&gt;</span><br><span class="line">    &lt;a <span class="class"><span class="keyword">class</span>=&quot;<span class="title">bl</span>&quot; <span class="title">style</span>=&quot;<span class="title">font</span>-<span class="title">size</span>:30<span class="title">px</span>;&quot; <span class="title">href</span>=&quot;?<span class="title">do</span>=<span class="title">meg</span>&amp;<span class="title">p</span>=0&quot;&gt;&amp;<span class="title">lt</span>;&amp;<span class="title">nbsp</span>;&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">a</span> <span class="title">class</span>=&quot;<span class="title">bl</span>&quot; <span class="title">style</span>=&quot;<span class="title">font</span>-<span class="title">size</span>:30<span class="title">px</span>;&quot; <span class="title">href</span>=&quot;?<span class="title">do</span>=<span class="title">meg</span>&amp;<span class="title">p</span>=0&quot;&gt;&amp;<span class="title">nbsp</span>;&amp;<span class="title">gt</span>;&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>把這段塞到版型下面，也就是兩個 table 之間修改成。同時做兩件事</p>
<ol>
<li>由於分頁導航使用 <code>function page($table,$sql,$range,$now_page)</code></li>
<li>回傳會是一個陣列包了頭 <kbd><</kbd>、連續數字、尾 <kbd>></kbd>，且各自帶 page 值，用 foreach 做印出</li>
<li>同時判斷如果是當前頁等於印出的文字時，字體放大</li>
</ol>
<figure class="highlight html"><figcaption><span>aimage.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;&quot;</span>&gt;</span></span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">  $re = navpage(&quot;q1t6_img&quot;, 1, 3, $nowpage);</span></span><br><span class="line"><span class="meta">  foreach ($re as $key =&gt; $value)</span></span><br><span class="line"><span class="meta">    echo &#x27;&lt;a class=&quot;bl&quot; style=&quot;font-size:&#x27; . (($nowpage == $key) ? &quot;60&quot; : &quot;30&quot;) . &#x27;px;&quot; href=&quot;?do=aimage&amp;page=&#x27; . $value . &#x27;&quot;&gt;&#x27; . $key . &#x27;&lt;/a&gt;&#x27;;</span></span><br><span class="line"><span class="meta">  ?&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="新增單筆-3"><a href="#新增單筆-3" class="headerlink" title="新增單筆"></a>新增單筆</h2><p>對 view.php 做新的 case 規劃 （可複製前題目做修改）</p>
<h3 id="增添-view-php-4"><a href="#增添-view-php-4" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;imageadd&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;新增校園映像圖片&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;校園映像圖片 ： &lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">img</span>&quot; <span class="title">type</span>=&quot;<span class="title">file</span>&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">value</span>=&quot;新增&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  <span class="title">break</span>;</span></span><br></pre></td></tr></table></figure>

<p>接著，對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-8"><a href="#增添-api-php-8" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;imageadd&#x27;</span>:</span><br><span class="line">  <span class="variable">$_POST</span>[<span class="string">&#x27;text&#x27;</span>] = <span class="title function_ invoke__">addfile</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;img&#x27;</span>]);</span><br><span class="line">  <span class="title function_ invoke__">insert</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t6_img&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=aimage&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改多筆-刪除多筆-3"><a href="#修改多筆-刪除多筆-3" class="headerlink" title="修改多筆 + 刪除多筆"></a>修改多筆 + 刪除多筆</h2><p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-9"><a href="#增添-api-php-9" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;imagemdy&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t6_img&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t6_img&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=aimage&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改單一圖片-2"><a href="#修改單一圖片-2" class="headerlink" title="修改單一圖片"></a>修改單一圖片</h2><p>這時候的新增修改刪除都可以順利操作，只剩單圖片更改作業。完成 view.php。可以拿前一 case 來改一下</p>
<h3 id="增添-view-php-5"><a href="#增添-view-php-5" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;imagechg&#x27;</span>:</span><br><span class="line">  <span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&amp;id=&lt;?= <span class="subst">$_GET</span>[&#x27;id&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;修改校園映像圖片&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;校園映像圖片 ： &lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">img</span>&quot; <span class="title">type</span>=&quot;<span class="title">file</span>&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">value</span>=&quot;修改&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  <span class="title">break</span>;</span></span><br></pre></td></tr></table></figure>

<p>接著，參考之前的 case，同時為了配合 function，將 id 跟 file 合併為一個陣列</p>
<h3 id="增添-api-php-10"><a href="#增添-api-php-10" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;imagechg&#x27;</span>:</span><br><span class="line">  <span class="variable">$_POST</span>[<span class="string">&#x27;text&#x27;</span>][<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]] = <span class="title function_ invoke__">addfile</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;img&#x27;</span>]);</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t6_img&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=aimage&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>
<p>此時到這裡，後台的功能已設計完成。接下來是在各版型內顯示該 title 圖片</p>
<h2 id="前台的顯示格式"><a href="#前台的顯示格式" class="headerlink" title="前台的顯示格式"></a>前台的顯示格式</h2><p>題目已經做好 js 的輪播代碼但沒有提供 HTML 真差勁，因此先分析再猜想原構。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> nowpage=<span class="number">0</span>,num=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">pp</span>(<span class="params">x</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> s,t;</span><br><span class="line">    <span class="keyword">if</span>(x==<span class="number">1</span>&amp;&amp;nowpage-<span class="number">1</span>&gt;=<span class="number">0</span>) &#123;nowpage--;&#125;</span><br><span class="line">    <span class="keyword">if</span>(x==<span class="number">2</span>&amp;&amp;(nowpage+<span class="number">1</span>)*<span class="number">3</span>&lt;=num*<span class="number">1</span>+<span class="number">3</span>) &#123;nowpage++;&#125;</span><br><span class="line">    $(<span class="string">&quot;.im&quot;</span>).<span class="title function_">hide</span>()</span><br><span class="line">    <span class="keyword">for</span>(s=<span class="number">0</span>;s&lt;=<span class="number">2</span>;s++)&#123;</span><br><span class="line">        t=s*<span class="number">1</span>+nowpage*<span class="number">1</span>;</span><br><span class="line">        $(<span class="string">&quot;#ssaa&quot;</span>+t).<span class="title function_">show</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">pp</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>大致上理解每次操作會對所有 class&#x3D;im 的對象做隱藏，而只對 id&#x3D;ssaa+數字做顯示。function pp() 會根據目前參數 x 是多少做對應的 nowpage 增減 (x 只會是 1 或 2)，nowpage 會去自動推算那些 <code>#ssaa+數字</code> 要顯示。所以大致上的 HTML 應該長這樣：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;上箭頭&quot;</span> <span class="attr">onclick</span>=<span class="string">pp(1)</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;im&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ssaa0&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;im&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ssaa1&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;im&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ssaa2&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;im&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ssaa3&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;下箭頭&quot;</span> <span class="attr">onclick</span>=<span class="string">pp(2)</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>將 img 這些 HTML 段落，寫在 select 時規劃好。這裡的$key 沒有特別值，會是 0 開始</p>
<h3 id="增添-lib-php-3"><a href="#增添-lib-php-3" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//t6</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t6_img&quot;</span>, <span class="string">&quot;dpy=1&quot;</span>);</span><br><span class="line"><span class="variable">$t6_many</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$re</span>);</span><br><span class="line"><span class="variable">$t6_text</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>) <span class="variable">$t6_text</span> .= <span class="string">&#x27;&lt;img src=&quot;img/&#x27;</span> . <span class="variable">$value</span>[<span class="string">&#x27;text&#x27;</span>] . <span class="string">&#x27;&quot; class=&quot;im&quot; id=&quot;ssaa&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;&quot; width=&quot;150&quot; height=&quot;103&quot;/&gt;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>接著有三個頁面要一起改，找到該區域</p>
<h3 id="修改-index-php-login-php-news-php"><a href="#修改-index-php-login-php-news-php" class="headerlink" title="修改 index.php &amp; login.php &amp; news.php"></a>修改 index.php &amp; login.php &amp; news.php</h3><figure class="highlight html"><figcaption><span>index.php & login.php & news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;t botli&quot;</span>&gt;</span>校園映象區<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>整合 php 與調整 HTML，修改為</p>
<figure class="highlight html"><figcaption><span>index.php & login.php & news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;t botli&quot;</span>&gt;</span>校園映象區<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span> <span class="attr">style</span>=<span class="string">&quot;padding:10px 20px&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/01E01.jpg&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;pp(1)&quot;</span>&gt;</span></span><br><span class="line">	&lt;?= $t6_text ?&gt;</span><br><span class="line">	<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/01E02.jpg&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;pp(2)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>此時還不能完全正常操作。因為 JS 的資料有 2 點錯誤：</p>
<ol>
<li><code>var num=0;</code> 這部分是指總數量。所以要給 JS 一個總圖數。</li>
<li><code>if(x==2&amp;&amp;(nowpage+1)*3&amp;lt;=num*1+3)</code> 這裡計算方式錯誤，應該是下個頁碼跳點將不是最後頁碼跳點（最後的秀圖跳點會是總數減三。</li>
</ol>
<p>因此修改為</p>
<figure class="highlight javascript"><figcaption><span>index.php & login.php & news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> nowpage = <span class="number">0</span>, num = &lt;?= $t6_many ?&gt;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">pp</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> s, t;</span><br><span class="line">  <span class="keyword">if</span> (x == <span class="number">1</span> &amp;&amp; nowpage - <span class="number">1</span> &gt;= <span class="number">0</span>) nowpage--; <span class="comment">//往前</span></span><br><span class="line">  <span class="keyword">if</span> (x == <span class="number">2</span> &amp;&amp; nowpage + <span class="number">1</span> &lt;= num - <span class="number">3</span>) nowpage++; <span class="comment">//往後</span></span><br><span class="line">  $(<span class="string">&quot;.im&quot;</span>).<span class="title function_">hide</span>()</span><br><span class="line">  <span class="keyword">for</span> (s = <span class="number">0</span>; s &lt;= <span class="number">2</span>; s++) &#123;</span><br><span class="line">    t = s * <span class="number">1</span> + nowpage * <span class="number">1</span>;</span><br><span class="line">    $(<span class="string">&quot;#ssaa&quot;</span> + t).<span class="title function_">show</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">pp</span>(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h1 id="No-7-進站總人數-20"><a href="#No-7-進站總人數-20" class="headerlink" title="No.7 進站總人數 (20%)"></a>No.7 進站總人數 (20%)</h1><p>這題很簡單，如法炮製隨便找個類似來改<br><img src="https://i.imgur.com/fo48pnO.png" alt="q1t7"></p>
<h2 id="修改後台的內容格式"><a href="#修改後台的內容格式" class="headerlink" title="修改後台的內容格式"></a>修改後台的內容格式</h2><ul>
<li>整個複製版型後，根據需求做修改調整。題目沒要求是否帶舊值（示意圖有）你可以不做。</li>
<li>記得 from 提交改成到 do&#x3D;totalmdy。要記得 id 固定是 1</li>
</ul>
<h3 id="新增-atotal-php（參考-atitle-php"><a href="#新增-atotal-php（參考-atitle-php" class="headerlink" title="新增 atotal.php（參考 atitle.php)"></a>新增 atotal.php（參考 atitle.php)</h3><figure class="highlight html"><figcaption><span>atotal.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">$re = select(&quot;q1t7_total&quot;, 1);</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=totalmdy&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t botli&quot;</span>&gt;</span>進站總人數管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>進站總人數 ： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;num[1]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $re[0][&#x27;num&#x27;] ?&gt;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>再來對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-11"><a href="#增添-api-php-11" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;totalmdy&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t7_total&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=atotal&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="前台的-total-顯示格式"><a href="#前台的-total-顯示格式" class="headerlink" title="前台的 total 顯示格式"></a>前台的 total 顯示格式</h2><p>增加以下代碼做提取準備。同時判別如果沒 SESSION 紀錄，先 update 更新+1 並更新此值。（透過我們設計的 num+1，函式會自動加 1，不用管原本是多少）</p>
<h3 id="增添-lib-php-4"><a href="#增添-lib-php-4" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//t7</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;visit&#x27;</span>])) &#123;</span><br><span class="line">  <span class="variable">$_SESSION</span>[<span class="string">&#x27;visit&#x27;</span>] = <span class="string">&quot;check&quot;</span>;</span><br><span class="line">  <span class="variable">$post</span>[<span class="string">&#x27;num+1&#x27;</span>] = <span class="number">1</span>;</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$post</span>, <span class="string">&quot;q1t7_total&quot;</span>);</span><br><span class="line">&#125; <span class="comment">//先判斷是否更新，之後才撈取</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t7_total&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="variable">$t7_text</span> = <span class="variable">$re</span>[<span class="number">0</span>][<span class="string">&#x27;num&#x27;</span>];</span><br></pre></td></tr></table></figure>

<p>再來將進站總人數區域部分標籤內增加 php 變數</p>
<h3 id="修改-admin-php-login-php-index-php-news-php-1"><a href="#修改-admin-php-login-php-index-php-news-php-1" class="headerlink" title="修改 admin.php &amp; login.php &amp; index.php &amp; news.php"></a>修改 admin.php &amp; login.php &amp; index.php &amp; news.php</h3><figure class="highlight html"><figcaption><span>admin.php & login.php & index.php & news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;t&quot;</span>&gt;</span>進站總人數 :1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>改為 admin.php &amp; login.php &amp; index.php &amp; news.php</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;t&quot;</span>&gt;</span>進站總人數 : &lt;?= $t7_text ?&gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-8-頁尾版權-10"><a href="#No-8-頁尾版權-10" class="headerlink" title="No.8 頁尾版權 (10%)"></a>No.8 頁尾版權 (10%)</h1><p>就拿第 7 題來改吧<br><img src="https://i.imgur.com/Uz7ESVU.png" alt="q1t8"></p>
<h2 id="修改後台的內容格式-1"><a href="#修改後台的內容格式-1" class="headerlink" title="修改後台的內容格式"></a>修改後台的內容格式</h2><p>整個複製版型後，根據需求做修改調整。題目未要求帶原值可自決定。記得 from 提交改成到 <code>do=footermdy</code>。</p>
<h3 id="新增-abottom-php（參考-atotal-php"><a href="#新增-abottom-php（參考-atotal-php" class="headerlink" title="新增 abottom.php（參考 atotal.php)"></a>新增 abottom.php（參考 atotal.php)</h3><figure class="highlight html"><figcaption><span>abottom.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">$re = select(&quot;q1t8_footer&quot;, 1);</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=footermdy&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t botli&quot;</span>&gt;</span>頁尾版權資料管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span>頁尾版權資料 ： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;text[1]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $re[0][&#x27;text&#x27;] ?&gt;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-12"><a href="#增添-api-php-12" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;footermdy&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t8_footer&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=abottom&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="前台的顯示"><a href="#前台的顯示" class="headerlink" title="前台的顯示"></a>前台的顯示</h2><p>增加以下代碼做提取</p>
<h3 id="增添-lib-php-5"><a href="#增添-lib-php-5" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//t8</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t8_footer&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="variable">$t8_text</span> = <span class="variable">$re</span>[<span class="number">0</span>][<span class="string">&#x27;text&#x27;</span>];</span><br></pre></td></tr></table></figure>

<p>將所有的進站總人數區域部分標籤內增加 php 變數</p>
<h3 id="修改-admin-php-login-php-index-php-news-php-2"><a href="#修改-admin-php-login-php-index-php-news-php-2" class="headerlink" title="修改 admin.php &amp; login.php &amp; index.php &amp; news.php"></a>修改 admin.php &amp; login.php &amp; index.php &amp; news.php</h3><figure class="highlight php"><figcaption><span>admin.php & login.php & index.php & news.php</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;span <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span>&quot; <span class="title">style</span>=&quot;<span class="title">line</span>-<span class="title">height</span>:123<span class="title">px</span>;&quot;&gt;&lt;/<span class="title">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>帶入 <code>$t8_text</code> 改為</p>
<figure class="highlight php"><figcaption><span>admin.php & login.php & index.php & news.php</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;span <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span>&quot; <span class="title">style</span>=&quot;<span class="title">line</span>-<span class="title">height</span>:123<span class="title">px</span>;&quot;&gt;&lt;?= $<span class="title">t8_text</span> ?&gt;&lt;/<span class="title">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-9-最新消息-55"><a href="#No-9-最新消息-55" class="headerlink" title="No.9 最新消息 (55%)"></a>No.9 最新消息 (55%)</h1><p>此題目與第六題都是文字類型管理，從此複製開始修改</p>
<p><img src="https://i.imgur.com/Uhxt0cY.png" alt="q1t9"></p>
<h2 id="後台的內容格式-4"><a href="#後台的內容格式-4" class="headerlink" title="後台的內容格式"></a>後台的內容格式</h2><ol>
<li>從複製版型開始，根據需求做修改調整</li>
<li>新增單項提交到 <code>view.php?do=newsadd</code></li>
<li>form 的提交到 <code>api.php?do=newsmdy</code></li>
<li>提交前多一組 <code>dpy[$id]=0</code>，這樣沒選的會是 0，有選的會是 1，update 時一律更新</li>
<li>後台題目沒要求分頁效果（可不做但前台有），本題根據示意圖有特別去做，設計 limit 與 page 關係</li>
</ol>
<h3 id="新增-anews-php（參考-aimage-php"><a href="#新增-anews-php（參考-aimage-php" class="headerlink" title="新增 anews.php（參考 aimage.php)"></a>新增 anews.php（參考 aimage.php)</h3><figure class="highlight html"><figcaption><span>anews.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t cent botli&quot;</span>&gt;</span>最新消息資料管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=newsmdy&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;yel&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;68%&quot;</span>&gt;</span>最新消息資料內容<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>顯示<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      $nowpage = (empty($_GET[&#x27;page&#x27;])) ? 1 : $_GET[&#x27;page&#x27;];</span></span><br><span class="line"><span class="meta">      $begin = ($nowpage - 1) * 4;</span></span><br><span class="line"><span class="meta">      $re = select(&quot;q1t9_news&quot;, &quot;1 limit &quot; . $begin . &quot;,4&quot;);</span></span><br><span class="line"><span class="meta">      foreach ($re as $value) &#123;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;text[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;70&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;3&quot;</span>&gt;</span>&lt;?= $value[&#x27;text&#x27;] ?&gt;<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> &lt;?= <span class="string">($value[</span>&#x27;<span class="attr">dpy</span>&#x27;]) ? &quot;<span class="attr">checked</span>&quot; <span class="attr">:</span> &quot;&quot; ?&gt;</span>&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      &#125;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:40px; width:70%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=newsadd&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;新增最新消息圖片&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>添加分頁到兩個 table 之間</p>
<figure class="highlight html"><figcaption><span>anews.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;&quot;</span>&gt;</span></span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">  $re = navpage(&quot;q1t9_news&quot;, 1, 4, $nowpage);</span></span><br><span class="line"><span class="meta">  foreach ($re as $key =&gt; $value) &#123;</span></span><br><span class="line"><span class="meta">    echo &#x27;&lt;a class=&quot;bl&quot; style=&quot;font-size:&#x27; . (($nowpage == $key) ? &quot;60&quot; : &quot;30&quot;) . &#x27;px;&quot; href=&quot;?do=anews&amp;page=&#x27; . $value . &#x27;&quot;&gt;&#x27; . $key . &#x27;&lt;/a&gt;&#x27;;</span></span><br><span class="line"><span class="meta">  &#125;</span></span><br><span class="line"><span class="meta">  ?&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="新增單筆-4"><a href="#新增單筆-4" class="headerlink" title="新增單筆"></a>新增單筆</h2><p>對 view.php 做新的 case 規劃 （可複製前題目做修改）</p>
<h3 id="增添-view-php-6"><a href="#增添-view-php-6" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;newsadd&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;新增最新消息資料&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">span</span> <span class="title">style</span>=&quot;<span class="title">vertical</span>-<span class="title">align</span>:<span class="title">top</span>;&quot;&gt;最新消息資料 ： &lt;/<span class="title">span</span>&gt;&lt;<span class="title">textarea</span> <span class="title">name</span>=&quot;<span class="title">text</span>&quot;&gt;&lt;/<span class="title">textarea</span>&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">value</span>=&quot;新增&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  <span class="title">break</span>;</span></span><br></pre></td></tr></table></figure>

<p>再來是對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-13"><a href="#增添-api-php-13" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;newsadd&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">insert</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t9_news&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=anews&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改多筆-刪除多筆-4"><a href="#修改多筆-刪除多筆-4" class="headerlink" title="修改多筆 + 刪除多筆"></a>修改多筆 + 刪除多筆</h2><p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-14"><a href="#增添-api-php-14" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;newsmdy&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t9_news&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t9_news&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=anews&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="前台的顯示-1"><a href="#前台的顯示-1" class="headerlink" title="前台的顯示"></a>前台的顯示</h2><ol>
<li>撈取之前，題目說明最多抓五個，超過時判斷 more 的顯示條件。</li>
<li>前台使用 <code>&lt;il&gt;&lt;/il&gt;</code> 去列表，只顯示部分字，利用 <code>mb_substr(DATA,START,RANGE)</code> 來處理此步驟。</li>
<li>滑鼠移過去時會自動跳完整內文，採用素材 JS 去完成</li>
<li>將 JS 分析出來，原 HTML 在 <code>&lt;ul&gt;&lt;/ul&gt;</code> 內部，推測格式結構為：</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;ssaa&quot;</span> <span class="attr">style</span>=<span class="string">&quot;list-style-type:decimal;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>少量文字<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;all&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none&quot;</span>&gt;</span>完整文字<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>此時開始規劃<code>More..</code>跟<code>多筆&lt;li&gt;</code>的 HTML 提取</p>
<h3 id="增添-lib-php-6"><a href="#增添-lib-php-6" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//t9</span></span><br><span class="line"><span class="comment">//for index.php</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t9_news&quot;</span>, <span class="string">&quot;dpy=1&quot;</span>);</span><br><span class="line"><span class="variable">$t9_more</span> = (<span class="title function_ invoke__">count</span>(<span class="variable">$re</span>) &gt; <span class="number">5</span>) ? <span class="string">&#x27;&lt;a style=&quot;float:right&quot; href=&quot;news.php&quot;&gt;More..&lt;/a&gt;&#x27;</span> : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t9_news&quot;</span>, <span class="string">&quot;dpy=1 limit 5&quot;</span>);</span><br><span class="line"><span class="variable">$t9_text</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$data</span>)</span><br><span class="line">  <span class="variable">$t9_text</span> .= <span class="string">&#x27;&lt;li&gt;&#x27;</span> . <span class="title function_ invoke__">mb_substr</span>(<span class="variable">$data</span>[<span class="string">&#x27;text&#x27;</span>], <span class="number">0</span>, <span class="number">20</span>) . <span class="string">&#x27;&lt;span class=&quot;all&quot; style=&quot;display:none&quot;&gt;&#x27;</span> . <span class="variable">$data</span>[<span class="string">&#x27;text&#x27;</span>] . <span class="string">&#x27;&lt;/span&gt;&lt;/li&gt;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>到前台調整 more 的出現時機，塞在標題右側</li>
<li>調整修改並加入 PHP 變數，(li 做在 lib.php 內）</li>
</ul>
<h3 id="修改-index-php-1"><a href="#修改-index-php-1" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;span <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;最新消息區</span></span><br><span class="line"><span class="class">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">ul</span> <span class="title">class</span>=&quot;<span class="title">ssaa</span>&quot; <span class="title">style</span>=&quot;<span class="title">list</span>-<span class="title">style</span>-<span class="title">type</span>:<span class="title">decimal</span>;&quot;&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改為</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;t botli&quot;</span>&gt;</span>最新消息區&lt;?= $t9_more ?&gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;ssaa&quot;</span> <span class="attr">style</span>=<span class="string">&quot;list-style-type:decimal;&quot;</span>&gt;</span></span><br><span class="line">  &lt;?= $t9_text ?&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="前台的-news-more"><a href="#前台的-news-more" class="headerlink" title="前台的 news more"></a>前台的 news more</h2><p>與 index.php 的最新消息觀念差不多，還要多個分頁功能。此外，JS 的 DOM 部分不太一致要小心。先把資料顯示做出來，參考前例之外，還多了 page 要規劃 limit</p>
<h3 id="增添-lib-php-7"><a href="#增添-lib-php-7" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//for news.php</span></span><br><span class="line"><span class="variable">$nowpage</span> = (<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>])) ? <span class="number">1</span> : <span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>];</span><br><span class="line"><span class="variable">$t9_begin</span> = (<span class="variable">$nowpage</span> - <span class="number">1</span>) * <span class="number">5</span>;</span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t9_news&quot;</span>, <span class="string">&quot;dpy=1 limit &quot;</span> . <span class="variable">$t9_begin</span> . <span class="string">&quot;,5&quot;</span>);</span><br><span class="line"><span class="variable">$t9_list</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$data</span>)</span><br><span class="line">  <span class="variable">$t9_list</span> .= <span class="string">&#x27;&lt;li&gt;&#x27;</span> . <span class="title function_ invoke__">mb_substr</span>(<span class="variable">$data</span>[<span class="string">&#x27;text&#x27;</span>], <span class="number">0</span>, <span class="number">20</span>) . <span class="string">&#x27;&lt;span class=&quot;all&quot; style=&quot;display:none&quot;&gt;&#x27;</span> . <span class="variable">$data</span>[<span class="string">&#x27;text&#x27;</span>] . <span class="string">&#x27;&lt;/span&gt;&lt;/li&gt;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>接著修改前台，這裡要改 ol 才能指定編號，同時 start 自訂編號起始值，利用變數去配合。</p>
<h3 id="修改-news-php"><a href="#修改-news-php" class="headerlink" title="修改 news.php"></a>修改 news.php</h3><figure class="highlight html"><figcaption><span>news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--正中央--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;ssaa&quot;</span> <span class="attr">style</span>=<span class="string">&quot;list-style-type:decimal;&quot;</span> <span class="attr">start</span>=&lt;?=<span class="string">$t9_begin+1?</span>&gt;</span>&gt;</span><br><span class="line">  &lt;?=$t9_list?&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>再來是規劃分頁導覽，參考前台 news.php 的素材。</p>
<figure class="highlight html"><figcaption><span>news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;bl&quot;</span> <span class="attr">style</span>=<span class="string">&quot;font-size:30px;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=meg&amp;p=0&quot;</span>&gt;</span><span class="symbol">&amp;lt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;bl&quot;</span> <span class="attr">style</span>=<span class="string">&quot;font-size:30px;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=meg&amp;p=0&quot;</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>我們為了要規劃文字大小，我們把<a>部分移到 sql.php 提取的作業去</p>
<h3 id="增添-lib-php-8"><a href="#增添-lib-php-8" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//for news.php pagenav</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">navpage</span>(<span class="string">&quot;q1t9_news&quot;</span>, <span class="string">&quot;dpy=1&quot;</span>, <span class="number">5</span>, <span class="variable">$nowpage</span>);</span><br><span class="line"><span class="variable">$t9_page</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>)</span><br><span class="line">  <span class="variable">$t9_page</span> .= <span class="string">&#x27;&lt;a class=&quot;bl&quot; style=&quot;font-size:&#x27;</span> . ((<span class="variable">$nowpage</span> == <span class="variable">$key</span>) ? <span class="string">&quot;60&quot;</span> : <span class="string">&quot;30&quot;</span>) . <span class="string">&#x27;px;&quot; href=&quot;?page=&#x27;</span> . <span class="variable">$value</span> . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;&lt;/a&gt;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="修改-news-php-1"><a href="#修改-news-php-1" class="headerlink" title="修改 news.php"></a>修改 news.php</h3><figure class="highlight html"><figcaption><span>news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;&quot;</span>&gt;</span></span><br><span class="line">  &lt;?=$t9_page?&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-11-管理者帳號管理功能-15"><a href="#No-11-管理者帳號管理功能-15" class="headerlink" title="No.11 管理者帳號管理功能 (15%)"></a>No.11 管理者帳號管理功能 (15%)</h1><p>因為是文字型，所以挑第四題來複製修改。由於題目未說明清楚且示意圖未帶出 admin&#x2F;1234 引此我們也不帶出。</p>
<p><img src="https://i.imgur.com/fkJgDij.png" alt="q1t11"></p>
<h2 id="後台的內容格式-5"><a href="#後台的內容格式-5" class="headerlink" title="後台的內容格式"></a>後台的內容格式</h2><ol>
<li>form 的提交到 <code>api.php?do=adminmdy</code></li>
<li>新增單項的提交到 <code>view.php?do=adminadd</code></li>
</ol>
<h3 id="新增-aadmin-php（參考-aad-php"><a href="#新增-aadmin-php（參考-aad-php" class="headerlink" title="新增 aadmin.php（參考 aad.php)"></a>新增 aadmin.php（參考 aad.php)</h3><figure class="highlight html"><figcaption><span>aadmin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t cent botli&quot;</span>&gt;</span>管理者帳號管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=adminmdy&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;yel&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;34%&quot;</span>&gt;</span>帳號<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;34%&quot;</span>&gt;</span>密碼<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      $re = select(&quot;q1t10_admin&quot;, &quot;id!=1&quot;);</span></span><br><span class="line"><span class="meta">      foreach ($re as $value) &#123;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">style</span>=<span class="string">&quot;width:90%&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;acc[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;acc&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">style</span>=<span class="string">&quot;width:90%&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;pwd&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      &#125;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:40px; width:70%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=adminadd&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;新增管理者帳號&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="新增單筆-5"><a href="#新增單筆-5" class="headerlink" title="新增單筆"></a>新增單筆</h2><p>對 view.php 做新的 case 規劃 （可複製前題目做修改）</p>
<h3 id="增添-view-php-7"><a href="#增添-view-php-7" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;adminadd&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;新增管理者帳號&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;帳號 ： &lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">acc</span>&quot; <span class="title">type</span>=&quot;<span class="title">text</span>&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;密碼 ： &lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">pwd</span>&quot; <span class="title">type</span>=&quot;<span class="title">password</span>&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;確認密碼 ： &lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">check</span>&quot; <span class="title">type</span>=&quot;<span class="title">password</span>&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">value</span>=&quot;新增&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  <span class="title">break</span>;</span></span><br></pre></td></tr></table></figure>

<p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）。題目沒要求驗證密碼判斷一致設計，因此不花時間做</p>
<h3 id="增添-api-php-15"><a href="#增添-api-php-15" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;adminadd&#x27;</span>:</span><br><span class="line">  <span class="keyword">unset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;check&#x27;</span>]);</span><br><span class="line">  <span class="title function_ invoke__">insert</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t10_admin&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=aadmin&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改多筆-刪除多筆-5"><a href="#修改多筆-刪除多筆-5" class="headerlink" title="修改多筆 + 刪除多筆"></a>修改多筆 + 刪除多筆</h2><p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-16"><a href="#增添-api-php-16" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;adminmdy&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t10_admin&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t10_admin&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=aadmin&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h1 id="No-12-選單管理功能-45"><a href="#No-12-選單管理功能-45" class="headerlink" title="No.12 選單管理功能 (45%)"></a>No.12 選單管理功能 (45%)</h1><p>這題步驟很多且版型欄位較多，是偷第四題來改並參考第三題的格式做調整</p>
<p><img src="https://i.imgur.com/SWP0XsG.png" alt="q1t12"></p>
<h2 id="後台的內容格式-6"><a href="#後台的內容格式-6" class="headerlink" title="後台的內容格式"></a>後台的內容格式</h2><ol>
<li>找到表格中間，塞入 <code>php:select</code> 並帶入 <code>tr&gt;td</code> HTML 顯示</li>
<li>跑回圈時取得各次選單的數量為 <code>$son</code></li>
<li>新增單項的提交到 <code>view.php?do=menuadd</code></li>
<li>form 的提交到 <code>api.php?do=menumdy</code></li>
<li>編輯次選單提交到 <code>view.php?do=menuchg</code> 並夾帶 ID</li>
<li>提交前多一組 dpy[$id]&#x3D;0 這樣沒選的會是 0，有選的會是 1，update 時一律更新</li>
</ol>
<h3 id="新增-amenu-php（參考-aad-php"><a href="#新增-amenu-php（參考-aad-php" class="headerlink" title="新增 amenu.php（參考 aad.php)"></a>新增 amenu.php（參考 aad.php)</h3><figure class="highlight html"><figcaption><span>amenu.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;t cent botli&quot;</span>&gt;</span>選單管理<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=menumdy&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;yel&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;30%&quot;</span>&gt;</span>主選單名稱<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;30%&quot;</span>&gt;</span>選單連結網址<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;8%&quot;</span>&gt;</span>次選單數<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>顯示<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;7%&quot;</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      $re = select(&quot;q1t12_menu&quot;, &quot;fa=0&quot;);</span></span><br><span class="line"><span class="meta">      foreach ($re as $value) &#123;</span></span><br><span class="line"><span class="meta">        $many = count(select(&quot;q1t12_menu&quot;, &quot;fa=&quot; . $value[&#x27;id&#x27;]));</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">style</span>=<span class="string">&quot;width:90%&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;text[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;text&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">style</span>=<span class="string">&quot;width:90%&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;link[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;link&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $many ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $value[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> &lt;?= <span class="string">($value[</span>&#x27;<span class="attr">dpy</span>&#x27;]) ? &quot;<span class="attr">checked</span>&quot; <span class="attr">:</span> &quot;&quot; ?&gt;</span>&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $value[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=menuchg&amp;id=&lt;?= $value[&#x27;id&#x27;] ?&gt;&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;編輯次選單&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      &#125;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;margin-top:40px; width:70%;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;op(&#x27;#cover&#x27;,&#x27;#cvr&#x27;,&#x27;view.php?do=menuadd&#x27;)&quot;</span> <span class="attr">value</span>=<span class="string">&quot;新增主選單&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;cent&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;修改確定&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="新增單筆-6"><a href="#新增單筆-6" class="headerlink" title="新增單筆"></a>新增單筆</h2><p>對 view.php 做新的 case 規劃 （可複製前題目做修改）</p>
<h3 id="增添-view-php-8"><a href="#增添-view-php-8" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;menuadd&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;新增主選單&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">table</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot; <span class="title">style</span>=&quot;<span class="title">width</span>:50%;<span class="title">margin</span>:0 <span class="title">auto</span>&quot;&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">thead</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">td</span>&gt;選單名稱&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">td</span>&gt;選單連結網址&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">td</span>&gt;&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;/<span class="title">thead</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">tbody</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">td</span>&gt;&lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">text</span>&quot; <span class="title">type</span>=&quot;<span class="title">text</span>&quot;&gt;&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">td</span>&gt;&lt;<span class="title">input</span> <span class="title">name</span>=&quot;<span class="title">link</span>&quot; <span class="title">type</span>=&quot;<span class="title">text</span>&quot;&gt;&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;/<span class="title">tbody</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">table</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">value</span>=&quot;新增&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;&lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  <span class="title">break</span>;</span></span><br></pre></td></tr></table></figure>
<p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-17"><a href="#增添-api-php-17" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;menuadd&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">insert</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t12_menu&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=amenu&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改多筆-刪除多筆-6"><a href="#修改多筆-刪除多筆-6" class="headerlink" title="修改多筆 + 刪除多筆"></a>修改多筆 + 刪除多筆</h2><p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<h3 id="增添-api-php-18"><a href="#增添-api-php-18" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;menumdy&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t12_menu&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t12_menu&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=amenu&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="次選單"><a href="#次選單" class="headerlink" title="次選單"></a>次選單</h2><p>只剩此選單管理作業。這裡非常複雜需要吸收理解一下：</p>
<ol>
<li>這裡把新增修改刪除都做在一起了，我們要將列表思考成 new 跟 old，才能 new 做 insert，old 做 update 跟 delete</li>
<li>new 的 del 很麻煩且無意義，所以不要給新增欄位有刪除功能</li>
<li>function insert 一次只能一筆，所以要用迴圈去處理</li>
<li>新增欄位必須要靠 JQ 完成</li>
</ol>
<h3 id="增添-view-php-9"><a href="#增添-view-php-9" class="headerlink" title="增添 view.php"></a>增添 view.php</h3><figure class="highlight php"><figcaption><span>view.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;menuchg&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;api.php?do=&lt;?= <span class="subst">$_GET</span>[&#x27;do&#x27;] ?&gt;&amp;id=&lt;?= <span class="subst">$_GET</span>[&#x27;id&#x27;] ?&gt;&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">t</span> <span class="title">botli</span>&quot;&gt;編輯次選單&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">table</span> <span class="title">class</span>=&quot;<span class="title">cent</span>&quot; <span class="title">style</span>=&quot;<span class="title">width</span>:50%;<span class="title">margin</span>:0 <span class="title">auto</span>&quot;&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">thead</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">td</span>&gt;選單名稱&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">td</span>&gt;選單連結網址&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">          &lt;<span class="title">td</span>&gt;刪除&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;/<span class="title">thead</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">tbody</span> <span class="title">id</span>=&quot;<span class="title">tb</span>&quot;&gt;</span></span><br><span class="line"><span class="class">        &lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">        $<span class="title">re</span> = <span class="title">select</span>(&quot;<span class="title">q1t12_menu</span>&quot;, &quot;<span class="title">fa</span>=&quot; . $<span class="title">_GET</span>[&#x27;<span class="title">id</span>&#x27;]);</span></span><br><span class="line"><span class="class">        <span class="title">foreach</span> ($<span class="title">re</span> <span class="title">as</span> $<span class="title">ro</span>) </span>&#123;</span><br><span class="line">        <span class="meta">?&gt;</span></span><br><span class="line">          &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;&lt;input name=<span class="string">&quot;text[&lt;?= <span class="subst">$ro</span>[&#x27;id&#x27;] ?&gt;]&quot;</span> type=<span class="string">&quot;text&quot;</span> value=<span class="string">&quot;&lt;?= <span class="subst">$ro</span>[&#x27;text&#x27;] ?&gt;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input name=<span class="string">&quot;link[&lt;?= <span class="subst">$ro</span>[&#x27;id&#x27;] ?&gt;]&quot;</span> type=<span class="string">&quot;text&quot;</span> value=<span class="string">&quot;&lt;?= <span class="subst">$ro</span>[&#x27;link&#x27;] ?&gt;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;del[]&quot;</span> value=<span class="string">&quot;&lt;?= <span class="subst">$ro</span>[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">          &lt;/tr&gt;</span><br><span class="line">        <span class="meta">&lt;?php</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">?&gt;</span></span><br><span class="line">      &lt;/tbody&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">cent</span>&quot;&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">input</span> <span class="title">value</span>=&quot;修改確定&quot; <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">reset</span>&quot; <span class="title">value</span>=&quot;重置&quot;&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">button</span>&quot; <span class="title">value</span>=&quot;更多&quot; <span class="title">onclick</span>=&quot;<span class="title">add</span>()&quot;&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="title">function</span> <span class="title">add</span>() </span>&#123;</span><br><span class="line">      txt = `</span><br><span class="line">          &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;&lt;input name=<span class="string">&quot;new[text][]&quot;</span> type=<span class="string">&quot;text&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input name=<span class="string">&quot;new[link][]&quot;</span> type=<span class="string">&quot;text&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;/td&gt;</span><br><span class="line">          &lt;/tr&gt;</span><br><span class="line">        `;</span><br><span class="line">      $(<span class="string">&quot;#tb&quot;</span>).<span class="title function_ invoke__">append</span>(txt);</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>新資料：新欄位都被塞到一個叫 new 的混和陣列，整理成為 <code>$new[名稱]=連結</code>。然後再用 foreach 做批次處理新增</li>
<li>舊資料：拿掉 new 這東西後就只剩舊資料了，跟之前相同作法修改刪除</li>
</ul>
<h3 id="增添-api-php-19"><a href="#增添-api-php-19" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;menuchg&#x27;</span>:</span><br><span class="line">  <span class="keyword">foreach</span> (<span class="variable">$_POST</span>[<span class="string">&#x27;new&#x27;</span>][<span class="string">&#x27;text&#x27;</span>] <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$val</span>) &#123;</span><br><span class="line">    <span class="variable">$post</span>[<span class="string">&#x27;text&#x27;</span>] = <span class="variable">$val</span>;</span><br><span class="line">    <span class="variable">$post</span>[<span class="string">&#x27;link&#x27;</span>] = <span class="variable">$_POST</span>[<span class="string">&#x27;new&#x27;</span>][<span class="string">&#x27;link&#x27;</span>][<span class="variable">$key</span>];</span><br><span class="line">    <span class="variable">$post</span>[<span class="string">&#x27;fa&#x27;</span>] = <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">    <span class="title function_ invoke__">insert</span>(<span class="variable">$post</span>, <span class="string">&quot;q1t12_menu&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">unset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;new&#x27;</span>]);</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t12_menu&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q1t12_menu&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;admin.php?do=amenu&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="前台的-menu-顯示"><a href="#前台的-menu-顯示" class="headerlink" title="前台的 menu 顯示"></a>前台的 menu 顯示</h2><p>這裡素材已提供 CSS 互動效果（源於 HTML+js.js+css.css)，大致上效果為可以先理解為外層 div:mainmu，內層 div:mainmu2</p>
<ol>
<li>JS 收放效果主要是當滑鼠移動到 <code>.mainmu</code>（主選單）上時，該子對象（次選單）的 <code>.mu</code> 會顯示或隱藏</li>
<li>子對象一開始先 display:none</li>
<li><code>.mainmu</code> 為一個 orange css 效果， <code>.mainmu2</code> 為另一個 green css 效果，若畫面沒出現就檢查 css 的 icon 路徑是否正常並補上</li>
</ol>
<p>大致範例架構如下 （這裡為了精簡閱讀，style 都拿掉了）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>父<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu2 mw&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>子 A<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mainmu2 mw&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>子 B<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>所以到 lib.php 內做撈取動作，為了方便好寫，直接 HTML 放在回圈內跟著跑</p>
<h3 id="增添-lib-php-9"><a href="#增添-lib-php-9" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//t12</span></span><br><span class="line"><span class="variable">$t12_text</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="variable">$re1</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t12_menu&quot;</span>, <span class="string">&quot;fa=0 and dpy=1&quot;</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re1</span> <span class="keyword">as</span> <span class="variable">$fa</span>) &#123;</span><br><span class="line">  <span class="variable">$t12_text</span> .= <span class="string">&#x27;</span></span><br><span class="line"><span class="string">    &lt;a style=&quot;color:#000; font-size:13px; text-decoration:none;&quot; href=&quot;&#x27;</span> . <span class="variable">$fa</span>[<span class="string">&#x27;link&#x27;</span>] . <span class="string">&#x27;&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;mainmu&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;span&gt;&#x27;</span> . <span class="variable">$fa</span>[<span class="string">&#x27;text&#x27;</span>] . <span class="string">&#x27;&lt;/span&gt;</span></span><br><span class="line"><span class="string">  &#x27;</span>;</span><br><span class="line">  <span class="variable">$re2</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q1t12_menu&quot;</span>, <span class="string">&quot;fa=&quot;</span> . <span class="variable">$fa</span>[<span class="string">&#x27;id&#x27;</span>]);</span><br><span class="line">  <span class="keyword">foreach</span> (<span class="variable">$re2</span> <span class="keyword">as</span> <span class="variable">$son</span>) &#123;</span><br><span class="line">    <span class="variable">$t12_text</span> .= <span class="string">&#x27;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;mw mainmu2&quot; style=&quot;display:none&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;a style=&quot;color:#000; font-size:13px; text-decoration:none;&quot; href=&quot;&#x27;</span> . <span class="variable">$son</span>[<span class="string">&#x27;link&#x27;</span>] . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="variable">$son</span>[<span class="string">&#x27;text&#x27;</span>] . <span class="string">&#x27;&lt;/a&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable">$t12_text</span> .= <span class="string">&#x27;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/a&gt;</span></span><br><span class="line"><span class="string">  &#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>將 login.php、index.php、news.php 的選單區域部分標籤內增加 php 變數</p>
<h3 id="修改-login-php-index-php-news-php-1"><a href="#修改-login-php-index-php-news-php-1" class="headerlink" title="修改 login.php &amp; index.php &amp; news.php"></a>修改 login.php &amp; index.php &amp; news.php</h3><figure class="highlight html"><figcaption><span>login.php & index.php & news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;menuput&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dbor&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--主選單放此--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;t botli&quot;</span>&gt;</span>主選單區<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">&lt;?= $t12_text ?&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="END-調整版面-5"><a href="#END-調整版面-5" class="headerlink" title="END 調整版面 (5%)"></a>END 調整版面 (5%)</h1><p>這題動作如果來不及做可以放棄，元素材差異性下有可能不會被考官所注意到。</p>
<p><img src="https://i.imgur.com/Ji8jU7J.png" alt="q1layout"></p>
<h2 id="修改-login-php-index-php-news-php-admin-php"><a href="#修改-login-php-index-php-news-php-admin-php" class="headerlink" title="修改 login.php &amp; index.php &amp; news.php &amp; admin.php"></a>修改 login.php &amp; index.php &amp; news.php &amp; admin.php</h2><ol>
<li>找到主區域的 div 修改為</li>
</ol>
<figure class="highlight html"><figcaption><span>login.php & index.php & news.php & admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;overflow: scroll;margin: 10px auto;padding: 0;border: 0;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>把多餘個寬度處理掉，找到 footer 把 width 拿掉改為</li>
</ol>
<figure class="highlight html"><figcaption><span>login.php & index.php & news.php & admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;left:0px; position:relative; background:#FC3; margin-top:4px; height:123px; display:block;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>透過 Chrome 遊覽器檢查可以得到 1024*768 且上下左右 10px 並垂直至中的動作要求。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%8A%80%E8%A1%93%E5%A3%AB%E8%80%83%E7%85%A7%E8%88%87%E5%85%A8%E5%9C%8B%E6%8A%80%E8%83%BD%E7%AB%B6%E8%B3%BD/" rel="tag"># 技術士考照與全國技能競賽</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/05-14/exam-173002B10-0/" rel="prev" title="[題目解析] 技能檢定！網頁設計乙級術科考題分析（事前準備）">
                  <i class="fa fa-chevron-left"></i> [題目解析] 技能檢定！網頁設計乙級術科考題分析（事前準備）
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/05-21/exam-173002B10-2/" rel="next" title="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組二）">
                  [題目解析] 技能檢定！網頁設計乙級術科考題分析（題組二） <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    <span class="with-love">
      <i class="fa fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder" title="找我？！側單左上連結">Loki Jiang</span>
    <span class="post-meta-item-icon with-love">
      <i class="fas fa-copyright"></i>
    </span>
    2020 – 
    <span itemprop="copyrightYear">2024</span> All rights reserved.
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon with-love">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="總字數">519,958</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon with-love">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="所需總閱讀時間">15:45:23</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon with-love">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="訪客總數">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon with-love">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="總瀏覽次數">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/summer10920" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.0/mermaid.min.js","integrity":"sha256-stuqcu2FrjYCXDOytWFA5SoUE/r3nkp6gTglzNSlavU="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/wordcloud2.js/1.2.2/wordcloud2.min.js"
    integrity="sha512-lGnVsh3WK0YJ7NX7rQmUu6kqF7vqELuDrUTnxpI2iD86VwI+OlQhi3EAJJZbrBUOfDFOAYAkigxkApHGM2IZTg=="
    crossorigin="anonymous"></script>
<script src="/assets/js/loki.js"></script>
</body>
</html>
