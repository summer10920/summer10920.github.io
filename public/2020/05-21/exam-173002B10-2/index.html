<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/config/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/config/favicon-16x16.png">
  <link rel="mask-icon" href="/assets/config/logo-loki.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,400,400italic,700,700italic%7CNoto+Sans+TC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"summer10920.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":20,"offset":20},"hljswrap":true,"copycode":{"enable":true,"style":"mac"},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeIn","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"${hits} 找到 ${time} 個結果","hits":"找到 ${hits} 個結果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="本篇為網乙解析系列之題組二，難易度最簡單且完成時間所需最少。本篇之前置作業 (lib.php 與 MySQL 規劃）不再進行說明。">
<meta property="og:type" content="article">
<meta property="og:title" content="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組二）">
<meta property="og:url" content="http://summer10920.github.io/2020/05-21/exam-173002B10-2/">
<meta property="og:site_name" content="洛奇的邪惡組織手札">
<meta property="og:description" content="本篇為網乙解析系列之題組二，難易度最簡單且完成時間所需最少。本篇之前置作業 (lib.php 與 MySQL 規劃）不再進行說明。">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://i.imgur.com/hTda3HR.png">
<meta property="og:image" content="https://i.imgur.com/Ur7qRXk.png">
<meta property="og:image" content="https://i.imgur.com/8rSTtOD.png">
<meta property="og:image" content="https://i.imgur.com/DonOUIT.png">
<meta property="og:image" content="https://i.imgur.com/x99C6Qa.png">
<meta property="og:image" content="https://i.imgur.com/uOUIsqH.png">
<meta property="og:image" content="https://i.imgur.com/N3eaSDC.png">
<meta property="og:image" content="https://i.imgur.com/Pm6XncD.png">
<meta property="og:image" content="https://i.imgur.com/E8XabIN.png">
<meta property="og:image" content="https://i.imgur.com/kLi61Mq.png">
<meta property="og:image" content="https://i.imgur.com/61WXpTz.png">
<meta property="og:image" content="https://i.imgur.com/JhtNHEE.png">
<meta property="og:image" content="https://i.imgur.com/4wy1K8Z.png">
<meta property="og:image" content="https://i.imgur.com/gE7pmuQ.png">
<meta property="og:image" content="https://i.imgur.com/TnGcl10.png">
<meta property="og:image" content="https://i.imgur.com/8Ot7rEd.png">
<meta property="og:image" content="https://i.imgur.com/4ni38dh.png">
<meta property="og:image" content="https://i.imgur.com/ih9rCOk.png">
<meta property="og:image" content="https://i.imgur.com/Pfk7KCm.png">
<meta property="og:image" content="https://i.imgur.com/Ji8jU7J.png">
<meta property="article:published_time" content="2020-05-21T13:06:50.000Z">
<meta property="article:modified_time" content="2024-08-22T02:31:12.197Z">
<meta property="article:author" content="Loki Jiang">
<meta property="article:tag" content="技術士考照與全國技能競賽">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/hTda3HR.png">


<link rel="canonical" href="http://summer10920.github.io/2020/05-21/exam-173002B10-2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-TW","comments":true,"permalink":"http://summer10920.github.io/2020/05-21/exam-173002B10-2/","path":"2020/05-21/exam-173002B10-2/","title":"[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組二）"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組二） | 洛奇的邪惡組織手札</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146423952-3"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-146423952-3","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>







<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&family=Roboto&display=swap" rel="stylesheet">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <canvas id="lokiBanner" width="1920" height="200"></canvas>
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">洛奇的邪惡組織手札</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">I am WebDeveloper!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜尋" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤<span class="badge">20</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類<span class="badge">17</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔<span class="badge">68</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜尋..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#No-3-%E7%B6%B2%E7%AB%99%E6%A8%99%E9%A1%8C-20"><span class="nav-number">1.</span> <span class="nav-text">No.3 網站標題 (20%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%99%E9%A1%8C%E5%9C%96%E7%89%87"><span class="nav-number">1.1.</span> <span class="nav-text">標題圖片</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php"><span class="nav-number">1.1.1.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%8A%E5%A4%A9%E6%97%A5%E6%9C%9F%E3%80%81%E4%BB%8A%E6%97%A5%E7%80%8F%E8%A6%BD%E4%BA%BA%E6%AC%A1%E3%80%81%E7%B4%AF%E8%A8%88%E7%80%8F%E8%A6%BD%E4%BA%BA%E6%AC%A1"><span class="nav-number">1.2.</span> <span class="nav-text">今天日期、今日瀏覽人次、累計瀏覽人次</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php"><span class="nav-number">1.2.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-1"><span class="nav-number">1.2.2.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%B3%E9%82%8A%E7%9A%84%E5%9B%9E%E9%A6%96%E9%A0%81%E6%8C%89%E9%88%95"><span class="nav-number">1.3.</span> <span class="nav-text">右邊的回首頁按鈕</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-2"><span class="nav-number">1.3.1.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-4-%E4%B8%BB%E9%81%B8%E5%96%AE-15"><span class="nav-number">2.</span> <span class="nav-text">No.4 主選單 (15%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A6%8F%E5%8A%83%E9%81%B8%E5%96%AE%E9%80%A3%E7%B5%90%E5%85%A7%E5%AE%B9"><span class="nav-number">2.1.</span> <span class="nav-text">規劃選單連結內容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-3"><span class="nav-number">2.1.1.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-5-%E5%8B%95%E6%85%8B%E6%96%87%E5%AD%97%E5%BB%A3%E5%91%8A-5"><span class="nav-number">3.</span> <span class="nav-text">No.5 動態文字廣告 (5%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A0%E5%85%A5%E8%B7%91%E9%A6%AC%E7%87%88"><span class="nav-number">3.1.</span> <span class="nav-text">加入跑馬燈</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-4"><span class="nav-number">3.1.1.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-6-%E6%9C%83%E5%93%A1%E7%99%BB%E5%85%A5%E7%99%BB%E5%87%BA-30"><span class="nav-number">4.</span> <span class="nav-text">No.6 會員登入登出 (30%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A8%AD%E8%A8%88%E7%99%BB%E5%85%A5"><span class="nav-number">4.1.</span> <span class="nav-text">設計登入</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-login-php"><span class="nav-number">4.1.1.</span> <span class="nav-text">建立 login.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-api-php"><span class="nav-number">4.1.2.</span> <span class="nav-text">建立 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%99%BB%E5%85%A5%E7%99%BB%E5%87%BA%E6%8C%89%E9%88%95"><span class="nav-number">4.2.</span> <span class="nav-text">登入登出按鈕</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-1"><span class="nav-number">4.2.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-5"><span class="nav-number">4.2.2.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%99%BB%E5%87%BA"><span class="nav-number">4.3.</span> <span class="nav-text">登出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php"><span class="nav-number">4.3.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-7-%E4%B8%BB%E9%A1%8C%E5%85%A7%E5%AE%B9%E9%A1%AF%E7%A4%BA-20"><span class="nav-number">5.</span> <span class="nav-text">No.7 主題內容顯示 (20%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A6%96%E9%A0%81%E7%9A%84%E5%88%86%E9%A0%81%E6%A8%99%E7%B1%A4"><span class="nav-number">5.1.</span> <span class="nav-text">首頁的分頁標籤</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A8%AD%E8%A8%88-main-php"><span class="nav-number">5.1.1.</span> <span class="nav-text">設計 main.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E9%A1%9E%E7%B6%B2%E8%AA%8C"><span class="nav-number">5.2.</span> <span class="nav-text">分類網誌</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-po-php%EF%BC%88%E5%8F%83%E8%80%83-login-php"><span class="nav-number">5.2.1.</span> <span class="nav-text">建立 po.php（參考 login.php)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-8-%E9%A0%81%E5%B0%BE%E7%89%88%E6%AC%8A-5"><span class="nav-number">6.</span> <span class="nav-text">No.8 頁尾版權 (5%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A8%AD%E8%A8%88%E9%A0%81%E5%B0%BE%E7%89%88%E6%AC%8A"><span class="nav-number">6.1.</span> <span class="nav-text">設計頁尾版權</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-6"><span class="nav-number">6.1.1.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-9-%E5%BF%98%E8%A8%98%E5%AF%86%E7%A2%BC%E9%A0%81%E9%9D%A2-10"><span class="nav-number">7.</span> <span class="nav-text">No.9 忘記密碼頁面 (10%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A8%AD%E8%A8%88%E8%A1%A8%E5%96%AE"><span class="nav-number">7.1.</span> <span class="nav-text">設計表單</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-forget-php"><span class="nav-number">7.1.1.</span> <span class="nav-text">建立 forget.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-10-%E8%A8%BB%E5%86%8A%E6%9C%83%E5%93%A1%E9%A0%81%E9%9D%A2-15"><span class="nav-number">8.</span> <span class="nav-text">No.10 註冊會員頁面 (15%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%88%E9%9D%A2%E8%A8%AD%E8%A8%88"><span class="nav-number">8.1.</span> <span class="nav-text">版面設計</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-reg-php%EF%BC%88%E5%8F%83%E8%80%83-login-php"><span class="nav-number">8.1.1.</span> <span class="nav-text">建立 reg.php（參考 login.php)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-1"><span class="nav-number">8.1.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-11-%E6%9C%80%E6%96%B0%E6%96%87%E7%AB%A0-25"><span class="nav-number">9.</span> <span class="nav-text">No.11 最新文章 (25%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%97%E8%A1%A8-5-%E7%AD%86-%E5%88%86%E9%A0%81%E5%B0%8E%E8%A6%BD-%E7%B8%AE%E6%96%87-or-%E5%85%A8%E6%96%87"><span class="nav-number">9.1.</span> <span class="nav-text">列表 5 筆 + 分頁導覽 + 縮文 or 全文</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-news-php"><span class="nav-number">9.1.1.</span> <span class="nav-text">建立 news.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%9A%E5%8A%9F%E8%83%BD"><span class="nav-number">9.2.</span> <span class="nav-text">讚功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%99%BB%E5%85%A5%E8%80%85%E7%9A%84%E9%A1%AF%E7%A4%BA"><span class="nav-number">9.2.1.</span> <span class="nav-text">登入者的顯示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-news-php"><span class="nav-number">9.2.2.</span> <span class="nav-text">增添 news.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%9A%E7%9A%84%E8%B3%87%E6%96%99%E8%99%95%E7%90%86"><span class="nav-number">9.3.</span> <span class="nav-text">讚的資料處理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-2"><span class="nav-number">9.3.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-12-%E4%BA%BA%E6%B0%A3%E6%96%87%E7%AB%A0-25"><span class="nav-number">10.</span> <span class="nav-text">No.12 人氣文章 (25%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%97%E8%A1%A8-5-%E7%AD%86-%E5%88%86%E9%A0%81%E5%B0%8E%E8%A6%BD-%E8%AE%9A%E5%8A%9F%E8%83%BD"><span class="nav-number">10.1.</span> <span class="nav-text">列表 5 筆 + 分頁導覽 + 讚功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-pop-php%EF%BC%88%E5%8F%83%E8%80%83-news-php"><span class="nav-number">10.1.1.</span> <span class="nav-text">建立 pop.php（參考 news.php)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%AE%E5%8B%95%E8%A6%96%E7%AA%97"><span class="nav-number">10.2.</span> <span class="nav-text">浮動視窗</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AA%BF%E6%95%B4-pop-php"><span class="nav-number">10.2.1.</span> <span class="nav-text">調整 pop.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-13-%E5%95%8F%E5%8D%B7%E8%AA%BF%E6%9F%A5-25"><span class="nav-number">11.</span> <span class="nav-text">No.13 問卷調查 (25%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A6%8F%E5%8A%83%E7%95%AB%E9%9D%A2%E5%88%87%E6%8F%9B"><span class="nav-number">11.1.</span> <span class="nav-text">規劃畫面切換</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B-que-php"><span class="nav-number">11.1.1.</span> <span class="nav-text">建立 que.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E7%95%AB%E9%9D%A2"><span class="nav-number">11.2.</span> <span class="nav-text">初始畫面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-que-php"><span class="nav-number">11.2.1.</span> <span class="nav-text">增添 que.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%95%E7%A5%A8%E7%89%88%E9%9D%A2"><span class="nav-number">11.3.</span> <span class="nav-text">投票版面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-que-php-1"><span class="nav-number">11.3.1.</span> <span class="nav-text">增添 que.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-3"><span class="nav-number">11.3.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B5%90%E6%9E%9C%E7%89%88%E9%9D%A2"><span class="nav-number">11.4.</span> <span class="nav-text">結果版面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-que-php-2"><span class="nav-number">11.4.1.</span> <span class="nav-text">增添 que.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-14-%E5%BE%8C%E5%8F%B0%E7%AE%A1%E7%90%86-10"><span class="nav-number">12.</span> <span class="nav-text">No.14 後台管理 (10%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A6%8F%E5%8A%83%E5%85%A9%E7%A8%AE-MENU"><span class="nav-number">12.1.</span> <span class="nav-text">規劃兩種 MENU</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-7"><span class="nav-number">12.1.1.</span> <span class="nav-text">修改 index.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-lib-php-2"><span class="nav-number">12.1.2.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-8"><span class="nav-number">12.1.3.</span> <span class="nav-text">修改 index.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-admain-php"><span class="nav-number">12.1.4.</span> <span class="nav-text">新增 admain.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-15-%E5%B8%B3%E8%99%9F%E5%BE%8C%E5%8F%B0%E7%AE%A1%E7%90%86-15"><span class="nav-number">13.</span> <span class="nav-text">No.15 帳號後台管理 (15%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F"><span class="nav-number">13.1.</span> <span class="nav-text">修改後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-apo-php%EF%BC%88%E5%8F%83%E8%80%83-reg-php"><span class="nav-number">13.1.1.</span> <span class="nav-text">新增 apo.php（參考 reg.php)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-4"><span class="nav-number">13.1.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-16-%E6%9C%80%E6%96%B0%E6%96%87%E7%AB%A0%E5%BE%8C%E5%8F%B0%E7%AE%A1%E7%90%86-15"><span class="nav-number">14.</span> <span class="nav-text">No.16 最新文章後台管理 (15%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F"><span class="nav-number">14.1.</span> <span class="nav-text">後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-apop-php%EF%BC%88%E5%8F%83%E8%80%83-news-php"><span class="nav-number">14.1.1.</span> <span class="nav-text">新增 apop.php（參考 news.php)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-5"><span class="nav-number">14.1.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-17-%E5%95%8F%E5%8D%B7%E5%BE%8C%E5%8F%B0%E7%AE%A1%E7%90%86-20"><span class="nav-number">15.</span> <span class="nav-text">No.17 問卷後台管理 (20%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%BE%8C%E5%8F%B0%E7%9A%84%E5%85%A7%E5%AE%B9%E6%A0%BC%E5%BC%8F-1"><span class="nav-number">15.1.</span> <span class="nav-text">修改後台的內容格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E-aque-php"><span class="nav-number">15.1.1.</span> <span class="nav-text">新增 aque.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E6%B7%BB-api-php-6"><span class="nav-number">15.1.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#END-%E8%AA%BF%E6%95%B4%E7%89%88%E9%9D%A2-5"><span class="nav-number">16.</span> <span class="nav-text">END 調整版面 (5%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-index-php-9"><span class="nav-number">16.1.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Loki Jiang"
      src="/assets/config/author_loki.jpg">
  <p class="site-author-name" itemprop="name">Loki Jiang</p>
  <div class="site-description" itemprop="description">Time waits for no oneヽ(｀Д´)ﾉ</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/summer10920" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;summer10920" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:summer10920@gmail.com" title="E-Mail → mailto:summer10920@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://codepen.io/summer10920/pens/public?grid_type=list" title="CodePen → https:&#x2F;&#x2F;codepen.io&#x2F;summer10920&#x2F;pens&#x2F;public?grid_type&#x3D;list" rel="noopener me" target="_blank"><i class="fab fa-codepen fa-fw"></i>CodePen</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/c/LokiJiang/playlists" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;c&#x2F;LokiJiang&#x2F;playlists" rel="noopener me" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="回到頂端">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="http://demob17300.lokiwebs.com/" title="http:&#x2F;&#x2F;demob17300.lokiwebs.com&#x2F;" rel="noopener" target="_blank">DemoSite - 網頁設計乙術科</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="http://blog.lokiwebs.com/" title="http:&#x2F;&#x2F;blog.lokiwebs.com&#x2F;" rel="noopener" target="_blank">舊址(停更) - 札記 Blog</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://summer10920.github.io/2020/05-21/exam-173002B10-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/assets/config/author_loki.jpg">
      <meta itemprop="name" content="Loki Jiang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="洛奇的邪惡組織手札">
      <meta itemprop="description" content="Time waits for no oneヽ(｀Д´)ﾉ">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組二） | 洛奇的邪惡組織手札">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [題目解析] 技能檢定！網頁設計乙級術科考題分析（題組二）<a href="https://github.com/summer10920/summer10920.github.io/edit/master/source/_posts/20200521-exam-173002B10-2.md" class="post-edit-link" title="編輯" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2020-05-21 21:06:50" itemprop="dateCreated datePublished" datetime="2020-05-21T21:06:50+08:00">2020-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-08-22 10:31:12" itemprop="dateModified" datetime="2024-08-22T10:31:12+08:00">2024-08-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AB%B6%E8%B3%BD%E6%AA%A2%E5%AE%9A/" itemprop="url" rel="index"><span itemprop="name">競賽檢定</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AB%B6%E8%B3%BD%E6%AA%A2%E5%AE%9A/%E7%B6%B2%E9%A0%81%E8%A8%AD%E8%A8%88%E4%B9%99%E7%B4%9A/" itemprop="url" rel="index"><span itemprop="name">網頁設計乙級</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>11,251</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>00:20:27</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><img src="https://i.imgur.com/hTda3HR.png"><br>本篇為網乙解析系列之題組二，難易度最簡單且完成時間所需最少。本篇之前置作業 (lib.php 與 MySQL 規劃）不再進行說明。</p>
<span id="more"></span>

<div class="note default"><p><strong>網乙術科題庫分析：</strong><br>事前建置說明 - <a href="/2020/05-14/exam-173002B10-0/" title="[題目解析] 技能檢定！網頁設計乙級術科考題分析（事前準備）">[題目解析] 技能檢定！網頁設計乙級術科考題分析（事前準備）</a></p>
</div>

<h1 id="No-3-網站標題-20"><a href="#No-3-網站標題-20" class="headerlink" title="No.3 網站標題 (20%)"></a>No.3 網站標題 (20%)</h1><p>這題只需要 HTML 編輯動作，以及規劃登入紀錄瀏覽次數的 SQL 設計要求。</p>
<p><img src="https://i.imgur.com/Ur7qRXk.png" alt="q2t3"></p>
<h2 id="標題圖片"><a href="#標題圖片" class="headerlink" title="標題圖片"></a>標題圖片</h2><p>調整網站的標題圖片，替代文字可能是 title 或是 alt。建議都做。</p>
<h3 id="修改-index-php"><a href="#修改-index-php" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><p>找到 <code>#title2</code> 部分</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;title2&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改為</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;title2&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/02B01.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;健康促進網 - 回首頁&quot;</span> <span class="attr">title</span>=<span class="string">&quot;健康促進網 - 回首頁&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="今天日期、今日瀏覽人次、累計瀏覽人次"><a href="#今天日期、今日瀏覽人次、累計瀏覽人次" class="headerlink" title="今天日期、今日瀏覽人次、累計瀏覽人次"></a>今天日期、今日瀏覽人次、累計瀏覽人次</h2><p>先開始規劃如何取得這三個變數，提供前端使用。</p>
<ol>
<li>今天日期：用 <code>date()</code> 去做出題目要求的格式</li>
<li>今日瀏覽人次：把每天的日期記錄起來，不存在就新增。有新訪客就加 1。</li>
<li>累計瀏覽人次：跑個迴圈把資料表內所有數字加起來</li>
</ol>
<h3 id="增添-lib-php"><a href="#增添-lib-php" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//t3</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t3_visit&quot;</span>, <span class="string">&quot;date=&#x27;&quot;</span> . <span class="title function_ invoke__">date</span>(<span class="string">&quot;Y-m-d&quot;</span>) . <span class="string">&quot;&#x27;&quot;</span>); <span class="comment">//檢查今日是否存在</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$re</span> == <span class="literal">null</span>) &#123; <span class="comment">//資料庫內尚未持有今日資訊</span></span><br><span class="line">  <span class="variable">$post</span>[<span class="string">&#x27;num&#x27;</span>] = <span class="number">0</span>;</span><br><span class="line">  <span class="variable">$post</span>[<span class="string">&#x27;date&#x27;</span>] = <span class="title function_ invoke__">date</span>(<span class="string">&quot;Y-m-d&quot;</span>);</span><br><span class="line">  <span class="variable">$id</span> = <span class="title function_ invoke__">insert</span>(<span class="variable">$post</span>, <span class="string">&quot;q2t3_visit&quot;</span>);</span><br><span class="line">  <span class="variable">$t3_visit</span> = <span class="number">0</span>; <span class="comment">//拜訪數據 0</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="variable">$id</span> = <span class="variable">$re</span>[<span class="number">0</span>][<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">  <span class="variable">$t3_visit</span> = <span class="variable">$re</span>[<span class="number">0</span>][<span class="string">&#x27;num&#x27;</span>]; <span class="comment">//下載拜訪數據</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;visit&#x27;</span>])) &#123; <span class="comment">//檢查後若為新訪客</span></span><br><span class="line">  <span class="variable">$_SESSION</span>[<span class="string">&#x27;visit&#x27;</span>] = <span class="literal">true</span>;</span><br><span class="line">  <span class="variable">$_POST</span>[<span class="string">&#x27;num+1&#x27;</span>] = <span class="variable">$id</span>;</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q2t3_visit&quot;</span>); <span class="comment">//資料庫數據+1</span></span><br><span class="line">  <span class="variable">$t3_visit</span>++; <span class="comment">//拜訪數據+1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t3_visit&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="variable">$t3_total</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$ro</span>) <span class="variable">$t3_total</span> += <span class="variable">$ro</span>[<span class="string">&#x27;num&#x27;</span>];<span class="comment">//統計總數</span></span><br></pre></td></tr></table></figure>

<h3 id="修改-index-php-1"><a href="#修改-index-php-1" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><p>回到前台開始顯現（記得 include 這個 lib.php)</p>
<figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="comment">//塞入 HTML 開頭</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;lib.php&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">  00 月 00 號 Tuesday | 今日瀏覽：1 | 累積瀏覽：36 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>為</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">  &lt;?= date(&quot;m 月 d 號 l&quot;) ?&gt; | 今日瀏覽：&lt;?= $t3_visit ?&gt; | 累積瀏覽：&lt;?= $t3_total ?&gt;</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;index.php&quot;</span> <span class="attr">style</span>=<span class="string">&quot;float:right&quot;</span>&gt;</span>回首頁<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="右邊的回首頁按鈕"><a href="#右邊的回首頁按鈕" class="headerlink" title="右邊的回首頁按鈕"></a>右邊的回首頁按鈕</h2><p>建立超連結透過 float 方式靠右，跟上面同樣位置，如下：</p>
<h3 id="修改-index-php-2"><a href="#修改-index-php-2" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">  &lt;?= date(&quot;m 月 d 號 l&quot;) ?&gt; | 今日瀏覽：&lt;?= $t3_visit ?&gt; | 累積瀏覽：&lt;?= $t3_total ?&gt;</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;index.php&quot;</span> <span class="attr">style</span>=<span class="string">&quot;float:right&quot;</span>&gt;</span>回首頁<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-4-主選單-15"><a href="#No-4-主選單-15" class="headerlink" title="No.4 主選單 (15%)"></a>No.4 主選單 (15%)</h1><p>這題是送分題，題目要求的動作在板型上都早已完成不需處理。所有選單會根據內容連接，所以只注意 URL 對應</p>
<p><img src="https://i.imgur.com/8rSTtOD.png" alt="q2t4"></p>
<h2 id="規劃選單連結內容"><a href="#規劃選單連結內容" class="headerlink" title="規劃選單連結內容"></a>規劃選單連結內容</h2><p>這裡設計 $content_zone 代碼為指定畫面，會依檔案名稱而異</p>
<h3 id="修改-index-php-3"><a href="#修改-index-php-3" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><p>這裡先預先做好兩種畫面，一個是用戶主頁，另一個是管理者主頁。管理者部分在 No.14 部分會用到。於頁首開頭處填入：</p>
<figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//for t4</span></span><br><span class="line"><span class="variable">$admain</span> = (<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;admin&#x27;</span>])) ? <span class="string">&quot;main&quot;</span> : <span class="string">&quot;admain&quot;</span>;</span><br><span class="line"><span class="variable">$main</span> = (<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;do&#x27;</span>])) ? <span class="variable">$admain</span> : <span class="variable">$_GET</span>[<span class="string">&#x27;do&#x27;</span>];</span><br></pre></td></tr></table></figure>

<p>以及找到內容區之位置填入</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>改成</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="meta">&lt;?php include $main . &quot;.php&quot; ?&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-5-動態文字廣告-5"><a href="#No-5-動態文字廣告-5" class="headerlink" title="No.5 動態文字廣告 (5%)"></a>No.5 動態文字廣告 (5%)</h1><p>就只是 <code>&lt;marquee&gt;&lt;/marquee&gt;</code>，依題目手動輸入字串在正確位置，在會員登入的左邊</p>
<p><img src="https://i.imgur.com/DonOUIT.png" alt="q2t5"></p>
<h2 id="加入跑馬燈"><a href="#加入跑馬燈" class="headerlink" title="加入跑馬燈"></a>加入跑馬燈</h2><p>注意已經占用 18%空間，左邊可用空間至少有 82%。</p>
<h3 id="修改-index-php-4"><a href="#修改-index-php-4" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><p>找到</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;width:18%; display:inline-block;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;?do=login&quot;</span>&gt;</span>會員登入<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>加入跑馬燈</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">style</span>=<span class="string">&quot;width:80%; display:inline-block;&quot;</span>&gt;</span></span><br><span class="line">  請民眾踴躍投稿電子報，讓電子報成為大家相互交流、分享的園地！詳見最新文章</span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;width:18%; display:inline-block;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;?do=login&quot;</span>&gt;</span>會員登入<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-6-會員登入登出-30"><a href="#No-6-會員登入登出-30" class="headerlink" title="No.6 會員登入登出 (30%)"></a>No.6 會員登入登出 (30%)</h1><p>設計登入登出按鈕，所對應的驗證功能與查詢密碼與註冊。</p>
<p><img src="https://i.imgur.com/x99C6Qa.png" alt="q2t6"></p>
<h2 id="設計登入"><a href="#設計登入" class="headerlink" title="設計登入"></a>設計登入</h2><p>示意圖上的線框設計，是使用 HTML5 表單的 fieldset，大部分的版面示意都有出現，所以多背一下這個結構。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  Your Content</span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="建立-login-php"><a href="#建立-login-php" class="headerlink" title="建立 login.php"></a>建立 login.php</h3><p>填入代碼設計提交表單。重點在於解題要習慣所有表單都會到 api.php 處理並夾帶動作要求 do&#x3D;login。</p>
<figure class="highlight html"><figcaption><span>login.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>會員登入<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=login&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    帳號：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;acc&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    密碼：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;登入&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;清除&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;?do=forget&quot;</span>&gt;</span>忘記密碼<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;?do=reg&quot;</span>&gt;</span>尚未註冊<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>題目還有要求 login.php 兩個連結到忘記密碼與註冊 (forget,register) 要做先跳過。在第九第十題才會開始設計。</p>
<h3 id="建立-api-php"><a href="#建立-api-php" class="headerlink" title="建立 api.php"></a>建立 api.php</h3><p>設計 switch 來做 do&#x3D;login 的處理。</p>
<ul>
<li>此外如果 admin 登入正確就給一個 session by admin</li>
<li>題目要求有處理結果的提示（使用 JS.alert，並使用 js 轉址。如果可登入就給個 session by user</li>
</ul>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;lib.php&quot;</span>;</span><br><span class="line"><span class="keyword">switch</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;do&#x27;</span>]) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;login&#x27;</span>:</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$_POST</span>[<span class="string">&#x27;acc&#x27;</span>] == <span class="string">&#x27;admin&#x27;</span> &amp;&amp; <span class="variable">$_POST</span>[<span class="string">&#x27;pwd&#x27;</span>] == <span class="string">&#x27;1234&#x27;</span>) <span class="variable">$_SESSION</span>[<span class="string">&#x27;admin&#x27;</span>] = <span class="string">&#x27;admin&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t6_user&quot;</span>, <span class="string">&quot;acc=&#x27;&quot;</span> . <span class="variable">$_POST</span>[<span class="string">&#x27;acc&#x27;</span>] . <span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$re</span> == <span class="literal">null</span>) <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;查無帳號&#x27;);&quot;</span> . <span class="title function_ invoke__">jlo</span>(<span class="string">&quot;index.php?do=login&quot;</span>) . <span class="string">&quot;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    <span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t6_user&quot;</span>, <span class="string">&quot;acc=&#x27;&quot;</span> . <span class="variable">$_POST</span>[<span class="string">&#x27;acc&#x27;</span>] . <span class="string">&quot;&#x27; and pwd=&#x27;&quot;</span> . <span class="variable">$_POST</span>[<span class="string">&#x27;pwd&#x27;</span>] . <span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$re</span> == <span class="literal">null</span>) <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;密碼錯誤&#x27;);&quot;</span> . <span class="title function_ invoke__">jlo</span>(<span class="string">&quot;index.php?do=login&quot;</span>) . <span class="string">&quot;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>] = <span class="variable">$_POST</span>[<span class="string">&#x27;acc&#x27;</span>];</span><br><span class="line">      <span class="title function_ invoke__">plo</span>(<span class="string">&quot;index.php&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="登入登出按鈕"><a href="#登入登出按鈕" class="headerlink" title="登入登出按鈕"></a>登入登出按鈕</h2><p>登入成功後，調整登入登出按鈕效果。這裡寫在 lib.php 可以減少對素材 index.php 的代碼複雜。</p>
<ul>
<li>未登入顯示<code>&lt;a href=&#39;?do=login&#39;&gt;會員登入&lt;/a&gt;</code></li>
<li>已登入顯示<code>歡迎，&quot;.$_SESSION[&#39;user&#39;].&quot;&lt;a href=&#39;api.php?do=logout&#39;&gt;登出&lt;/a&gt;</code>，登出在題目上有要求框線</li>
</ul>
<h3 id="增添-lib-php-1"><a href="#增添-lib-php-1" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//t6</span></span><br><span class="line"><span class="variable">$t6_btn</span> =</span><br><span class="line">  (<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>])) ?</span><br><span class="line">  <span class="string">&#x27;&lt;a href=&quot;?do=login&quot;&gt;會員登入&lt;/a&gt;&#x27;</span> :</span><br><span class="line">  <span class="string">&#x27;歡迎， &#x27;</span> . <span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>] . <span class="string">&#x27; &lt;a href=&quot;api.php?do=logout&quot; style=&quot;border: solid 1px #000&quot;&gt;登出&lt;/a&gt;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="修改-index-php-5"><a href="#修改-index-php-5" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><p>修改該對應位置</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;width:18%; display:inline-block;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;?do=login&quot;</span>&gt;</span>會員登入<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>為</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;width:18%; display:inline-block;&quot;</span>&gt;</span>&lt;?= $t6_btn ?&gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="登出"><a href="#登出" class="headerlink" title="登出"></a>登出</h2><p>題目沒有要求設計登出（可做可不做），設計清除 session 並回到首頁。</p>
<h3 id="增添-api-php"><a href="#增添-api-php" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;logout&#x27;</span>:</span><br><span class="line">  <span class="keyword">unset</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>]);</span><br><span class="line">  <span class="keyword">unset</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;admin&#x27;</span>]);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;index.php&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h1 id="No-7-主題內容顯示-20"><a href="#No-7-主題內容顯示-20" class="headerlink" title="No.7 主題內容顯示 (20%)"></a>No.7 主題內容顯示 (20%)</h1><p>這題分兩個動作設計，分別是首頁的 tabs HTML（用 Dreamwaver 做）頁簽版，與分類網誌（用 PHP+SQL 做）表列版</p>
<p><img src="https://i.imgur.com/uOUIsqH.png" alt="q2t7"><br><img src="https://i.imgur.com/N3eaSDC.png" alt="q2t7A"><br><img src="https://i.imgur.com/Pm6XncD.png" alt="q2t7B"></p>
<h2 id="首頁的分頁標籤"><a href="#首頁的分頁標籤" class="headerlink" title="首頁的分頁標籤"></a>首頁的分頁標籤</h2><p>index.php 預設所對應的 content zone 是 main。透過 dreamweaver 完成就好（因為 JS 較複雜）</p>
<ol>
<li>開啟 dreamweaver，建立一個空白 HTML。清空所有代碼，另存到某位置（如桌面）</li>
<li>使用 （示意圖為 C6 版本，泰山考場應該是 C6 版本，本解析將採用 C6 版本）<br>C6 版本：插入 &gt; Spry &gt; Spry 標籤面板 (CC 已不支援）<br>CC 版本：插入 &gt; Jquery UI &gt; tab</li>
<li>按下存檔，系統會問是否將延伸外掛 (JS+CSS 那些）存到該路徑上。（桌面上會多個 JS+CSS 資料夾）</li>
<li>將資料夾 <code>SpryAssets</code> 放回考試之根目錄，並將程式碼貼回 main.php</li>
</ol>
<p>以下為 Dreamweaver 幫你生成的 HTML+JS+CSS</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;SpryAssets/SpryTabbedPanels.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;SpryAssets/SpryTabbedPanels.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;TabbedPanels1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanels&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsTabGroup&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsTab&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;0&quot;</span>&gt;</span>Tab 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsTab&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;0&quot;</span>&gt;</span>Tab 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsTab&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;0&quot;</span>&gt;</span>Tab 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsContentGroup&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsContent&quot;</span>&gt;</span>內容 1</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsContent&quot;</span>&gt;</span>內容 2</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsContent&quot;</span>&gt;</span>內容 3</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> <span class="title class_">TabbedPanels1</span> = <span class="keyword">new</span> <span class="title class_">Spry</span>.<span class="property">Widget</span>.<span class="title class_">TabbedPanels</span>(<span class="string">&quot;TabbedPanels1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="設計-main-php"><a href="#設計-main-php" class="headerlink" title="設計 main.php"></a>設計 main.php</h3><p>4 個標籤文字內容各在 02A03.txt~02A06.txt，加以整理為（可以在 Dreamweaver 貼上文字，讓 DW 幫你生成 p 與 br 標籤：</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;SpryAssets/SpryTabbedPanels.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;SpryAssets/SpryTabbedPanels.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;TabbedPanels1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanels&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsTabGroup&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsTab&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;0&quot;</span>&gt;</span>健康新知<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsTab&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;0&quot;</span>&gt;</span>菸害防治<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsTab&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;0&quot;</span>&gt;</span>癌症防治<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsTab&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;0&quot;</span>&gt;</span>慢性病防治<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsContentGroup&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsContent&quot;</span>&gt;</span></span><br><span class="line">      缺乏運動已成為影響全球死亡率的第四大危險因子-國人無規律運動之比率高達 72.2%<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      資料來源： 行政院衛生署國民健康局 <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      發佈日期： 2012 / 10 / 07<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      世界衛生組織指出運動不足已成全球第四大致死因素，每年有 6%的死亡率與運動不足有關，僅次於高血壓（13％）、菸品使用（9％）及高血糖（6％）之後，有超過 200 萬死亡人數可歸因於靜態生活。世界上約 60-85％的成人過著靜態生活，三分之二的兒童運動不足，未來都將影響健康並造成公共衛生問題。運動不足除了增加死亡率，還會使心血管疾病、糖尿病、肥胖的風險加倍，並增加大腸癌、高血壓、骨質疏鬆、脂質失調症（lipid</span><br><span class="line">      disorders）、憂鬱、焦慮的風險。大約 21-25％乳癌及大腸癌、27%糖尿病與 30％的缺血性心臟病，係因運動不足所造成。許多國家運動不足的人口比率，也正不斷地增加，依據行政院體育委員會 2011 年運動城巿調查結果顯示，國人無規律運動習慣之比率高達 72.2%。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      我國十大死因的危險因子皆與運動不足有關，運動的好處很多，可以預防慢性疾病，降低罹患癌症、跌倒的風險等。國家衛生研究院溫啟邦教授利用台灣一個大型的追蹤世代，分析各個不同運動量的健康效益。研究發現，與不運動的人相比，每天運動 15 分鐘（每週約 90 分鐘）是可以減少 14%總死亡、10%癌症死亡及 20%的心血管疾病死亡，延長 3 年壽命。這些好處不但適用於各個年齡層包括年青人、年老人，也適用於男性與女性，對有心血管疾病風險的人包括吸菸、肥胖者，也一樣有用。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      國民健康局鼓勵民眾養成規律運動習慣，對於預防心血管疾病、糖尿病、高血脂以及高血壓等，都有顯著的效益，並可降低罹患癌症的風險，加速代謝脂肪，強化肌肉組織與功能，維持健康體重，提高腦內啡的釋放，降低情緒壓力。一般而言，成人只要每週運動累積達 150 分鐘、兒童每日運動累積 60 分鐘，就能有足夠的運動量，建議成人每天運動 30 分鐘，可分段累積運動量，效果與一次做完一樣。例如上下班（學）通勤時間與中午休息時間分段進行，每次 15 分鐘分 2 次或是每次 10 分鐘分 3 次完成，只要每天持之以恆，健康體能就會大大地提昇。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      許多上班族時常抱怨沒時間或空間運動，國民健康局製作 15 分鐘「上班族健康操」，不受場地、服裝的限制，每天上、下午各跳 15 分鐘健康操，可消耗 100 大卡的熱量，持續 1 年，約可減少 4 公斤，不但消耗過多熱量，還能促進身體健康。國民健康局為幫助同仁達到規律運動，運用電腦提示系統，於每天上午 9 時 45 分及下午 3 時 45 分，電腦螢幕會自動跳出「上班族健康操」畫面，鼓勵同仁暫時放下手邊的工作，隨著音樂一起動一動。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      對於沒有運動習的民眾，「健走」也是很好的入門運動，衛生署國民健康局自 91 年起推動「每日一萬步</span><br><span class="line">      健康有保固」，「健走」是既簡單又輕鬆的運動，不需特殊裝備，只要穿著輕便服裝、運動鞋，運用「抬頭挺胸縮小腹、雙手微握放腰部、自然擺動肩放鬆、邁開腳步向前行」健走小口訣，以 4 公里/小時的速度，日行萬步，只要 90 分鐘，步行約 6 公里，就可以消耗約 300 大卡，走向健康。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      國民健康局並介紹運動生活化之小撇步，協助民眾落實生活化的運動。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      1. 從日常生活中找出時間來活動，例如：步行買午、晚餐、水果、日用品；步行去用餐；蹓狗。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      2. 外出或是上下班（學）不妨多多利用大眾運輸工具，讓自己提早出門提前一站下車，步行至目的地。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      3. 可以走樓梯就不要坐電梯，如果一下子沒辦法走這麼多樓梯，步行走上幾層樓後再搭乘電梯，慢慢增加自己的運動量。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      4. 多和家人到戶外活動，或騎腳踏車、打球等活動。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      5. 假日可以自己動手整理家裡、擦擦地板，也可以增加運動量！或利用掃地、拖地時加大動作幅度，那也是很好的身體活動。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      6. 在家裡、辦公室附近找方便的資源運動，包括公園、職場辦的課程、活動。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      7. 減少看電視、打電玩等靜態生活的時間。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      民眾對運動如有疑問，可參考國民健康局肥胖防治網-「快樂動」(http://obesity.bhp.gov.tw)，亦可撥打免費市話健康體重管理電話諮詢服務，諮詢專線「0800-367-100（0800-瘦落去-要動動）」，也可利用國民健康局局網首頁或肥胖防治網問題諮詢專區的網路電話撥入功能，向客服人員諮詢關於運動、健康飲食及健康體重管理等相關疑問。</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsContent&quot;</span>&gt;</span></span><br><span class="line">      菸害防治法規<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第二十三條　　違反第五條或第十條第一項規定者，處新臺幣一萬元以上五萬元以下罰鍰，並得按次連續處罰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第二十四條　　製造或輸入違反第六條第一項、第二項或第七條第一項規定之菸品者，處新臺幣一百萬元以上五百萬元以下罰鍰，並令限期回收；屆期未回收者，按次連續處罰，違規之菸品沒入並銷毀之。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      販賣違反第六條第一項、第二項或第七條第一項規定之菸品者，處新臺幣一萬元以上五萬元以下罰鍰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第二十五條　　違反第八條第一項規定者，處新臺幣十萬元以上五十萬元以下罰鍰，並令限期申報；屆期未申報者，按次連續處罰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      規避、妨礙或拒絕中央主管機關依第八條第二項規定所為之取樣檢查（驗）者，處新臺幣十萬元以上五十萬元以下罰鍰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第二十六條　　製造或輸入業者，違反第九條各款規定者，處新臺幣五百萬元以上二千五百萬元以下罰鍰，並按次連續處罰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      廣告業或傳播媒體業者違反第九條各款規定，製作菸品廣告或接受傳播或刊載者，處新臺幣二十萬元以上一百萬元以下罰鍰，並按次處罰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      違反第九條各款規定，除前二項另有規定者外，處新臺幣十萬元以上五十萬元以下罰鍰，並按次連續處罰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第二十七條　　違反第十一條規定者，處新臺幣二千元以上一萬元以下罰鍰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第二十八條　　違反第十二條第一項規定者，應令其接受戒菸教育；行為人未滿十八歲且未結婚者，並應令其父母或監護人使其到場。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      無正當理由未依通知接受戒菸教育者，處新臺幣二千元以上一萬元以下罰鍰，並按次連續處罰；行為人未滿十八歲且未結婚者，處罰其父母或監護人。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第一項戒菸教育之實施辦法，由中央主管機關定之。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第二十九條　　違反第十三條規定者，處新臺幣一萬元以上五萬元以下罰鍰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第三十條　　製造或輸入業者，違反第十四條規定者，處新臺幣一萬元以上五萬元以下罰鍰，並令限期回收；屆期未回收者，按次連續處罰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      販賣業者違反第十四條規定者，處新臺幣一千元以上三千元以下罰鍰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第三十一條　　違反第十五條第一項或第十六條第一項規定者，處新臺幣二千元以上一萬元以下罰鍰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      違反第十五條第二項、第十六條第二項或第三項規定者，處新臺幣一萬元以上五萬元以下罰鍰，並令限期改正；屆期未改正者，得按次連續處罰。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第三十二條　　違反本法規定，經依第二十三條至前條規定處罰者，得併公告被處分人及其違法情形。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      第三十三條　　本法所定罰則，除第二十五條規定由中央主管機關處罰外，由直轄市、縣（市）主管機關處罰之。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsContent&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>降低罹癌風險 建構健康生活型態<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        癌症防治 三管齊下 Part 1 降低罹癌風險建構健康生活型態 <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>撰文：徐文媛　諮詢對象：衛生署國民健康局副局長趙坤郁 <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>致癌的因素很多，而且往往就存在於我們周遭環境及日常生活中。唯有正常飲食、適當運動、遠離致癌因子、養成健康行為與生活習慣，並改善生活環境品質，才能減少罹癌的危機。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        形塑健康生活新價值觀<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        「健康生活型態」牽涉的範圍很廣，衛生署國民健康局副局長趙坤郁表示，做為國家癌症防治政策的一環，應優先選擇具實證研究基礎的指標，所以健康飲食、菸害防制、檳榔防制及建立運動習慣，都是目前積極推動的衛生政策。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        生活型態需要長時間建立，所以要改變民眾健康生活型態，必須設定出各項目標策略和衡量指標，設法營造有助達成目標的軟、硬體環境，這些工作往往需要跨部門，甚至從民間社團、社區等基層的參與，才能讓議題逐漸發酵，達到社會價值的建立及風氣的改變。例如在健康飲食方面，至少需要健康局與食品衛生處（未來即將成立的食品藥物管理局）合作，除了宣導正確的飲食習慣，也要為民眾吃的健康把關，避免汙染等有害食物流入巿面。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        在推廣動態生活，建立國人運動習慣上，透過訂定國人健康體能指標，調查全國及各縣巿的運動盛行率，並以每年提升 0.5%為目標，結合體育主管單位及 25 縣巿政府同步進行政策的倡議及執行。以最容易、最安全的健走運動為例，現在 11</span><br><span class="line">        月 11 日「健走日」已成為許多縣巿政府的重要活動；而去年健康局選擇竹北、屏東、新莊三個縣轄巿，調查健康體能自治性環境的策略指標及調查評估方法，也成為今年體委會要求各縣巿建置運動地圖時的重要參考。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        建構健康生活型態是「預防勝於治療」的積極實現，不只能降低罹癌風險，也有助降低其他現代文明病的發生，長期來看是最具經濟效益的健康投資。趙坤郁強調，在全球化浪潮下，我們的飲食、嗜好。.. 等生活型態與西方國家愈來愈趨近，疾病型態也可能逐漸接近，必須及早提出因應措施。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>資料來源：行政院衛生署衛生報導 139 期<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        上稿日期：2010/1/20<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;TabbedPanelsContent&quot;</span>&gt;</span>長期憋尿 泌尿系統問題多 <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      資料來源：中央健康保險局雙月刊第 98 期<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      上稿日期：2012/08/10<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      文／游小雯<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      諮詢／郭育成（台北市立聯合醫院陽明院區泌尿科主任）<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      膀胱是中空、有彈性的肉囊，</span><br><span class="line">      約有 400c.c. 的容積，可暫存由腎臟製造、經輸尿管輸送下來的尿液。一般人排尿量每回約 200 到 350c.c.，每天至少要有 4 到 8 次排尿次數才算正常；如果膀胱已存有近 400c.c 的尿液卻未排出，就會有尿很急、膀胱很脹的感覺，所謂的「憋尿」，就是讓膀胱經常撐在「脹滿」的狀態，沒有適時地清空排尿。「就像水溝的水沒有在流動一樣！」台北市立聯合醫院陽明院區泌尿科郭育成主任表示，把尿憋在膀胱中，就像是沒有流動的髒水，很容易滋生細菌及沉澱物，長期下來，不僅泌尿道易受感染、影響膀胱收縮力，甚至會造成腎臟永久傷害，不僅無法完全修復，還要終身小心照護。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      憋尿會憋出哪些毛病呢？<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      「憋尿、排尿」這個看似簡單的動作，對身體健康卻有極大的影響，以下 4 項就是一般人最常憋出問題的病症：<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      1、尿道感染：<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      憋尿時，長時間無尿液經過尿道，無法將尿道開口的細菌沖走，大量細菌在尿道聚集，很容易引起發炎，尤其尿流不通暢的人（如前列腺肥大、障礙性排尿或結石），尿道感染的發生率，會比正常人高出許多。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      2、膀胱發炎：<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      憋尿使膀胱長期脹大，膀胱壁血管受到壓迫，膀胱黏膜就會缺血，只要身體抵抗力差時，細菌趁虛而入即造成「急性膀胱炎」。膀胱炎發生時，膀胱壁變得較敏感，儘管積存的尿液不多，也會急著想上廁所，但一次卻只能尿出一點點；而大部份的膀胱炎，尿道粘膜通常也處於發炎狀態，所以會出現「燒灼感」，此外通常還會有「血尿」的情況發生。比較嚴重的膀胱炎甚至會發燒、併發腎臟炎等症狀。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      3、前列腺炎與副睪丸炎：<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      男性若水份攝取不夠或憋尿使排尿次數過少，細菌就有機會透過尿道引發感染；嚴重的話，尿液甚至會經由輸精管倒流至前列腺或副睪丸，而引發前列腺炎或副睪丸炎，最嚴重可導致不孕，增加更多棘手的併發症。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      4、膀胱損傷：<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      長期憋尿會使膀胱過度脹扯、壁肌肉層變薄，如果出現纖維化的情形會影響彈性，導致膀胱收縮力因此變差，而有疼痛、頻尿或尿不乾淨等後遺症；如果神經受損嚴重，膀胱括約肌無力，甚至會造成尿不出來的後果。平日勤保健，別讓憋尿造成終身遺憾許多上班族與公司主管，一忙或開會經常就是好幾個小時，為了不影響進度，常忘了上廁所，即使有尿意也盡量憋著，憋尿不只是造成泌尿系統發炎，尿液回流到腎臟也會造成腎積水引發尿毒症等併發症，最後很可能靠洗腎度日了！<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      平日盡量力行以下 4 項原則：<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      1、多喝水、不憋尿。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      2、注意個人衛生：如多淋浴少盆浴、女生在如廁後記得由前往後擦、性行為前後（不論男女）應注意會陰部、肛門口及尿道口的清潔工作。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      3、正常的飲食習慣及充分的休息與睡眠，以增加抵抗力及免疫力。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      4、多注意及控制易引發膀胱炎的疾病：如糖尿病、尿路結石、攝護腺肥大等。<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      如果民眾發現自己解尿不舒服時，一定要在第一時間就診，讓醫師採用檢體對症下藥，只要沒有其他的特殊問題併存，同時能接受完整療程的抗生素治療，通常一星期左右即可痊癒。不過服藥的時間及用量絕對要遵照醫師囑咐，如果自行隨意停藥或不按時服用，很可能會造成殘存的細菌出現抗藥性，非但原本的症狀無法痊癒，還可能帶來慢性泌尿道發炎、尿路結石、腎臟功能受損等併發症，千萬要特別注意。</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> <span class="title class_">TabbedPanels1</span> = <span class="keyword">new</span> <span class="title class_">Spry</span>.<span class="property">Widget</span>.<span class="title class_">TabbedPanels</span>(<span class="string">&quot;TabbedPanels1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="分類網誌"><a href="#分類網誌" class="headerlink" title="分類網誌"></a>分類網誌</h2><p>先設計版型，用 table 標籤分為左邊的選項區域（固定）跟右邊的文章區。導覽列要出現該分類標題</p>
<ol>
<li>$title：利用 $_GET[‘cls’] 去轉為對應的麵包屑之標題文字</li>
<li>文章區：如果有 $_GET[‘id’] 時，則顯示該細節文章，沒有則根據 $_GET[‘cls’] 去產生標題與超連結帶 id</li>
</ol>
<h3 id="建立-po-php（參考-login-php"><a href="#建立-po-php（參考-login-php" class="headerlink" title="建立 po.php（參考 login.php)"></a>建立 po.php（參考 login.php)</h3><figure class="highlight html"><figcaption><span>po.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">$_GET[&#x27;cls&#x27;] = (empty($_GET[&#x27;cls&#x27;])) ? 1 : $_GET[&#x27;cls&#x27;];</span></span><br><span class="line"><span class="meta">$title = [&quot;健康新知&quot;, &quot;菸害防治&quot;, &quot;癌症防治&quot;, &quot;慢性病防治&quot;];</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">目前位置：首頁&gt;分類網誌&gt;&lt;?= $title[$_GET[&#x27;cls&#x27;] - 1] ?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">20%</span> <span class="attr">valign</span>=<span class="string">top</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">legend</span>&gt;</span>網誌分類<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;blo&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=po&amp;cls=1&quot;</span>&gt;</span>健康新知<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;blo&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=po&amp;cls=2&quot;</span>&gt;</span>菸害防治<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;blo&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=po&amp;cls=3&quot;</span>&gt;</span>癌症防治<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;blo&quot;</span> <span class="attr">href</span>=<span class="string">&quot;?do=po&amp;cls=4&quot;</span>&gt;</span>慢性病防治<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">valign</span>=<span class="string">top</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">legend</span>&gt;</span>文章列表<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">        <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">        if (empty($_GET[&#x27;id&#x27;])) &#123;</span></span><br><span class="line"><span class="meta">          $re = select(&quot;q2t7_blog&quot;, &quot;cls=&quot; . $_GET[&#x27;cls&#x27;]);</span></span><br><span class="line"><span class="meta">          foreach ($re as $ro) echo &#x27;&lt;a href=&quot;?do=po&amp;cls=&#x27; . $_GET[&#x27;cls&#x27;] . &#x27;&amp;id=&#x27; . $ro[&#x27;id&#x27;] . &#x27;&quot;&gt;&#x27; . $ro[&#x27;title&#x27;] . &#x27;&lt;/a&gt;&lt;br&gt;&#x27;;</span></span><br><span class="line"><span class="meta">        &#125; else &#123;</span></span><br><span class="line"><span class="meta">          $re = select(&quot;q2t7_blog&quot;, &quot;id=&quot; . $_GET[&#x27;id&#x27;]);</span></span><br><span class="line"><span class="meta">          echo $re[0][&#x27;text&#x27;];</span></span><br><span class="line"><span class="meta">        &#125;</span></span><br><span class="line"><span class="meta">        ?&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-8-頁尾版權-5"><a href="#No-8-頁尾版權-5" class="headerlink" title="No.8 頁尾版權 (5%)"></a>No.8 頁尾版權 (5%)</h1><p>主要是添加 date() 做為年份。至於定位部分因為說明+示意圖太詭異，請直接以題目之文字描敘為主。</p>
<p><img src="https://i.imgur.com/E8XabIN.png" alt="q2t8"></p>
<h2 id="設計頁尾版權"><a href="#設計頁尾版權" class="headerlink" title="設計頁尾版權"></a>設計頁尾版權</h2><p>如果你要修正 CSS，靠兩個 DIV 處理第一行至中，第二行為 float:right</p>
<h3 id="修改-index-php-6"><a href="#修改-index-php-6" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><p>找到</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span></span><br><span class="line">本網站建議使用：IE9.0 以上版本，1024 x 768 pixels 以上觀賞瀏覽 ， Copyright © 2014 健康促進網社群平台 All Right Reserved </span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span>服務信箱：health@test.labor.gov.tw<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./home_files/02B02.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;45&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>主要是 <code>&lt;?date(&quot;Y&quot;)?&gt;</code> 這部分，改成</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ct&quot;</span>&gt;</span>本網站建議使用：IE9.0 以上版本，1024 x 768 pixels 以上觀賞瀏覽 ， Copyright © &lt;?=date(&quot;Y&quot;)?&gt;健康促進網社群平台 All Right Reserved     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;float:right&quot;</span>&gt;</span>服務信箱：health@test.labor.gov.tw<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./home_files/02B02.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;45&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-9-忘記密碼頁面-10"><a href="#No-9-忘記密碼頁面-10" class="headerlink" title="No.9 忘記密碼頁面 (10%)"></a>No.9 忘記密碼頁面 (10%)</h1><p>延續第六題的單元，因為要直接顯示結果在同畫面就不用轉去 api 處理了。將 PHP 寫在原畫面上</p>
<p><img src="https://i.imgur.com/kLi61Mq.png" alt="q2t9"></p>
<h2 id="設計表單"><a href="#設計表單" class="headerlink" title="設計表單"></a>設計表單</h2><p>這裡就 select，檢查，對應輸出。</p>
<h3 id="建立-forget-php"><a href="#建立-forget-php" class="headerlink" title="建立 forget.php"></a>建立 forget.php</h3><figure class="highlight html"><figcaption><span>forget.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">$ans = &quot;&quot;;</span></span><br><span class="line"><span class="meta">if (!empty($_POST[&#x27;mail&#x27;])) &#123;</span></span><br><span class="line"><span class="meta">  $re = select(&quot;q2t6_user&quot;, &quot;mail=&#x27;&quot; . $_POST[&#x27;mail&#x27;] . &quot;&#x27;&quot;);</span></span><br><span class="line"><span class="meta">  if ($re != null) $ans = &quot;你的密碼為：&quot; . $re[0][&#x27;pwd&#x27;];</span></span><br><span class="line"><span class="meta">  else $ans = &quot;查無此資料&quot;;</span></span><br><span class="line"><span class="meta">&#125;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>忘記密碼<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    請輸入信箱以查詢密碼<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;mail&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    &lt;?= $ans ?&gt;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;尋找&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="No-10-註冊會員頁面-15"><a href="#No-10-註冊會員頁面-15" class="headerlink" title="No.10 註冊會員頁面 (15%)"></a>No.10 註冊會員頁面 (15%)</h1><p>延續第六題的單元，在 index.php?do&#x3D;reg 這個網頁位置。做個 form 表單新增。</p>
<p><img src="https://i.imgur.com/61WXpTz.png" alt="q2t10"></p>
<h2 id="版面設計"><a href="#版面設計" class="headerlink" title="版面設計"></a>版面設計</h2><p>先設計好版面，善用之前的版型出現過的 fieldset 標籤：</p>
<h3 id="建立-reg-php（參考-login-php"><a href="#建立-reg-php（參考-login-php" class="headerlink" title="建立 reg.php（參考 login.php)"></a>建立 reg.php（參考 login.php)</h3><figure class="highlight html"><figcaption><span>reg.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>會員註冊<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  *請設定您要註冊的帳號及密碼（最長 12 個字元） <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=reg&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    Step1: 登入帳號 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;acc&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    Step2: 登入密碼 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    Step3: 再次確認密碼 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    Step4: 信箱（忘記密碼時使用） <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;mail&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;註冊&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;清除&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php-1"><a href="#增添-api-php-1" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><p>表單做新增 SQL 處理，連同把驗證也在這裡，如果錯誤就用 window.history.back 踢回上一頁</p>
<ol>
<li>如果四個欄位有空白，alert 警告並踢回上頁</li>
<li>如果密碼兩者不同值，alert 警告並踢回上頁</li>
<li>如果檢查到重覆帳號，alert 警告並踢回上頁</li>
<li>如果沒有，就新增帳號密碼，alert 成功轉回首頁。($_POST[‘pwd1’] 用不到，需 unset)</li>
</ol>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;reg&#x27;</span>:</span><br><span class="line">  <span class="variable">$msg</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$_POST</span>[<span class="string">&#x27;acc&#x27;</span>] == <span class="literal">null</span> || <span class="variable">$_POST</span>[<span class="string">&#x27;pwd&#x27;</span>] == <span class="literal">null</span> || <span class="variable">$_POST</span>[<span class="string">&#x27;pwd1&#x27;</span>] == <span class="literal">null</span> || <span class="variable">$_POST</span>[<span class="string">&#x27;mail&#x27;</span>] == <span class="literal">null</span>)</span><br><span class="line">    <span class="variable">$msg</span> .= <span class="string">&quot;alert(&#x27;不可空白&#x27;);&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$_POST</span>[<span class="string">&#x27;pwd&#x27;</span>] != <span class="variable">$_POST</span>[<span class="string">&#x27;pwd1&#x27;</span>])</span><br><span class="line">    <span class="variable">$msg</span> .= <span class="string">&quot;alert(&#x27;密碼錯誤&#x27;);&quot;</span>;</span><br><span class="line">  <span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t6_user&quot;</span>, <span class="string">&quot;acc=&#x27;&quot;</span> . <span class="variable">$_POST</span>[<span class="string">&#x27;acc&#x27;</span>] . <span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$re</span> != <span class="literal">null</span>)</span><br><span class="line">    <span class="variable">$msg</span> .= <span class="string">&quot;alert(&#x27;帳號重複&#x27;);&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$msg</span>) <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;&quot;</span> . <span class="variable">$msg</span> . <span class="string">&quot;window.history.back()&lt;/script&gt;&quot;</span>;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">unset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;pwd1&#x27;</span>]);</span><br><span class="line">    <span class="title function_ invoke__">insert</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q2t6_user&quot;</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;註冊完成，歡迎加入&#x27;);&quot;</span> . <span class="title function_ invoke__">jlo</span>(<span class="string">&quot;index.php&quot;</span>) . <span class="string">&quot;&lt;/script&gt;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h1 id="No-11-最新文章-25"><a href="#No-11-最新文章-25" class="headerlink" title="No.11 最新文章 (25%)"></a>No.11 最新文章 (25%)</h1><p>這題設計要點比較多，分為幾個重點如下</p>
<ul>
<li>分頁功能（limit 一次 5 筆），包含分頁導覽。</li>
<li>左邊為標題區，右邊為內容區。內容區可能是縮文或是全文（利用 $_GET[‘id’] 判斷處理）。</li>
<li>登入者提供讚功能</li>
</ul>
<p><img src="https://i.imgur.com/JhtNHEE.png" alt="q2t11"></p>
<h2 id="列表-5-筆-分頁導覽-縮文-or-全文"><a href="#列表-5-筆-分頁導覽-縮文-or-全文" class="headerlink" title="列表 5 筆 + 分頁導覽 + 縮文 or 全文"></a>列表 5 筆 + 分頁導覽 + 縮文 or 全文</h2><p><strong>列表五筆的重點代碼</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>] = (<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>])) ? <span class="number">0</span> : <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line"><span class="variable">$nw</span> = (<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>])) ? <span class="number">1</span> : <span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>];</span><br><span class="line"><span class="variable">$begin</span> = (<span class="variable">$nw</span> - <span class="number">1</span>) * <span class="number">5</span>;</span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t7_blog&quot;</span>, <span class="string">&quot;dpy=1 limit &quot;</span> . <span class="variable">$begin</span> . <span class="string">&quot;,5&quot;</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$ro</span>) &#123;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;td&gt;<span class="meta">&lt;?=</span> <span class="variable">$ro</span>[<span class="string">&#x27;title&#x27;</span>] <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;<span class="meta">&lt;?=</span> <span class="variable">$ro</span>[<span class="string">&#x27;text&#x27;</span>] <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>分頁導覽的重點代碼</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">navpage</span>(<span class="string">&quot;q2t7_blog&quot;</span>, <span class="string">&quot;dpy=1&quot;</span>, <span class="number">5</span>, <span class="variable">$nw</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$nw</span> == <span class="variable">$key</span>) <span class="keyword">echo</span> <span class="string">&#x27;&lt;a style=&quot;font-size:2em&quot; href=&quot;?do=news&amp;page=&#x27;</span> . <span class="variable">$value</span> . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;&lt;/a&gt;&#x27;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">echo</span> <span class="string">&#x27;&lt;a href=&quot;?do=news&amp;page=&#x27;</span> . <span class="variable">$value</span> . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;&lt;/a&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>縮文 or 全文的重點代碼。</strong></p>
<ol>
<li>如果 GET[‘id’] 存在且同等於本行的 ID，那就是全文</li>
<li>否則，顯示縮文並自帶超連結夾帶 id，記得保留 page 值</li>
</ol>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?=</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>] == <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>]) ? <span class="variable">$ro</span>[<span class="string">&#x27;text&#x27;</span>] : <span class="string">&#x27;&lt;a href=&quot;?do=news&amp;page=&#x27;</span> . <span class="variable">$nw</span> . <span class="string">&#x27;&amp;id=&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>] . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="title function_ invoke__">mb_substr</span>(<span class="variable">$ro</span>[<span class="string">&#x27;text&#x27;</span>], <span class="number">0</span>, <span class="number">10</span>) . <span class="string">&#x27;...&lt;/a&gt;&#x27;</span> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>合併起來為以下完整碼</p>
<h3 id="建立-news-php"><a href="#建立-news-php" class="headerlink" title="建立 news.php"></a>建立 news.php</h3><figure class="highlight php"><figcaption><span>news.php</span></figcaption><table><tr><td class="code"><pre><span class="line">目前位置：首頁&gt;最新消息區</span><br><span class="line">&lt;table&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;td width=<span class="number">20</span>% valign=top&gt;標題&lt;/td&gt;</span><br><span class="line">    &lt;td valign=top&gt;內容&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line">  <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>] = (<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>])) ? <span class="number">0</span> : <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">  <span class="variable">$nw</span> = (<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>])) ? <span class="number">1</span> : <span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>];</span><br><span class="line">  <span class="variable">$begin</span> = (<span class="variable">$nw</span> - <span class="number">1</span>) * <span class="number">5</span>;</span><br><span class="line">  <span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t7_blog&quot;</span>, <span class="string">&quot;dpy=1 limit &quot;</span> . <span class="variable">$begin</span> . <span class="string">&quot;,5&quot;</span>);</span><br><span class="line">  <span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$ro</span>) &#123;</span><br><span class="line">  <span class="meta">?&gt;</span></span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">      &lt;td&gt;<span class="meta">&lt;?=</span> <span class="variable">$ro</span>[<span class="string">&#x27;title&#x27;</span>] <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;</span><br><span class="line">        <span class="meta">&lt;?=</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>] == <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>]) ?</span><br><span class="line">          <span class="variable">$ro</span>[<span class="string">&#x27;text&#x27;</span>] :</span><br><span class="line">          <span class="string">&#x27;&lt;a href=&quot;?do=news&amp;page=&#x27;</span> . <span class="variable">$nw</span> . <span class="string">&#x27;&amp;id=&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>] . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="title function_ invoke__">mb_substr</span>(<span class="variable">$ro</span>[<span class="string">&#x27;text&#x27;</span>], <span class="number">0</span>, <span class="number">10</span>) . <span class="string">&#x27;...&lt;/a&gt;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line">      &lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">?&gt;</span></span><br><span class="line">&lt;/table&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$re</span> = <span class="title function_ invoke__">navpage</span>(<span class="string">&quot;q2t7_blog&quot;</span>, <span class="string">&quot;dpy=1&quot;</span>, <span class="number">5</span>, <span class="variable">$nw</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$nw</span> == <span class="variable">$key</span>) <span class="keyword">echo</span> <span class="string">&#x27;&lt;a style=&quot;font-size:2em&quot; href=&quot;?do=news&amp;page=&#x27;</span> . <span class="variable">$value</span> . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;&lt;/a&gt;&#x27;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">echo</span> <span class="string">&#x27;&lt;a href=&quot;?do=news&amp;page=&#x27;</span> . <span class="variable">$value</span> . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;&lt;/a&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="讚功能"><a href="#讚功能" class="headerlink" title="讚功能"></a>讚功能</h2><p>素材內有提供函式 good(id,type,user) 能協助你向後端傳送訊息以及切換畫面的文字顯示，步驟稍微會變多但好處是在分頁下能即時操作，然而考量題目 12 的排序問題，筆者認為不要使用該素材 Ajax 版本避免造成誤會上的扣分，改使用 php 的刷新載入方式完成。</p>
<h3 id="登入者的顯示"><a href="#登入者的顯示" class="headerlink" title="登入者的顯示"></a>登入者的顯示</h3><p>先設計一個變數為 $gdbtn 判斷使用者已登入才有內容，並檢查是否 [user name] 與 [blog id] 有紀錄</p>
<ol>
<li>有，設計收回讚反應</li>
<li>沒有，設計讚反應</li>
</ol>
<h3 id="增添-news-php"><a href="#增添-news-php" class="headerlink" title="增添 news.php"></a>增添 news.php</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$gdbtn</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>])) &#123;</span><br><span class="line">  <span class="variable">$gd</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t11_good&quot;</span>, <span class="string">&quot;user=&#x27;&quot;</span> . <span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>] . <span class="string">&quot;&#x27; and blog=&quot;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>]);</span><br><span class="line">  <span class="variable">$gdbtn</span> = (<span class="variable">$gd</span> != <span class="literal">null</span>) ?</span><br><span class="line">    <span class="string">&#x27;&lt;a href=&quot;api.php?do=gdsub&amp;id=&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>] . <span class="string">&#x27;&quot;&gt;收回讚&lt;/a&gt;&#x27;</span> :</span><br><span class="line">    <span class="string">&#x27;&lt;a href=&quot;api.php?do=gdadd&amp;id=&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>] . <span class="string">&#x27;&quot;&gt;讚&lt;/a&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這段代碼放在 SQL select 之後的迴圈並取得 <code>$ro[&#39;id&#39;]</code>，讚擺放在新的第三組 td 內，故 table 標籤部分整合起來變成：</p>
<figure class="highlight html"><figcaption><span>news.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">20%</span> <span class="attr">valign</span>=<span class="string">top</span>&gt;</span>標題<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">valign</span>=<span class="string">top</span>&gt;</span>內容<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ↓↓↓↓↓↓↓↓↓↓ there ↓↓↓↓↓↓↓↓↓--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">10%</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">  $_GET[&#x27;id&#x27;] = (empty($_GET[&#x27;id&#x27;])) ? 0 : $_GET[&#x27;id&#x27;];</span></span><br><span class="line"><span class="meta">  $nw = (empty($_GET[&#x27;page&#x27;])) ? 1 : $_GET[&#x27;page&#x27;];</span></span><br><span class="line"><span class="meta">  $begin = ($nw - 1) * 5;</span></span><br><span class="line"><span class="meta">  $re = select(&quot;q2t7_blog&quot;, &quot;dpy=1 limit &quot; . $begin . &quot;,5&quot;);</span></span><br><span class="line"><span class="meta">  foreach ($re as $ro) &#123;</span></span><br><span class="line"><span class="meta">    /* ↓↓↓↓↓↓↓↓↓↓ there ↓↓↓↓↓↓↓↓↓ */</span></span><br><span class="line"><span class="meta">    $gdbtn = &quot;&quot;;</span></span><br><span class="line"><span class="meta">    if (!empty($_SESSION[&#x27;user&#x27;])) &#123;</span></span><br><span class="line"><span class="meta">      $gd = select(&quot;q2t11_good&quot;, &quot;user=&#x27;&quot; . $_SESSION[&#x27;user&#x27;] . &quot;&#x27; and blog=&quot; . $ro[&#x27;id&#x27;]);</span></span><br><span class="line"><span class="meta">      $gdbtn = ($gd != null) ?</span></span><br><span class="line"><span class="meta">        &#x27;&lt;a href=&quot;api.php?do=gdsub&amp;id=&#x27; . $ro[&#x27;id&#x27;] . &#x27;&quot;&gt;收回讚&lt;/a&gt;&#x27; :</span></span><br><span class="line"><span class="meta">        &#x27;&lt;a href=&quot;api.php?do=gdadd&amp;id=&#x27; . $ro[&#x27;id&#x27;] . &#x27;&quot;&gt;讚&lt;/a&gt;&#x27;;</span></span><br><span class="line"><span class="meta">    &#125;</span></span><br><span class="line"><span class="meta">  ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $ro[&#x27;title&#x27;] ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">        &lt;?= ($_GET[&#x27;id&#x27;] == $ro[&#x27;id&#x27;]) ?</span><br><span class="line">          $ro[&#x27;text&#x27;] :</span><br><span class="line">          &#x27;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;?do=news&amp;page=&#x27; . $nw . &#x27;&amp;id=&#x27; . $ro[&#x27;id&#x27;] . &#x27;&quot;</span>&gt;</span>&#x27; . mb_substr($ro[&#x27;text&#x27;], 0, 10) . &#x27;...<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27; ?&gt;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- ↓↓↓↓↓↓↓↓↓↓ there ↓↓↓↓↓↓↓↓↓--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $gdbtn ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">  &#125;</span></span><br><span class="line"><span class="meta">  ?&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="讚的資料處理"><a href="#讚的資料處理" class="headerlink" title="讚的資料處理"></a>讚的資料處理</h2><p>提交的 API 行為分兩個動作：</p>
<ul>
<li>對文章的 num 修改數字，num+1 跟 num-1 函式庫那裏會自動+1-1。</li>
<li>對資料表 <code>q2t11_good</code> 做新增 (insert) 或刪除 (delete) 當作對應的讚紀錄。</li>
<li>刪除時因為不知道讚紀錄的 ID ，所以另使用 delat 以條件（用戶 ID 跟文章 ID) 做刪除而不是靠紀錄 ID。</li>
<li>另外也要記得對該文章的統計做更新 (update)</li>
</ul>
<h3 id="增添-api-php-2"><a href="#增添-api-php-2" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;gdadd&#x27;</span>:</span><br><span class="line">  <span class="variable">$post</span>[<span class="string">&#x27;user&#x27;</span>] = <span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>];</span><br><span class="line">  <span class="variable">$post</span>[<span class="string">&#x27;blog&#x27;</span>] = <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">  <span class="title function_ invoke__">insert</span>(<span class="variable">$post</span>, <span class="string">&quot;q2t11_good&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="variable">$num</span>[<span class="string">&#x27;num+1&#x27;</span>] = <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$num</span>, <span class="string">&quot;q2t7_blog&quot;</span>);</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;window.history.back()&lt;/script&gt;&quot;</span>;</span><br><span class="line">  <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;gdsub&#x27;</span>:</span><br><span class="line">  <span class="variable">$post</span>[<span class="string">&#x27;delwh&#x27;</span>] = <span class="string">&quot;user=&#x27;&quot;</span> . <span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>] . <span class="string">&quot;&#x27; and blog=&quot;</span> . <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$post</span>, <span class="string">&quot;q2t11_good&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="variable">$num</span>[<span class="string">&#x27;num-1&#x27;</span>] = <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$num</span>, <span class="string">&quot;q2t7_blog&quot;</span>);</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;window.history.back()&lt;/script&gt;&quot;</span>;</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h1 id="No-12-人氣文章-25"><a href="#No-12-人氣文章-25" class="headerlink" title="No.12 人氣文章 (25%)"></a>No.12 人氣文章 (25%)</h1><p>版型跟第 11 題差不多，主要設計有以下幾點：</p>
<ol>
<li>一樣有分頁功能（limit 一次 5 筆），包含分頁導覽。</li>
<li>左邊為標題區，右邊為縮文區。全文使用浮動視窗顯示（偷第一題的 JS 來用、)</li>
<li>顯示讚統計</li>
<li>登入者提供讚功能</li>
</ol>
<p><img src="https://i.imgur.com/4wy1K8Z.png" alt="q2t12"></p>
<p>這題稍微複雜些，主要是需要 select 後跑 foreach 的位置在版型內部。以及 foreach 內需要混和不少題目動作。難度還可以且代碼也不算多，就比較需要理解每一小段的用途。像是 limit 的列表、讚功能與登入者、分頁、分頁導覽。以及一些細節上的顯示調整。</p>
<h2 id="列表-5-筆-分頁導覽-讚功能"><a href="#列表-5-筆-分頁導覽-讚功能" class="headerlink" title="列表 5 筆 + 分頁導覽 + 讚功能"></a>列表 5 筆 + 分頁導覽 + 讚功能</h2><p>除了縮文與全文的表現方式會特別解釋，其他這裡不再細部解析三段代碼，直接調整到適合的版型。</p>
<p>另外調整一下現有的資料：</p>
<ol>
<li>調整 select 的 order by num desc</li>
<li>先顯是全文，我們之後再來處理這點</li>
<li>多了 $ro[‘num’] 顯示統計值，記得放入圖片 02B03.jpg</li>
</ol>
<h3 id="建立-pop-php（參考-news-php"><a href="#建立-pop-php（參考-news-php" class="headerlink" title="建立 pop.php（參考 news.php)"></a>建立 pop.php（參考 news.php)</h3><figure class="highlight html"><figcaption><span>pop.php</span></figcaption><table><tr><td class="code"><pre><span class="line">目前位置：首頁&gt;人氣文章區</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">20%</span> <span class="attr">valign</span>=<span class="string">top</span>&gt;</span>標題<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">valign</span>=<span class="string">top</span>&gt;</span>內容<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">20%</span>&gt;</span>人氣<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">  $_GET[&#x27;id&#x27;] = (empty($_GET[&#x27;id&#x27;])) ? 0 : $_GET[&#x27;id&#x27;];</span></span><br><span class="line"><span class="meta">  $nw = (empty($_GET[&#x27;page&#x27;])) ? 1 : $_GET[&#x27;page&#x27;];</span></span><br><span class="line"><span class="meta">  $begin = ($nw - 1) * 5;</span></span><br><span class="line"><span class="meta">  $re = select(&quot;q2t7_blog&quot;, &quot;dpy=1 order by num desc limit &quot; . $begin . &quot;,5&quot;);</span></span><br><span class="line"><span class="meta">  foreach ($re as $ro) &#123;</span></span><br><span class="line"><span class="meta">    $gdbtn = &quot;&quot;;</span></span><br><span class="line"><span class="meta">    if (!empty($_SESSION[&#x27;user&#x27;])) &#123;</span></span><br><span class="line"><span class="meta">      $gd = select(&quot;q2t11_good&quot;, &quot;user=&#x27;&quot; . $_SESSION[&#x27;user&#x27;] . &quot;&#x27; and blog=&quot; . $ro[&#x27;id&#x27;]);</span></span><br><span class="line"><span class="meta">      $gdbtn = ($gd != null) ?</span></span><br><span class="line"><span class="meta">        &#x27;&lt;a href=&quot;api.php?do=gdsub&amp;id=&#x27; . $ro[&#x27;id&#x27;] . &#x27;&quot;&gt; - 收回讚&lt;/a&gt;&#x27; :</span></span><br><span class="line"><span class="meta">        &#x27;&lt;a href=&quot;api.php?do=gdadd&amp;id=&#x27; . $ro[&#x27;id&#x27;] . &#x27;&quot;&gt; - 讚&lt;/a&gt;&#x27;;</span></span><br><span class="line"><span class="meta">    &#125;</span></span><br><span class="line"><span class="meta">  ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $ro[&#x27;title&#x27;] ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $ro[&#x27;text&#x27;] ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $ro[&#x27;num&#x27;] ?&gt;個人說<span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">&quot;height:1em&quot;</span> <span class="attr">src</span>=<span class="string">&quot;img/02B03.jpg&quot;</span>&gt;</span>&lt;?= $gdbtn ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">  &#125;</span></span><br><span class="line"><span class="meta">  ?&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">$re = navpage(&quot;q2t7_blog&quot;, &quot;dpy=1&quot;, 5, $nw);</span></span><br><span class="line"><span class="meta">foreach ($re as $key =&gt; $value) &#123;</span></span><br><span class="line"><span class="meta">  if ($nw == $key) echo &#x27;&lt;a style=&quot;font-size:2em&quot; href=&quot;?do=news&amp;page=&#x27; . $value . &#x27;&quot;&gt;&#x27; . $key . &#x27;&lt;/a&gt;&#x27;;</span></span><br><span class="line"><span class="meta">  else echo &#x27;&lt;a href=&quot;?do=news&amp;page=&#x27; . $value . &#x27;&quot;&gt;&#x27; . $key . &#x27;&lt;/a&gt;&#x27;;</span></span><br><span class="line"><span class="meta">&#125;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>以上你已經完成 80%要求</p>
<h2 id="浮動視窗"><a href="#浮動視窗" class="headerlink" title="浮動視窗"></a>浮動視窗</h2><p>去偷第一題的 JS，就放在 01P02.htm（首頁） 的最新消息那裏包含 JS，整理一下段落後放置到你本頁的最後，並先分析需要的 code 在哪裡</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;alt&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: absolute; width: 350px; min-height: 100px; word-break:break-all; text-align:justify;  background-color: rgb(255, 255, 204); top: 0px; left: 400px; z-index: 99; display: none; padding: 5px; border: 3px double rgb(255, 153, 0); background-position: initial initial; background-repeat: initial initial;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  $(<span class="string">&quot;.sswww&quot;</span>).<span class="title function_">hover</span>(</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      $(<span class="string">&quot;#alt&quot;</span>).<span class="title function_">html</span>(<span class="string">&quot;&quot;</span> + $(<span class="variable language_">this</span>).<span class="title function_">children</span>(<span class="string">&quot;.all&quot;</span>).<span class="title function_">html</span>() + <span class="string">&quot;&quot;</span>).<span class="title function_">css</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&quot;top&quot;</span>: $(<span class="variable language_">this</span>).<span class="title function_">offset</span>().<span class="property">top</span> - <span class="number">250</span></span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">      $(<span class="string">&quot;#alt&quot;</span>).<span class="title function_">show</span>()</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  )</span></span><br><span class="line"><span class="language-javascript">  $(<span class="string">&quot;.sswww&quot;</span>).<span class="title function_">mouseout</span>(</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      $(<span class="string">&quot;#alt&quot;</span>).<span class="title function_">hide</span>()</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  )</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>這段解釋大致重點為：滑到觸發對象 <code>.sswww</code>時 <code>div#alt</code> 會顯示出來，並同時抓取觸發對象的內部 class&#x3D;all 之內容。所以我們改一下 HTMLL 跟 JS，在每個迴圈裡面的文字部分。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sswww&quot;</span>&gt;</span>&lt;?= mb_substr($ro[&#x27;text&#x27;], 0, 10)?&gt;...</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;all&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none&quot;</span>&gt;</span>&lt;?= $ro[&#x27;text&#x27;] ?&gt;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="調整-pop-php"><a href="#調整-pop-php" class="headerlink" title="調整 pop.php"></a>調整 pop.php</h3><p>總結整步驟完整代碼為</p>
<figure class="highlight php"><figcaption><span>pop.php</span></figcaption><table><tr><td class="code"><pre><span class="line">目前位置：首頁&gt;人氣文章區</span><br><span class="line">&lt;table&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;td width=<span class="number">20</span>% valign=top&gt;標題&lt;/td&gt;</span><br><span class="line">    &lt;td valign=top&gt;內容&lt;/td&gt;</span><br><span class="line">    &lt;td width=<span class="number">20</span>%&gt;人氣&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line">  <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>] = (<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>])) ? <span class="number">0</span> : <span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">  <span class="variable">$nw</span> = (<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>])) ? <span class="number">1</span> : <span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>];</span><br><span class="line">  <span class="variable">$begin</span> = (<span class="variable">$nw</span> - <span class="number">1</span>) * <span class="number">5</span>;</span><br><span class="line">  <span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t7_blog&quot;</span>, <span class="string">&quot;dpy=1 order by num desc limit &quot;</span> . <span class="variable">$begin</span> . <span class="string">&quot;,5&quot;</span>);</span><br><span class="line">  <span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$ro</span>) &#123;</span><br><span class="line">    <span class="variable">$gdbtn</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>])) &#123;</span><br><span class="line">      <span class="variable">$gd</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t11_good&quot;</span>, <span class="string">&quot;user=&#x27;&quot;</span> . <span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>] . <span class="string">&quot;&#x27; and blog=&quot;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>]);</span><br><span class="line">      <span class="variable">$gdbtn</span> = (<span class="variable">$gd</span> != <span class="literal">null</span>) ?</span><br><span class="line">        <span class="string">&#x27;&lt;a href=&quot;api.php?do=gdsub&amp;id=&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>] . <span class="string">&#x27;&quot;&gt; - 收回讚&lt;/a&gt;&#x27;</span> :</span><br><span class="line">        <span class="string">&#x27;&lt;a href=&quot;api.php?do=gdadd&amp;id=&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>] . <span class="string">&#x27;&quot;&gt; - 讚&lt;/a&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="meta">?&gt;</span></span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">      &lt;td&gt;<span class="meta">&lt;?=</span> <span class="variable">$ro</span>[<span class="string">&#x27;title&#x27;</span>] <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">sswww</span>&quot;&gt;&lt;?= <span class="title">mb_substr</span>($<span class="title">ro</span>[&#x27;<span class="title">text</span>&#x27;], 0, 10) ?&gt;...</span></span><br><span class="line"><span class="class">          &lt;<span class="title">span</span> <span class="title">class</span>=&quot;<span class="title">all</span>&quot; <span class="title">style</span>=&quot;<span class="title">display</span>:<span class="title">none</span>&quot;&gt;&lt;?= $<span class="title">ro</span>[&#x27;<span class="title">text</span>&#x27;] ?&gt;&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;<span class="title">td</span>&gt;&lt;?= $<span class="title">ro</span>[&#x27;<span class="title">num</span>&#x27;] ?&gt;個人說&lt;<span class="title">img</span> <span class="title">style</span>=&quot;<span class="title">height</span>:1<span class="title">em</span>&quot; <span class="title">src</span>=&quot;<span class="title">img</span>/02<span class="title">B03</span>.<span class="title">jpg</span>&quot;&gt;&lt;?= $<span class="title">gdbtn</span> ?&gt;&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">  &lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">  &#125;</span></span><br><span class="line"><span class="class">  ?&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">table</span>&gt;</span></span><br><span class="line"><span class="class">&lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">$<span class="title">re</span> = <span class="title">navpage</span>(&quot;<span class="title">q2t7_blog</span>&quot;, &quot;<span class="title">dpy</span>=1&quot;, 5, $<span class="title">nw</span>);</span></span><br><span class="line"><span class="class"><span class="title">foreach</span> ($<span class="title">re</span> <span class="title">as</span> $<span class="title">key</span> =&gt; $<span class="title">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable">$nw</span> == <span class="variable">$key</span>) <span class="keyword">echo</span> <span class="string">&#x27;&lt;a style=&quot;font-size:2em&quot; href=&quot;?do=news&amp;page=&#x27;</span> . <span class="variable">$value</span> . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;&lt;/a&gt;&#x27;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">echo</span> <span class="string">&#x27;&lt;a href=&quot;?do=news&amp;page=&#x27;</span> . <span class="variable">$value</span> . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;&lt;/a&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;div id=<span class="string">&quot;alt&quot;</span> style=<span class="string">&quot;position: absolute; width: 350px; min-height: 100px; word-break:break-all; text-align:justify;  background-color: rgb(255, 255, 204); top: 0px; left: 400px; z-index: 99; display: none; padding: 5px; border: 3px double rgb(255, 153, 0); background-position: initial initial; background-repeat: initial initial;&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  $(<span class="string">&quot;.sswww&quot;</span>).<span class="title function_ invoke__">hover</span>(</span><br><span class="line">    function() &#123;</span><br><span class="line">      $(<span class="string">&quot;#alt&quot;</span>).<span class="title function_ invoke__">html</span>(<span class="string">&quot;&quot;</span> + $(this).<span class="title function_ invoke__">children</span>(<span class="string">&quot;.all&quot;</span>).<span class="title function_ invoke__">html</span>() + <span class="string">&quot;&quot;</span>).<span class="title function_ invoke__">css</span>(&#123;</span><br><span class="line">        <span class="string">&quot;top&quot;</span>: $(this).<span class="title function_ invoke__">offset</span>().top - <span class="number">120</span>,</span><br><span class="line">        <span class="string">&quot;left&quot;</span>: $(this).<span class="title function_ invoke__">offset</span>().left - <span class="number">280</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      $(<span class="string">&quot;#alt&quot;</span>).<span class="title function_ invoke__">show</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  $(<span class="string">&quot;.sswww&quot;</span>).<span class="title function_ invoke__">mouseout</span>(</span><br><span class="line">    function() &#123;</span><br><span class="line">      $(<span class="string">&quot;#alt&quot;</span>).<span class="title function_ invoke__">hide</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="No-13-問卷調查-25"><a href="#No-13-問卷調查-25" class="headerlink" title="No.13 問卷調查 (25%)"></a>No.13 問卷調查 (25%)</h1><p>問卷有三種不同畫面需求，分別是初始畫面，投票畫面，結果畫面。這裡透過 GET 參數做 switch 對應指向。</p>
<p><img src="https://i.imgur.com/gE7pmuQ.png" alt="q2t13A"><br><img src="https://i.imgur.com/TnGcl10.png" alt="q2t13B"></p>
<h2 id="規劃畫面切換"><a href="#規劃畫面切換" class="headerlink" title="規劃畫面切換"></a>規劃畫面切換</h2><p>這題分為三種版型，分別是初始畫面、投票畫面、結果畫面。根據 GET 參數做對應指向。規劃 switch 來區分這三組畫面</p>
<h3 id="建立-que-php"><a href="#建立-que-php" class="headerlink" title="建立 que.php"></a>建立 que.php</h3><figure class="highlight html"><figcaption><span>que.php</span></figcaption><table><tr><td class="code"><pre><span class="line">目前位置：首頁&gt;問卷調查</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">$sw = 0;</span></span><br><span class="line"><span class="meta">if (!empty($_GET[&#x27;vote&#x27;])) $sw = 1;</span></span><br><span class="line"><span class="meta">if (!empty($_GET[&#x27;show&#x27;])) $sw = 2;</span></span><br><span class="line"><span class="meta">switch ($sw) &#123;</span></span><br><span class="line"><span class="meta">  case &#x27;1&#x27;:</span></span><br><span class="line"><span class="meta">    break;</span></span><br><span class="line"><span class="meta">  case &#x27;2&#x27;:</span></span><br><span class="line"><span class="meta">    break;</span></span><br><span class="line"><span class="meta">  default:</span></span><br><span class="line"><span class="meta">    break;</span></span><br><span class="line"><span class="meta">&#125;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="初始畫面"><a href="#初始畫面" class="headerlink" title="初始畫面"></a>初始畫面</h2><p>先規劃一開始的內容畫面，可以從 pop.php 複製過來開始調整。初始畫面位置在 switch default 內：</p>
<ol>
<li>超連結處前往到本頁面其他 case，夾帶以下可能的 GET 值：<br>投票畫面 case 1：vote&#x3D;id, title&#x3D;標題<br>結果畫面 case 2：show&#x3D;id, title&#x3D;標題，total&#x3D;總數</li>
<li>有無登入利用 <code>$_SESSION[&#39;user&#39;]</code> 判斷並提供適當的三元運算顯示。</li>
</ol>
<h3 id="增添-que-php"><a href="#增添-que-php" class="headerlink" title="增添 que.php"></a>增添 que.php</h3><p>以下為初始版型且可撈取問卷主題與編號排序</p>
<figure class="highlight php"><figcaption><span>que.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;table&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">      &lt;td valign=top&gt;編號&lt;/td&gt;</span><br><span class="line">      &lt;td valign=top&gt;問卷題目&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;投票總數&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;結果&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;狀態&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t13_vote&quot;</span>, <span class="string">&quot;parent=0&quot;</span>);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$ro</span>) &#123;</span><br><span class="line">      <span class="variable">$total</span> = <span class="number">0</span>;</span><br><span class="line">      <span class="variable">$vv</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t13_vote&quot;</span>, <span class="string">&quot;parent=&quot;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>]);</span><br><span class="line">      <span class="keyword">foreach</span> (<span class="variable">$vv</span> <span class="keyword">as</span> <span class="variable">$son</span>) <span class="variable">$total</span> += <span class="variable">$son</span>[<span class="string">&#x27;num&#x27;</span>];</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">      &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;<span class="meta">&lt;?=</span> <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>] <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;<span class="meta">&lt;?=</span> <span class="variable">$ro</span>[<span class="string">&#x27;text&#x27;</span>] <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;<span class="meta">&lt;?=</span> <span class="variable">$total</span> <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;a href=<span class="string">&quot;?do=que&amp;show=&lt;?= <span class="subst">$ro</span>[&#x27;id&#x27;] ?&gt;&amp;title=&lt;?= <span class="subst">$ro</span>[&#x27;text&#x27;] ?&gt;&amp;total=&lt;?= <span class="subst">$total</span> ?&gt;&quot;</span>&gt;結果&lt;/a&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;<span class="meta">&lt;?=</span> (<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;user&#x27;</span>])) ? <span class="string">&#x27;請先登入&#x27;</span> : <span class="string">&#x27;&lt;a href=&quot;?do=que&amp;vote=&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>] . <span class="string">&#x27;&amp;title=&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;text&#x27;</span>] . <span class="string">&#x27;&quot;&gt;參與投票&lt;/a&gt;&#x27;</span> <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">      &lt;/tr&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">  &lt;/table&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="投票版面"><a href="#投票版面" class="headerlink" title="投票版面"></a>投票版面</h2><p>對 case 1 設計投票畫面，從 GET 取的 parent 值。之後提交到 api.php?do&#x3D;vote 處理 form。</p>
<h3 id="增添-que-php-1"><a href="#增添-que-php-1" class="headerlink" title="增添 que.php"></a>增添 que.php</h3><figure class="highlight php"><figcaption><span>que.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;h3&gt;<span class="meta">&lt;?=</span> <span class="variable">$_GET</span>[<span class="string">&#x27;title&#x27;</span>] <span class="meta">?&gt;</span>&lt;/h3&gt;</span><br><span class="line">  &lt;form action=<span class="string">&quot;api.php?do=vote&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t13_vote&quot;</span>, <span class="string">&quot;parent=&quot;</span> . <span class="variable">$_GET</span>[<span class="string">&#x27;vote&#x27;</span>]);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$ro</span>) <span class="keyword">echo</span> <span class="string">&#x27;&lt;input type=&quot;radio&quot; name=&quot;num+1&quot; value=&quot;&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;id&#x27;</span>] . <span class="string">&#x27;&quot;&gt;&#x27;</span> . <span class="variable">$ro</span>[<span class="string">&#x27;text&#x27;</span>] . <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;我要投票&quot;</span>&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>
<p>注意一下這裡用 name&#x3D;num+1 並值為 ID</p>
<h3 id="增添-api-php-3"><a href="#增添-api-php-3" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;vote&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q2t13_vote&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;index.php?do=que&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="結果版面"><a href="#結果版面" class="headerlink" title="結果版面"></a>結果版面</h2><ul>
<li>這時候手動模擬登入帳號做一些投票動作，讓資料有些數據方便設計檢查結果畫面。重點在百分比的設計。</li>
<li>規劃一個 div 高 1rem，寬為 <code>$pse</code> 以及做 inline-block。table 稍微排版一下跟示意圖相近</li>
<li>$pse 為百分比，有可能當 total 為 0 會無法當分母，所以要加個判斷算法為：<code> $ro[num]</code> ÷ <code>$_GET[&#39;total&#39;]</code> × <code>100</code></li>
</ul>
<h3 id="增添-que-php-2"><a href="#增添-que-php-2" class="headerlink" title="增添 que.php"></a>增添 que.php</h3><figure class="highlight php"><figcaption><span>que.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">  &lt;h3&gt;<span class="meta">&lt;?=</span> <span class="variable">$_GET</span>[<span class="string">&#x27;title&#x27;</span>] <span class="meta">?&gt;</span>&lt;/h3&gt;</span><br><span class="line">  &lt;ol&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="variable">$re</span> = <span class="title function_ invoke__">select</span>(<span class="string">&quot;q2t13_vote&quot;</span>, <span class="string">&quot;parent=&quot;</span> . <span class="variable">$_GET</span>[<span class="string">&#x27;show&#x27;</span>]);</span><br><span class="line">    <span class="variable">$i</span> = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$re</span> <span class="keyword">as</span> <span class="variable">$ro</span>) &#123;</span><br><span class="line">      <span class="variable">$pse</span> = (<span class="variable">$_GET</span>[<span class="string">&#x27;total&#x27;</span>] == <span class="number">0</span>) ? <span class="number">0</span> : <span class="variable">$ro</span>[<span class="string">&#x27;num&#x27;</span>] / <span class="variable">$_GET</span>[<span class="string">&#x27;total&#x27;</span>] * <span class="number">100</span>;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">      &lt;li&gt;</span><br><span class="line">        &lt;div&gt;<span class="meta">&lt;?=</span> <span class="variable">$ro</span>[<span class="string">&#x27;text&#x27;</span>] <span class="meta">?&gt;</span>&lt;/div&gt;</span><br><span class="line">        &lt;div style=<span class="string">&quot;width:&lt;?= <span class="subst">$pse</span> ?&gt;px;height:1em;background-color:black;display:inline-block&quot;</span>&gt;&lt;/div&gt;<span class="meta">&lt;?=</span> <span class="variable">$ro</span>[<span class="string">&#x27;num&#x27;</span>] <span class="meta">?&gt;</span>票 (<span class="meta">&lt;?=</span> <span class="variable">$pse</span> <span class="meta">?&gt;</span>%)</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">      &lt;br&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">  &lt;/ol&gt;</span><br><span class="line">  &lt;input type=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;返回&quot;</span> onclick=<span class="string">&quot;window.history.back()&quot;</span>&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h1 id="No-14-後台管理-10"><a href="#No-14-後台管理-10" class="headerlink" title="No.14 後台管理 (10%)"></a>No.14 後台管理 (10%)</h1><p>整理出可登入 admin 後的畫面選單以及預設畫面。不難，需要承接第四題的代碼</p>
<p><img src="https://i.imgur.com/8Ot7rEd.png" alt="q2t14"></p>
<h2 id="規劃兩種-MENU"><a href="#規劃兩種-MENU" class="headerlink" title="規劃兩種 MENU"></a>規劃兩種 MENU</h2><p>抽取出下面 menu 內容轉移到 lib.php，變數為 <code>&lt;?=$menu?&gt;</code></p>
<h3 id="修改-index-php-7"><a href="#修改-index-php-7" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;a <span class="class"><span class="keyword">class</span>=&quot;<span class="title">blo</span>&quot; <span class="title">href</span>=&quot;?<span class="title">do</span>=<span class="title">po</span>&quot;&gt;分類網誌&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">a</span> <span class="title">class</span>=&quot;<span class="title">blo</span>&quot; <span class="title">href</span>=&quot;?<span class="title">do</span>=<span class="title">news</span>&quot;&gt;最新文章&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">a</span> <span class="title">class</span>=&quot;<span class="title">blo</span>&quot; <span class="title">href</span>=&quot;?<span class="title">do</span>=<span class="title">pop</span>&quot;&gt;人氣文章&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">a</span> <span class="title">class</span>=&quot;<span class="title">blo</span>&quot; <span class="title">href</span>=&quot;?<span class="title">do</span>=<span class="title">know</span>&quot;&gt;講座訊息&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">a</span> <span class="title">class</span>=&quot;<span class="title">blo</span>&quot; <span class="title">href</span>=&quot;?<span class="title">do</span>=<span class="title">que</span>&quot;&gt;問卷調查&lt;/<span class="title">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>更改為</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?=</span><span class="variable">$menu</span><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-lib-php-2"><a href="#增添-lib-php-2" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><ul>
<li>調整兩種 MENU 內容，並根據是否因 SESSION[‘admin’] 存在做不同的選單顯示。</li>
<li>後者可複製前者，多 a 開頭代表不同位置。</li>
<li>題目有些選單沒有列入設計，沒有用到的 href 可以改成 #。</li>
</ul>
<figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//t14</span></span><br><span class="line"><span class="variable">$menu</span> = <span class="string">&#x27;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;?do=po&quot;&gt;分類網誌&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;?do=news&quot;&gt;最新文章&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;?do=pop&quot;&gt;人氣文章&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;#&quot;&gt;講座訊息&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;?do=que&quot;&gt;問卷調查&lt;/a&gt;</span></span><br><span class="line"><span class="string">&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;admin&#x27;</span>])) <span class="variable">$menu</span> = <span class="string">&#x27;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;?do=apo&quot;&gt;帳號管理&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;#&quot;&gt;分類網誌&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;?do=apop&quot;&gt;最新文章管理&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;#&quot;&gt;講座管理&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;a class=&quot;blo&quot; href=&quot;?do=aque&quot;&gt;問卷管理&lt;/a&gt;</span></span><br><span class="line"><span class="string">&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>接著，除了選單區因應 admin 不同，內容區要跟著 admin 也不同。修改 T4 的內容（同個 lib.php)，這部分之前在 t4 已經處理過</p>
<h3 id="修改-index-php-8"><a href="#修改-index-php-8" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$admain</span>=(<span class="keyword">empty</span>(<span class="variable">$_SESSION</span>[<span class="string">&#x27;admin&#x27;</span>]))?<span class="string">&quot;main&quot;</span>:<span class="string">&quot;admain&quot;</span>;</span><br><span class="line"><span class="variable">$main</span>=(<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;do&#x27;</span>]))?<span class="variable">$admain</span>:<span class="variable">$_GET</span>[<span class="string">&#x27;do&#x27;</span>];</span><br></pre></td></tr></table></figure>

<p>這樣你必須要做一個 admain.php，根據題目指示</p>
<h3 id="新增-admain-php"><a href="#新增-admain-php" class="headerlink" title="新增 admain.php"></a>新增 admain.php</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;ct&quot;</span>&gt;</span>請選擇管理項目<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>試著用 admin 登入操作是否正常顯示後台</p>
<h1 id="No-15-帳號後台管理-15"><a href="#No-15-帳號後台管理-15" class="headerlink" title="No.15 帳號後台管理 (15%)"></a>No.15 帳號後台管理 (15%)</h1><p>畫面有兩個表格要做，一個是 select 帳戶資料並可 delete。另一個是之前已經做過的註冊功能（可直接複製來用）。</p>
<p><img src="https://i.imgur.com/4ni38dh.png" alt="q2t15"></p>
<h2 id="修改後台的內容格式"><a href="#修改後台的內容格式" class="headerlink" title="修改後台的內容格式"></a>修改後台的內容格式</h2><ul>
<li>整個複製版型後，根據需求做版面，記得導向到 api 額外處理刪除的 sql。</li>
<li>另外後半段跟 reg.php 功能效果都一樣，可以用 include 快速完成。</li>
</ul>
<h3 id="新增-apo-php（參考-reg-php"><a href="#新增-apo-php（參考-reg-php" class="headerlink" title="新增 apo.php（參考 reg.php)"></a>新增 apo.php（參考 reg.php)</h3><figure class="highlight html"><figcaption><span>apo.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>帳號管理<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=memdel&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>帳號<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>密碼<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      $re = select(&quot;q2t6_user&quot;, 1);</span></span><br><span class="line"><span class="meta">      foreach ($re as $ro) &#123;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $ro[&#x27;acc&#x27;] ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $ro[&#x27;pwd&#x27;] ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $ro[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">      &#125;</span></span><br><span class="line"><span class="meta">      ?&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;確定刪除&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;清空選取&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>新增會員<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="meta">&lt;?php include &quot;reg.php&quot; ?&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php-4"><a href="#增添-api-php-4" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><p>最後做刪除作業並轉回該頁</p>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;memdel&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q2t6_user&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;index.php?do=apo&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h1 id="No-16-最新文章後台管理-15"><a href="#No-16-最新文章後台管理-15" class="headerlink" title="No.16 最新文章後台管理 (15%)"></a>No.16 最新文章後台管理 (15%)</h1><p>重點在 limit 與分頁導覽以及多了 dpy 選項。複製 q2t11 的版型來調整且 page 每次顯示為 3 ，並規劃 dpy 與 del 這兩個 checkbox</p>
<p><img src="https://i.imgur.com/ih9rCOk.png" alt="q2t16"></p>
<h2 id="後台的內容格式"><a href="#後台的內容格式" class="headerlink" title="後台的內容格式"></a>後台的內容格式</h2><p>整個複製版型後，根據需求做修改調整，記得 from 提交改成到 do&#x3D;adminnews。至於 limit 與 page 都在 news.php 那裏出現過，改一下 5 變 3，以及 page_link 的 href 的前往位置</p>
<h3 id="新增-apop-php（參考-news-php"><a href="#新增-apop-php（參考-news-php" class="headerlink" title="新增 apop.php（參考 news.php)"></a>新增 apop.php（參考 news.php)</h3><figure class="highlight html"><figcaption><span>apop.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=newsmdy&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>編號<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">valign</span>=<span class="string">top</span>&gt;</span>標題<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">valign</span>=<span class="string">top</span>&gt;</span>顯示<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span> <span class="attr">valign</span>=<span class="string">top</span>&gt;</span>刪除<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">    $nw = (empty($_GET[&#x27;page&#x27;])) ? 1 : $_GET[&#x27;page&#x27;];</span></span><br><span class="line"><span class="meta">    $begin = ($nw - 1) * 3;</span></span><br><span class="line"><span class="meta">    $re = select(&quot;q2t7_blog&quot;, &quot;1 limit &quot; . $begin . &quot;,3&quot;);</span></span><br><span class="line"><span class="meta">    foreach ($re as $ro) &#123;</span></span><br><span class="line"><span class="meta">    ?&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $ro[&#x27;id&#x27;] ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&lt;?= $ro[&#x27;title&#x27;] ?&gt;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $ro[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dpy[&lt;?= $ro[&#x27;id&#x27;] ?&gt;]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> &lt;?= <span class="string">($ro[</span>&#x27;<span class="attr">dpy</span>&#x27;]) ? &quot;<span class="attr">checked</span>&quot; <span class="attr">:</span> &quot;&quot; ?&gt;</span>&gt;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;del[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;?= $ro[&#x27;id&#x27;] ?&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">    &#125;</span></span><br><span class="line"><span class="meta">    ?&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line"><span class="meta">  $re = navpage(&quot;q2t7_blog&quot;, 1, 3, $nw);</span></span><br><span class="line"><span class="meta">  foreach ($re as $key =&gt; $value) &#123;</span></span><br><span class="line"><span class="meta">    if ($nw == $key) echo &#x27;&lt;a style=&quot;font-size:2em&quot; href=&quot;?do=apop&amp;page=&#x27; . $value . &#x27;&quot;&gt;&#x27; . $key . &#x27;&lt;/a&gt;&#x27;;</span></span><br><span class="line"><span class="meta">    else echo &#x27;&lt;a href=&quot;?do=apop&amp;page=&#x27; . $value . &#x27;&quot;&gt;&#x27; . $key . &#x27;&lt;/a&gt;&#x27;;</span></span><br><span class="line"><span class="meta">  &#125;</span></span><br><span class="line"><span class="meta">  ?&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;確定修改&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php-5"><a href="#增添-api-php-5" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><p>對 api.php 做 SQL 處理，接著回到該單元內容。（可複製前題目做修改）</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;newsmdy&#x27;</span>:</span><br><span class="line">  <span class="title function_ invoke__">update</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q2t7_blog&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">delete</span>(<span class="variable">$_POST</span>, <span class="string">&quot;q2t7_blog&quot;</span>);</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;index.php?do=apop&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h1 id="No-17-問卷後台管理-20"><a href="#No-17-問卷後台管理-20" class="headerlink" title="No.17 問卷後台管理 (20%)"></a>No.17 問卷後台管理 (20%)</h1><p>重點是需要多個 JQ 來執行增加欄位。</p>
<p><img src="https://i.imgur.com/Pfk7KCm.png" alt="q2t17"></p>
<h2 id="修改後台的內容格式-1"><a href="#修改後台的內容格式-1" class="headerlink" title="修改後台的內容格式"></a>修改後台的內容格式</h2><p>主要保留 fieldset 的設計，並注意題目要求要透過 JS 來完成新增欄位。一樣傳送到 api.php?do&#x3D;addque。這裡稍微提到，因為是同一個 table。所以必需要將 POST 看成兩筆，分別是父層級 fa 及子層級 son。</p>
<h3 id="新增-aque-php"><a href="#新增-aque-php" class="headerlink" title="新增 aque.php"></a>新增 aque.php</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>新增問卷<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;api.php?do=queadd&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">que</span>&gt;</span></span><br><span class="line">      問卷名稱：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;fa&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      選項：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;son[]&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;更多&quot;</span> <span class="attr">onclick</span>=<span class="string">add()</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;新增&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;清除&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    txt = <span class="string">&#x27;選項：&lt;input type=&quot;text&quot; name=&quot;son[]&quot; id=&quot;&quot;&gt;&lt;br&gt;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&quot;#que&quot;</span>).<span class="title function_">append</span>(txt);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php-6"><a href="#增添-api-php-6" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><p>因為是共用同一個 form。所以新增時要分兩階段處理。</p>
<ol>
<li>先抽取出 fa 到第一組陣列並丟到 insert 並取得 ID。</li>
<li>得知剛剛新增的 ID，接著將剩下的 POST 進行分解成批次寫入。</li>
</ol>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&#x27;queadd&#x27;</span>:</span><br><span class="line">  <span class="variable">$post</span>[<span class="string">&#x27;text&#x27;</span>] = <span class="variable">$_POST</span>[<span class="string">&#x27;fa&#x27;</span>];</span><br><span class="line">  <span class="variable">$faid</span> = <span class="title function_ invoke__">insert</span>(<span class="variable">$post</span>, <span class="string">&quot;q2t13_vote&quot;</span>);</span><br><span class="line">  <span class="keyword">foreach</span> (<span class="variable">$_POST</span>[<span class="string">&#x27;son&#x27;</span>] <span class="keyword">as</span> <span class="variable">$ro</span>) &#123;</span><br><span class="line">    <span class="variable">$son</span>[<span class="string">&#x27;text&#x27;</span>] = <span class="variable">$ro</span>;</span><br><span class="line">    <span class="variable">$son</span>[<span class="string">&#x27;parent&#x27;</span>] = <span class="variable">$faid</span>;</span><br><span class="line">    <span class="title function_ invoke__">insert</span>(<span class="variable">$son</span>, <span class="string">&quot;q2t13_vote&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_ invoke__">plo</span>(<span class="string">&quot;index.php&quot;</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h1 id="END-調整版面-5"><a href="#END-調整版面-5" class="headerlink" title="END 調整版面 (5%)"></a>END 調整版面 (5%)</h1><p>這題動作如果來不及做可以放棄，元素材差異性下有可能不會被考官所注意到。</p>
<p><img src="https://i.imgur.com/Ji8jU7J.png" alt="q2layout"></p>
<h2 id="修改-index-php-9"><a href="#修改-index-php-9" class="headerlink" title="修改 index.php"></a>修改 index.php</h2><p>找到主區域的 div 修改為</p>
<figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;all&quot;</span> style=<span class="string">&quot;overflow-y: scroll;margin: 10px auto;padding: 0;border: 0;width: 1024px;height: 768px;&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<p>找到上面的主標題圖片把多餘個寬度處理掉，將寬度鎖定到 100%</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">&quot;width:100%&quot;</span> <span class="attr">src</span>=<span class="string">&quot;img/02B01.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;健康促進網 - 回首頁&quot;</span> <span class="attr">title</span>=<span class="string">&quot;健康促進網 - 回首頁&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>透過 Chrome 遊覽器檢查可以得到 1024*768 且上下左右 10px 並垂直至中的動作要求。</p>
<p>另外可以移除無效的 HTML 元素</p>
<figure class="highlight html"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">&lt;div id=&quot;alerr&quot; style=&quot;background:rgba(51,51,51,0.8); color:#FFF; min-height:100px; width:300px; position:fixed; display:none; z-index:9999; overflow:auto;&quot;&gt;</span></span><br><span class="line"><span class="comment">  &lt;pre id=&quot;ssaa&quot;&gt;&lt;/pre&gt;</span></span><br><span class="line"><span class="comment">&lt;/div&gt;</span></span><br><span class="line"><span class="comment">&lt;iframe name=&quot;back&quot; style=&quot;display:none;&quot;&gt;&lt;/iframe&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%8A%80%E8%A1%93%E5%A3%AB%E8%80%83%E7%85%A7%E8%88%87%E5%85%A8%E5%9C%8B%E6%8A%80%E8%83%BD%E7%AB%B6%E8%B3%BD/" rel="tag"># 技術士考照與全國技能競賽</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/05-18/exam-173002B10-1/" rel="prev" title="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組一）">
                  <i class="fa fa-chevron-left"></i> [題目解析] 技能檢定！網頁設計乙級術科考題分析（題組一）
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/05-25/exam-173002B10-3/" rel="next" title="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組三）">
                  [題目解析] 技能檢定！網頁設計乙級術科考題分析（題組三） <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    <span class="with-love">
      <i class="fa fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder" title="找我？！側單左上連結">Loki Jiang</span>
    <span class="post-meta-item-icon with-love">
      <i class="fas fa-copyright"></i>
    </span>
    2020 – 
    <span itemprop="copyrightYear">2024</span> All rights reserved.
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon with-love">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="總字數">519,958</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon with-love">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="所需總閱讀時間">15:45:23</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon with-love">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="訪客總數">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon with-love">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="總瀏覽次數">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/summer10920" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.0/mermaid.min.js","integrity":"sha256-stuqcu2FrjYCXDOytWFA5SoUE/r3nkp6gTglzNSlavU="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/wordcloud2.js/1.2.2/wordcloud2.min.js"
    integrity="sha512-lGnVsh3WK0YJ7NX7rQmUu6kqF7vqELuDrUTnxpI2iD86VwI+OlQhi3EAJJZbrBUOfDFOAYAkigxkApHGM2IZTg=="
    crossorigin="anonymous"></script>
<script src="/assets/js/loki.js"></script>
</body>
</html>
