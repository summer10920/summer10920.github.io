<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo-loki.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,400,400italic,700,700italic%7CNoto+Sans+TC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"summer10920.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.17.0","exturl":false,"sidebar":{"position":"left","width":400,"display":"post","padding":20,"offset":20},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeIn","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"${hits} 找到 ${time} 個結果","hits":"找到 ${hits} 個結果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="如名般的 Type Script（類型腳本語言），微軟所提供的一種超集 JavaScript 之程式語言，可當作具有 type 類型系統的 JavaScript。主要是解決 JavaScript 的動態 type 設計不良所存在，可以當做它是一種 JS 預處理前置作業的檢查類型無誤後透過編譯 complier 後轉為 JavaScript。TypeScript 的語法可以使用純 JavaScrip">
<meta property="og:type" content="article">
<meta property="og:title" content="[學習之路] TypeScript 的基礎">
<meta property="og:url" content="http://summer10920.github.io/2021/08-25/typescript/">
<meta property="og:site_name" content="洛奇的邪惡組織手札">
<meta property="og:description" content="如名般的 Type Script（類型腳本語言），微軟所提供的一種超集 JavaScript 之程式語言，可當作具有 type 類型系統的 JavaScript。主要是解決 JavaScript 的動態 type 設計不良所存在，可以當做它是一種 JS 預處理前置作業的檢查類型無誤後透過編譯 complier 後轉為 JavaScript。TypeScript 的語法可以使用純 JavaScrip">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://i.imgur.com/VL6vpbF.png">
<meta property="og:image" content="https://i.imgur.com/Cd776ku.png">
<meta property="article:published_time" content="2021-08-25T05:31:03.000Z">
<meta property="article:modified_time" content="2021-12-10T17:52:01.944Z">
<meta property="article:author" content="Loki Jiang">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="TypeScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/VL6vpbF.png">


<link rel="canonical" href="http://summer10920.github.io/2021/08-25/typescript/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-TW","comments":true,"permalink":"http://summer10920.github.io/2021/08-25/typescript/","path":"2021/08-25/typescript/","title":"[學習之路] TypeScript 的基礎"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>[學習之路] TypeScript 的基礎 | 洛奇的邪惡組織手札</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146423952-3"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-146423952-3","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>







<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&family=Roboto&display=swap" rel="stylesheet">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <canvas id="lokiBanner" width="1920" height="200"></canvas>
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">洛奇的邪惡組織手札</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">I am WebDeveloper!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜尋" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤<span class="badge">20</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類<span class="badge">17</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>文章<span class="badge">68</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          關於洛奇
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%9D"><span class="nav-number">1.</span> <span class="nav-text">安裝</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%B7%E8%A1%8C"><span class="nav-number">1.1.</span> <span class="nav-text">執行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8-tsc-%E6%8C%87%E4%BB%A4"><span class="nav-number">1.1.1.</span> <span class="nav-text">直接使用 tsc 指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B1-VSCode-%E6%8F%90%E4%BA%A4-tsc-%E6%8C%87%E4%BB%A4"><span class="nav-number">1.1.2.</span> <span class="nav-text">由 VSCode 提交 tsc 指令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tsconfig-json-%E5%BC%95%E6%95%B8"><span class="nav-number">1.2.</span> <span class="nav-text">tsconfig.json 引數</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A1%9E%E5%9E%8B%E5%88%A4%E6%96%B7%E6%96%B9%E5%BC%8F"><span class="nav-number">2.</span> <span class="nav-text">類型判斷方式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%B9%E6%93%9A%E6%8E%A8%E8%AB%96"><span class="nav-number">2.1.</span> <span class="nav-text">根據推論</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%8F%E9%81%8E%E5%AE%9A%E7%BE%A9"><span class="nav-number">2.2.</span> <span class="nav-text">透過定義</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A1%9E%E5%9E%8B"><span class="nav-number">3.</span> <span class="nav-text">類型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E5%A7%8B%E9%A1%9E%E5%9E%8B-Primitive-Types"><span class="nav-number">3.1.</span> <span class="nav-text">原始類型 Primitive Types</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#boolean-number-string"><span class="nav-number">3.1.1.</span> <span class="nav-text">boolean, number, string</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#void-null-undefined"><span class="nav-number">3.1.2.</span> <span class="nav-text">void, null, undefined</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#any-%E9%80%9A%E7%94%A8%E9%A1%9E%E5%9E%8B"><span class="nav-number">3.1.3.</span> <span class="nav-text">any 通用類型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A4%87%E5%90%88%E9%A1%9E%E5%9E%8B"><span class="nav-number">3.1.4.</span> <span class="nav-text">複合類型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%A9%E4%BB%B6%E9%A1%9E%E5%9E%8B-Object-types"><span class="nav-number">3.2.</span> <span class="nav-text">物件類型 Object types</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JavaScript-%E5%85%A7%E5%BB%BA%E7%89%A9%E4%BB%B6"><span class="nav-number">3.2.1.</span> <span class="nav-text">JavaScript 內建物件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%99%E6%BA%96%E7%89%A9%E4%BB%B6"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">標準物件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#BOM-%E8%88%87-DOM-%E7%89%A9%E4%BB%B6"><span class="nav-number">3.2.1.2.</span> <span class="nav-text">BOM 與 DOM 物件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8B%E9%9D%A2-interface"><span class="nav-number">3.2.2.</span> <span class="nav-text">介面 interface</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B9%BC%E6%89%BF-extends"><span class="nav-number">3.2.2.1.</span> <span class="nav-text">繼承 extends</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%88%E4%BD%B5%E4%BB%8B%E9%9D%A2"><span class="nav-number">3.2.2.2.</span> <span class="nav-text">合併介面</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%A9%E4%BB%B6-object"><span class="nav-number">3.2.3.</span> <span class="nav-text">物件 object</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%AF%E9%81%B8%E3%80%81%E4%BB%BB%E6%84%8F%E3%80%81%E5%94%AF%E7%8D%A8%E5%B1%AC%E6%80%A7"><span class="nav-number">3.2.3.1.</span> <span class="nav-text">可選、任意、唯獨屬性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%99%A3%E5%88%97-array"><span class="nav-number">3.2.4.</span> <span class="nav-text">陣列 array</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%AD%E9%85%8D%E6%B3%9B%E5%9E%8B"><span class="nav-number">3.2.4.1.</span> <span class="nav-text">搭配泛型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%AD%E9%85%8D%E4%BB%8B%E9%9D%A2"><span class="nav-number">3.2.4.2.</span> <span class="nav-text">搭配介面</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%97%E8%88%89-enum"><span class="nav-number">3.2.5.</span> <span class="nav-text">列舉 enum</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E6%95%B8%E5%88%97%E8%88%89-const-enum"><span class="nav-number">3.2.5.1.</span> <span class="nav-text">常數列舉 const enum</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%81%B2%E6%98%8E%E5%88%97%E8%88%89-declare-enum"><span class="nav-number">3.2.5.2.</span> <span class="nav-text">聲明列舉 declare enum</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%83%E7%B5%84-tuple"><span class="nav-number">3.2.6.</span> <span class="nav-text">元組 tuple</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E5%BC%8F-Function"><span class="nav-number">3.2.7.</span> <span class="nav-text">函式 Function</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%82%B3%E9%81%9E%E8%88%87%E5%9B%9E%E5%82%B3"><span class="nav-number">3.2.7.1.</span> <span class="nav-text">傳遞與回傳</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%82%B3%E9%81%9E%EF%BC%9A%E9%81%B8%E9%85%8D%E3%80%81%E9%A0%90%E8%A8%AD%E3%80%81%E5%85%B6%E9%A4%98"><span class="nav-number">3.2.7.1.1.</span> <span class="nav-text">傳遞：選配、預設、其餘</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9B%9E%E5%82%B3%EF%BC%9Avoid%E3%80%81never"><span class="nav-number">3.2.7.1.2.</span> <span class="nav-text">回傳：void、never</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B6%85%E8%BC%89-overload"><span class="nav-number">3.2.7.1.3.</span> <span class="nav-text">超載 overload</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%BD%E5%BC%8F%E8%A1%A8%E9%81%94%E5%BC%8F"><span class="nav-number">3.2.7.2.</span> <span class="nav-text">函式表達式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%AD%E9%85%8D%E4%BB%8B%E9%9D%A2-1"><span class="nav-number">3.2.7.3.</span> <span class="nav-text">搭配介面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%AD%E9%85%8D%E6%96%B7%E8%A8%80"><span class="nav-number">3.2.7.4.</span> <span class="nav-text">搭配斷言</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%AD%E9%A0%AD%E5%87%BD%E5%BC%8F-Arrow-Function"><span class="nav-number">3.2.7.5.</span> <span class="nav-text">箭頭函式 Arrow Function</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%95%E6%95%B8%E4%B8%8A%E4%BD%BF%E7%94%A8%E7%AE%AD%E9%A0%AD%E5%87%BD%E5%BC%8F"><span class="nav-number">3.2.7.5.1.</span> <span class="nav-text">引數上使用箭頭函式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%9E%E5%88%A5-Class"><span class="nav-number">3.2.8.</span> <span class="nav-text">類別 Class</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A8%AA%E5%95%8F%E4%BF%AE%E9%A3%BE%E5%AD%90-Access-Modifier"><span class="nav-number">3.2.8.1.</span> <span class="nav-text">訪問修飾子 Access Modifier</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%98%E5%8F%96%E5%99%A8-Accessor"><span class="nav-number">3.2.8.2.</span> <span class="nav-text">存取器 Accessor</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B9%BC%E6%89%BF-extends-1"><span class="nav-number">3.2.8.3.</span> <span class="nav-text">繼承 extends</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E9%A1%9E%E5%88%A5-abstract"><span class="nav-number">3.2.8.3.1.</span> <span class="nav-text">抽象類別 abstract</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A4%87%E5%AF%AB-Override"><span class="nav-number">3.2.8.3.2.</span> <span class="nav-text">複寫 Override</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%9C%E6%85%8B-static"><span class="nav-number">3.2.8.4.</span> <span class="nav-text">靜態 static</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%AD%E9%85%8D%E4%BB%8B%E9%9D%A2-2"><span class="nav-number">3.2.8.5.</span> <span class="nav-text">搭配介面</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%88%89%E4%BE%8B-%E5%A4%9A%E5%80%8B-class-%E6%9C%89%E7%9B%B8%E5%90%8C%E7%89%B9%E6%80%A7"><span class="nav-number">3.2.8.5.1.</span> <span class="nav-text">舉例 多個 class 有相同特性</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%80%B2%E9%9A%8E%E6%8A%80%E5%B7%A7"><span class="nav-number">4.</span> <span class="nav-text">進階技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A5%E5%90%8D%E6%A9%9F%E5%88%B6"><span class="nav-number">4.1.</span> <span class="nav-text">別名機制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E4%B8%B2%E5%AD%97%E9%9D%A2%E5%80%BC-String-Literal"><span class="nav-number">4.1.1.</span> <span class="nav-text">字串字面值 (String Literal)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B-Generics"><span class="nav-number">4.2.</span> <span class="nav-text">泛型 Generics</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%96%BC%E5%87%BD%E5%BC%8F"><span class="nav-number">4.2.1.</span> <span class="nav-text">用於函式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%80%8B%E6%B3%9B%E5%9E%8B"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">多個泛型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E6%A2%9D%E4%BB%B6%E7%B4%84%E6%9D%9F"><span class="nav-number">4.2.1.2.</span> <span class="nav-text">泛型條件約束</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%96%BC%E6%90%AD%E9%85%8D%E4%BB%8B%E9%9D%A2%E7%9A%84%E5%87%BD%E5%BC%8F"><span class="nav-number">4.2.2.</span> <span class="nav-text">用於搭配介面的函式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%96%BC%E9%A1%9E%E5%88%A5"><span class="nav-number">4.2.3.</span> <span class="nav-text">用於類別</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E4%B9%8B%E9%A0%90%E8%A8%AD-type"><span class="nav-number">4.2.4.</span> <span class="nav-text">泛型之預設 type</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%A3%E5%91%8A%E6%AA%94%E6%A1%88"><span class="nav-number">4.3.</span> <span class="nav-text">宣告檔案</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8D%B2%E5%8F%96-npm-%E4%B8%8A%E7%9A%84-type"><span class="nav-number">4.3.1.</span> <span class="nav-text">獲取 npm 上的 @type</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A3%E5%91%8A%E8%A1%8C%E7%82%BA-declare"><span class="nav-number">4.3.2.</span> <span class="nav-text">宣告行為 declare</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A3%E5%91%8A%E8%AE%8A%E6%95%B8-declare-var"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">宣告變數 declare var</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A3%E5%91%8A%E5%87%BD%E5%BC%8F-declare-function"><span class="nav-number">4.3.2.2.</span> <span class="nav-text">宣告函式 declare function</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A3%E5%91%8A%E9%A1%9E%E5%88%A5-declare-class"><span class="nav-number">4.3.2.3.</span> <span class="nav-text">宣告類別 declare class</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A3%E5%91%8A%E5%88%97%E8%88%89-declare-enum"><span class="nav-number">4.3.2.4.</span> <span class="nav-text">宣告列舉 declare enum</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A3%E5%91%8A%E5%91%BD%E5%90%8D%E7%A9%BA%E9%96%93-declare-namespace"><span class="nav-number">4.3.2.5.</span> <span class="nav-text">宣告命名空間 declare namespace</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%8B%E9%9D%A2%E8%88%87%E5%88%A5%E5%90%8D"><span class="nav-number">4.3.2.6.</span> <span class="nav-text">介面與別名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A3%E5%91%8A%E5%90%88%E4%BD%B5"><span class="nav-number">4.3.2.7.</span> <span class="nav-text">宣告合併</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%96%8B%E7%99%BC%E5%A5%97%E4%BB%B6%E4%B9%8B%E9%A1%9E%E5%9E%8B%E5%8C%85"><span class="nav-number">4.4.</span> <span class="nav-text">開發套件之類型包</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%83%E8%80%83%E6%96%87%E7%8D%BB"><span class="nav-number">5.</span> <span class="nav-text">參考文獻</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Loki Jiang"
      src="/images/loki_img.jpg">
  <p class="site-author-name" itemprop="name">Loki Jiang</p>
  <div class="site-description" itemprop="description">Time waits for no oneヽ(｀Д´)ﾉ</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/summer10920" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;summer10920" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:blog@lokiwebs.com" title="E-Mail → mailto:blog@lokiwebs.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://codepen.io/summer10920/pens/public?grid_type=list" title="CodePen → https:&#x2F;&#x2F;codepen.io&#x2F;summer10920&#x2F;pens&#x2F;public?grid_type&#x3D;list" rel="noopener me" target="_blank"><i class="fab fa-codepen fa-fw"></i>CodePen</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/c/LokiJiang/playlists" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;c&#x2F;LokiJiang&#x2F;playlists" rel="noopener me" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="回到頂端">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="http://demob17300.lokiwebs.com/" title="http:&#x2F;&#x2F;demob17300.lokiwebs.com&#x2F;" rel="noopener" target="_blank">DemoSite - 網頁設計乙術科</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="http://blog.lokiwebs.com/" title="http:&#x2F;&#x2F;blog.lokiwebs.com&#x2F;" rel="noopener" target="_blank">舊址(停更) - 札記 Blog</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://summer10920.github.io/2021/08-25/typescript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/loki_img.jpg">
      <meta itemprop="name" content="Loki Jiang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="洛奇的邪惡組織手札">
      <meta itemprop="description" content="Time waits for no oneヽ(｀Д´)ﾉ">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="[學習之路] TypeScript 的基礎 | 洛奇的邪惡組織手札">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [學習之路] TypeScript 的基礎
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間 ×2021-08-25 13:31:03" itemprop="dateCreated datePublished" datetime="2021-08-25T13:31:03+08:00">2021-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間 ×2021-12-11 01:52:01" itemprop="dateModified" datetime="2021-12-11T01:52:01+08:00">2021-12-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Zero-Road/" itemprop="url" rel="index"><span itemprop="name">Zero Road</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Zero-Road/Web-Fronted/" itemprop="url" rel="index"><span itemprop="name">Web Fronted</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數 ×</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數 ×</span>
      <span>14,658</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>00:26:39</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><img src="https://i.imgur.com/VL6vpbF.png"><br>如名般的 Type Script（類型腳本語言），微軟所提供的一種超集 JavaScript 之程式語言，可當作具有 type 類型系統的 JavaScript。主要是解決 JavaScript 的動態 type 設計不良所存在，可以當做它是一種 JS 預處理前置作業的檢查類型無誤後透過編譯 complier 後轉為 JavaScript。TypeScript 的語法可以使用純 JavaScript 來編寫，兩者差異就只是 type 的補足完整宣告。</p>
<span id="more"></span>

<p>由於 JavaScript 原本誕生作為簡單的腳本語言，隨著主流性發展導致原本語意單調設計上的引起錯亂，舉例來說：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&quot;</span> == <span class="number">0</span>, <span class="number">1</span> &lt; <span class="number">5</span> &lt; <span class="number">3</span>, <span class="number">5</span> * <span class="literal">undefined</span>);</span><br><span class="line"><span class="comment">/* true true NaN */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">ba</span>: <span class="number">10</span> &#125;</span><br><span class="line"><span class="keyword">const</span> val = obj.<span class="property">baa</span> * <span class="number">100</span>; <span class="comment">/*因打錯字所產生不存在的變數，卻不會出現錯誤，且內容為 NaN 仍繼續執行*/</span></span><br></pre></td></tr></table></figure>

<p>因此修正 JS 的語意類型的前置作業就是 TypeScript 的存在目標。TypeScript 的存在來自於 JavaScript 的問題性改善：</p>
<ol>
<li>靜態類型 Static Type 檢查<br>由於 JavaScript 採用動態方式特別自由不受限制，容易發生預期以外之型態結果（如上面範例）；TypeScript 採用靜態類型模式，在使用變數時就必需指定類型做為指定並檢查。</li>
<li>變數領域規劃<br>JavaScript 的變數只能作為全域變數或區間變數使用，無法在某物件或類別 class 內使用。</li>
<li>物件導向邏輯不同<br>JavaScript 的物件導向觀念採用獨特的原生鍊 Prototype Based 類型並非屬於程式領域中正規的 Class Based 之觀念（但在 ES6 版本已出現）。因此很多程式設計者無法套用原本已熟悉的物件導向觀念做功能使用；TypeScript 則可使用 Class Based 觀念並加以使用，像是 classs 繼承與介面等正規物件導向功能，更適合大型專案開發所用。</li>
</ol>
<h1 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h1><p>可從 <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/zh/">官方網站</a> 深入了解並下載，這裡使用 npm 來獲得安裝 (Node.js)。</p>
<figure class="highlight plaintext"><figcaption><span>npm</span></figcaption><table><tr><td class="code"><pre><span class="line">npm install typescript -g</span><br></pre></td></tr></table></figure>
<blockquote>
<p>這裡需引數 g 來安裝到主機上而不是專案目錄下</p>
</blockquote>
<h2 id="執行"><a href="#執行" class="headerlink" title="執行"></a>執行</h2><p>試著在專案內新增一筆檔案 <code>test.ts</code>，跟著輸入以下代碼準備轉檔</p>
<figure class="highlight ts"><figcaption><span>test.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">loki</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> title: <span class="built_in">string</span>, <span class="keyword">public</span> msg: <span class="built_in">string</span></span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">print</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;h1&gt;<span class="subst">$&#123;<span class="variable language_">this</span>.title&#125;</span>&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;<span class="subst">$&#123;<span class="variable language_">this</span>.msg&#125;</span>&lt;/p&gt;`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">msg</span>: loki = <span class="keyword">new</span> <span class="title function_">loki</span>(<span class="string">&quot;TITLE&quot;</span>, <span class="string">&quot;MESSAGE&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(msg.<span class="title function_">print</span>());</span><br></pre></td></tr></table></figure>

<h3 id="直接使用-tsc-指令"><a href="#直接使用-tsc-指令" class="headerlink" title="直接使用 tsc 指令"></a>直接使用 tsc 指令</h3><p>直接單純的使用 TSC 模組來完成指定檔案轉換，後透過終端機指令 <code>tsc test.tsc</code> 會進行編譯成 <code>test.js</code> 。另外提供直接用 ES6 方式寫的差別做比對：</p>
<div class="tabs" id="tsvsjs"><ul class="nav-tabs"><li class="tab active"><a href="#tsvsjs-1">test.js <br>(TypeScript to JavaScript)</a></li><li class="tab"><a href="#tsvsjs-2">testbyES6.js<br>（改用 ES6 觀念的寫法）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tsvsjs-1"><figure class="highlight js"><figcaption><span>test.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> loki = <span class="comment">/** <span class="doctag">@class</span> */</span> (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">loki</span>(<span class="params">title, msg</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">title</span> = title;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">msg</span> = msg;</span><br><span class="line">    &#125;</span><br><span class="line">    loki.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">print</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;\n      &lt;h1&gt;&quot;</span> + <span class="variable language_">this</span>.<span class="property">title</span> + <span class="string">&quot;&lt;/h1&gt;\n      &lt;p&gt;&quot;</span> + <span class="variable language_">this</span>.<span class="property">msg</span> + <span class="string">&quot;&lt;/p&gt;&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> loki;</span><br><span class="line">&#125;());</span><br><span class="line">;</span><br><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="title function_">loki</span>(<span class="string">&quot;TITLE&quot;</span>, <span class="string">&quot;MESSAGE&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(msg.<span class="title function_">print</span>());</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="tsvsjs-2"><figure class="highlight js"><figcaption><span>testbyES6.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">loki</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">title, msg</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">title</span> = title;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">msg</span> = msg;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">print</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;h1&gt;<span class="subst">$&#123;<span class="variable language_">this</span>.title&#125;</span>&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;<span class="subst">$&#123;<span class="variable language_">this</span>.msg&#125;</span>&lt;/p&gt;`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> msg = <span class="keyword">new</span> <span class="title function_">loki</span>(<span class="string">&quot;TITLE&quot;</span>, <span class="string">&quot;MESSAGE&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(msg.<span class="title function_">print</span>());</span><br></pre></td></tr></table></figure></div></div></div>

<p>從上列可知道以下觀念（觀察 TypeScript 與 JavaScriptES6)：</p>
<ul>
<li>編寫 class 的程式觀念上，使用 TypeScript 更直覺操作。畢竟原 ES5 寫法不是標準的 class 而是採用函式。雖 ES6 已經支援 Class 了，這裡因 TypeScript 的預設引數為 ES5 語法，但可自行調整此編譯語法引數。</li>
<li>TypeScript 主要是協助開發者完成代碼後轉換成 JavaScript 能理解的寫法</li>
<li>TypeScript 對於變數的型態宣告有強迫性，這是為了幫助開發者風險降低</li>
<li>TypeScript 的主要用途是讓開發者寫得更簡短與穩定，不是為了取代 JavsScript 標準</li>
</ul>
<p>事實上，任何轉檔調整需求都需要專案根目錄下的 TypeScript 設定檔案<code>tsconfig.json</code>來控制轉檔細部設定。這裡沒提供則不影響皆依 tsc 預設為輸出。在此試著規劃引數檔。</p>
<ol>
<li>專案目錄下直接建立<code>tsconfig.json</code>檔案。可以手動自己建立，也能透過終端指令<code>tsc --init</code>完成並會提供引數說明。</li>
<li><code>tsconfig.json</code>的引數非常多，這裡只隨便兩種設定即可，未設定的都以初始值，甚至都不寫也可以。<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;es6&quot;</span><span class="punctuation">,</span> <span class="comment">//輸出 JS 版本，可選擇 ES3、 ES5 、 ES2015 、 ES2016 、 ES2017 、 ES2018 、 ESNext 和 JSON</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ES6&quot;</span><span class="punctuation">,</span> <span class="comment">//指定生成為哪種模組，可不寫則根據 target 為 ES3/ES5 預設為 commonjs，否則預設值為 ES6</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="comment">//更多引數詳閱 https://www.staging-typescript.org/tsconfig</span></span><br></pre></td></tr></table></figure></li>
<li>接著在終端指令輸入<code>tsc</code> 就能根據 tsconfig.json 來轉檔，預設會自動對該專案資料夾內所有 ts 或 tsx 檔案為對象。</li>
</ol>
<h3 id="由-VSCode-提交-tsc-指令"><a href="#由-VSCode-提交-tsc-指令" class="headerlink" title="由 VSCode 提交 tsc 指令"></a>由 VSCode 提交 tsc 指令</h3><p>而 VScode 本身除了支援 TypeScript 語法高量與智能提示，還能進一步透過 tasks 工作排程方式送出 tsc 指令。前提是專案內要存在<code>tsconfig.json</code>才能被 VS Code 協助（必要）。</p>
<ul>
<li>接著換個方式。改用 VSCode 的 task 功能來執行 tsc。按下<kbd>F1</kbd>來呼叫命令視窗，輸入 task 關鍵字選擇<code>Task:Configure Task</code> （工作：設定工作）。</li>
<li>此時因為專案下有 tsconfig.json 檔案，VSCode 會對此檔案產生<code>建置 build</code>（一次性轉換）與<code>監看 watch</code> （同步轉換）兩種工作指令。</li>
</ul>
<p><strong>建置 build</strong></p>
<ol>
<li>選擇 <code>build 建置</code> 則會再產生 <code>.vscode/tasks.json</code> 記住此工作排程設定。內容如下：<figure class="highlight json"><figcaption><span>.vscode/tasks.json</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;typescript&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tsconfig&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsconfig.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;$tsc&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsc: 建置 - tsconfig.json&quot;</span><span class="punctuation">,</span>.</span><br><span class="line">      </span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>現在專案已經綁了一個 Task 工作細節，要執行工作的方式為按下<kbd>CTRL+SHIFT+B</kbd>選取工作即可，選擇剛建立的<code>tsc: 建置 - tsconfig.json</code>。</li>
<li>自動彈出終端機並自行執行 tsc -p 指令，同時要求你按下任何按鈕關閉此介面。<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Executing task: tsc -p d:\github\<span class="built_in">test</span>\tsconfig.json &lt;</span></span><br><span class="line"></span><br><span class="line">工作將被重新啟用。按任意鍵關閉。</span><br></pre></td></tr></table></figure></li>
<li>如果覺得這個按鈕動作很討厭，根據官方手冊可以不特別彈出顯示。<figure class="highlight json"><figcaption><span>.vscode/tasks.json</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;typescript&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tsconfig&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsconfig.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;$tsc&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsc: 建置 - tsconfig.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;presentation&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;reveal&quot;</span><span class="punctuation">:</span> <span class="string">&quot;silent&quot;</span> <span class="comment">//僅當未掃描輸出以查找錯誤和警告時，才將終端面板置於前面。</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>監看 watch</strong></p>
<ol>
<li>回到上面流程這次改選 <code>監看 watch</code> 則會再對 <code>.vscode/tasks.json</code> 產生一個新工作排程設定。內容如下：<figure class="highlight json"><figcaption><span>.vscode/tasks.json</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;typescript&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tsconfig&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsconfig.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;$tsc&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsc: 建置 - tsconfig.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;presentation&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;reveal&quot;</span><span class="punctuation">:</span> <span class="string">&quot;silent&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;typescript&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tsconfig&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsconfig.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;option&quot;</span><span class="punctuation">:</span> <span class="string">&quot;watch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;$tsc-watch&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsc: 監看 - tsconfig.json&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>這次改執行這個工作項目，按下<kbd>CTRL+SHIFT+B</kbd>選取剛建立的<code>tsc: 監看 - tsconfig.json</code>。</li>
<li>現在每次對目標檔案 ts 存檔時，就會自動監看變化並同步轉檔。</li>
</ol>
<h2 id="tsconfig-json-引數"><a href="#tsconfig-json-引數" class="headerlink" title="tsconfig.json 引數"></a>tsconfig.json 引數</h2><p>這裡列一些值得討論的引數設定（內容隨作者慢慢增加），不設定也沒關係。你可以跳過這篇等到上手環境再回來看。</p>
<table>
<thead>
<tr>
<th>compilerOptions</th>
<th>default Value</th>
<th>Allowed</th>
<th>info</th>
</tr>
</thead>
<tbody><tr>
<td>target</td>
<td>ES3</td>
<td>ES5,<br>ES6&#x2F;ES2015 (synonymous),<br>ES7&#x2F;ES2016,<br>ES2017,<br>ES2018,<br>ES2019,<br>ES2020,<br>ESNext</td>
<td>輸出的 JS 版本</td>
</tr>
<tr>
<td>noEmitOnError</td>
<td>false</td>
<td>true</td>
<td>如果報告了任何錯誤時停止 JS 輸出</td>
</tr>
</tbody></table>
<h1 id="類型判斷方式"><a href="#類型判斷方式" class="headerlink" title="類型判斷方式"></a>類型判斷方式</h1><p>在 TypeScript 領域內，行如其名所有的東西都會有靜態 Type，可分為系統自動判斷與人為手動定義兩種。當你未做任何動作情況下系統會自動判斷可能的 Type 來自動列入除錯考量。但可以的話就自行定義畢竟也可能會出現推論錯誤可能。</p>
<p>由於 TypeScript 是 TypeScript 的超集 (superset)，因此在 Typescript 內輸入純 JavaScript 語法也是可行的，只差於在 TypeScript 領域裡會保守的做任何類型檢查並報錯。類型檢查有以下機制：</p>
<h2 id="根據推論"><a href="#根據推論" class="headerlink" title="根據推論"></a>根據推論</h2><p>TypeScript 了解 Javascript 的語法因此直接使用 Javascript 來設定類型時 TypeScript 會試著去推理出變數的類型。如下例，第一行沒有告知類型，TypeScript 能推測出屬於字串，接著第二行會出現錯誤，TypeScript 已知道這變數為字串而不能改成數字。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> jsword = <span class="string">&quot;hello World&quot;</span>;</span><br><span class="line">jsword = <span class="number">5</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> (jsword));</span><br></pre></td></tr></table></figure>

<h2 id="透過定義"><a href="#透過定義" class="headerlink" title="透過定義"></a>透過定義</h2><p>可以自己告知 TypeScript 這變數屬於什麼類型，有三種基本寫法：</p>
<figure class="highlight ts"><figcaption><span>寫法 1</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">str</span>: <span class="built_in">string</span> = <span class="string">&quot;hello&quot;</span>;  <span class="comment">/*指定寫法：在 name 處指定類型*/</span></span><br><span class="line"><span class="keyword">const</span> num = &lt;<span class="built_in">number</span>&gt;<span class="number">456</span>;  <span class="comment">/*斷言（Type Assertion）寫法：在 value 前綴添加&lt;&gt; */</span></span><br><span class="line"><span class="keyword">const</span> bool = <span class="literal">true</span> <span class="keyword">as</span> <span class="built_in">boolean</span>; <span class="comment">/*斷言（Type Assertion）寫法：在 value 用 as 綁定*/</span></span><br></pre></td></tr></table></figure>

<p>這習慣很容易培養，每次創立變數時記得宣告這變數的類型即可，舉例如下：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span></span><br><span class="line">  <span class="attr">price</span>: <span class="built_in">number</span> = <span class="number">100</span>,</span><br><span class="line">  <span class="attr">tax</span>: <span class="built_in">number</span> = <span class="number">0.05</span>,</span><br><span class="line">  <span class="attr">total</span>: <span class="built_in">number</span> = price * (<span class="number">1</span> + tax);</span><br><span class="line"><span class="keyword">const</span> <span class="attr">msg</span>:<span class="built_in">string</span>=<span class="string">&quot;$&quot;</span>+price+<span class="string">&quot;含稅價為：$&quot;</span>+total+<span class="string">&quot;。&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(msg);</span><br></pre></td></tr></table></figure>

<p>當然可試著將所有的定義類型移除，TS 程式仍可以正常轉換為 Javascript 不會報錯，這是 TypeScript 透過推論協助出來的。但不要太過於依賴推論功能，如果可以還是想成習慣宣告類型，避免遇到不可預期的邏輯錯誤。</p>
<h1 id="類型"><a href="#類型" class="headerlink" title="類型"></a>類型</h1><p>JavaScript 的型別分為兩種：原始資料類型（Primitive data types）和物件類型（Object types）。</p>
<h2 id="原始類型-Primitive-Types"><a href="#原始類型-Primitive-Types" class="headerlink" title="原始類型 Primitive Types"></a>原始類型 Primitive Types</h2><p>又稱呼資料類型 Data Types，目前已看過 number,string,boolean,any 這四種基本類型的出現，我們接著詳細介紹類型與規則。但注意不要跟 JavaScript 原生的內建物件搞混，舉例來說<code>boolean vs new Boolean()</code>，或<code>number vs new Number()</code>。</p>
<h3 id="boolean-number-string"><a href="#boolean-number-string" class="headerlink" title="boolean, number, string"></a>boolean, number, string</h3><p>布林值可以指定類型為<code>boolean</code>，另一種寫法為<code>Boolean</code>代表的是 JS 原生的建構式勿搞混。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">bl</span>: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">blObj</span>: <span class="title class_">Boolean</span> = <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="attr">blbak</span>: <span class="built_in">boolean</span> = <span class="title class_">Boolean</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bl); <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(blObj); <span class="comment">//Boolean &#123;false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(blbak); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<p>數字類型涵蓋了各種數值</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span></span><br><span class="line">  <span class="attr">decLiteral</span>: <span class="built_in">number</span> = <span class="number">6</span>,</span><br><span class="line">  <span class="attr">hexLiteral</span>: <span class="built_in">number</span> = <span class="number">0xf00d</span>, <span class="comment">// 61453</span></span><br><span class="line">  <span class="attr">binaryLiteral</span>: <span class="built_in">number</span> = <span class="number">0b1010</span>, <span class="comment">// 10 (ES6 二進位）</span></span><br><span class="line">  <span class="attr">octalLiteral</span>: <span class="built_in">number</span> = <span class="number">0o744</span>, <span class="comment">//484 (ES6 八進位）</span></span><br><span class="line">  <span class="attr">notANumber</span>: <span class="built_in">number</span> = <span class="title class_">NaN</span>, <span class="comment">//非數字</span></span><br><span class="line">  <span class="attr">infinityNumber</span>: <span class="built_in">number</span> = <span class="title class_">Infinity</span>; <span class="comment">//無限大</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">numObj</span>: <span class="title class_">Number</span> = <span class="keyword">new</span> <span class="title class_">Number</span>(<span class="number">5</span>);  <span class="comment">//Number &#123;5&#125;</span></span><br></pre></td></tr></table></figure>

<p>字串如此簡單，之後不再演示 new String() 之類了唷。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span></span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> = <span class="string">&#x27;Loki&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">echo</span>: <span class="built_in">string</span> = <span class="string">`My name is <span class="subst">$&#123;name&#125;</span>. I&#x27;ll be <span class="subst">$&#123;age + <span class="number">1</span>&#125;</span> years tomorrow.`</span>;</span><br></pre></td></tr></table></figure>

<h3 id="void-null-undefined"><a href="#void-null-undefined" class="headerlink" title="void, null, undefined"></a>void, null, undefined</h3><p>void 為空值之意，如果是宣告在變數身上代表沒有內容，宣告在函式身上是代表此函式沒有回傳內容。可以指定 undefind 或 null 作為值。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">void1</span>: <span class="built_in">void</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">void2</span>: <span class="built_in">void</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params"></span>): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello world&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">fn2</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span> = <span class="keyword">function</span> (<span class="params"></span>): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello world&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  fn2 的類型寫法為 ()=&gt;void </span></span><br><span class="line"><span class="comment">  是指 fn2 這個變數的為一個函式，沒有傳遞變數而回傳為 void</span></span><br><span class="line"><span class="comment">  這裡的=&gt;是函式的描述用途</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>或者直接指定該類型為 undefind 或 null。此外任何類型都可以存在 undefined 或 null，void 則不可以（就真的空值沒有存在意義）。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span></span><br><span class="line">  <span class="attr">udf</span>: <span class="literal">undefined</span> = <span class="literal">undefined</span>,</span><br><span class="line">  <span class="attr">nl</span>: <span class="literal">null</span> = <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">num</span>: <span class="built_in">number</span> = <span class="literal">undefined</span>, <span class="comment">//ok</span></span><br><span class="line">  <span class="attr">str</span>: <span class="built_in">string</span> = <span class="literal">null</span>; <span class="comment">//ok</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(udf, nl, num, str); <span class="comment">//undefined null undefined null</span></span><br></pre></td></tr></table></figure>

<h3 id="any-通用類型"><a href="#any-通用類型" class="headerlink" title="any 通用類型"></a>any 通用類型</h3><p>由於 TypeScript 非常要求靜態類型的宣告，因此有必要時可使用 any 通用類型，可以像 Javascript 那樣保留動態不受限定類型。然而如果宣告變數時沒指定 type 也會被 TypeScript 當作 any。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">anyVal</span>: <span class="built_in">any</span> = <span class="number">123</span>;  <span class="comment">//原為 number</span></span><br><span class="line">anyVal = <span class="string">&quot;word&quot;</span>; <span class="comment">//可改為 string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> anyVar = <span class="number">123</span>; <span class="comment">//根據推論指定為 number</span></span><br><span class="line">anyVar = <span class="string">&quot;word&quot;</span>; <span class="comment">// error：類型 &#x27;string&#x27; 不可指派給類型 &#x27;number&#x27;。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> anyOne;  <span class="comment">//無法推論，故指定為 any</span></span><br><span class="line">anyOne = <span class="number">123</span>;</span><br><span class="line">anyOne = <span class="string">&quot;word&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="複合類型"><a href="#複合類型" class="headerlink" title="複合類型"></a>複合類型</h3><p>選擇宣告類型時，可以透過符號<code>|</code>來告知此宣告允許多種 type 格式。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">val</span>: <span class="built_in">string</span> | <span class="built_in">number</span> = <span class="number">123</span>;</span><br><span class="line">val = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(val); <span class="comment">//123</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">both</span>(<span class="params">arg: <span class="built_in">number</span> | <span class="built_in">string</span></span>): <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`You push is <span class="subst">$&#123;arg&#125;</span>!!`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">both</span>(<span class="number">123</span>), <span class="title function_">both</span>(<span class="string">&quot;word&quot;</span>)); <span class="comment">//You push is 123!! You push is word!!</span></span><br></pre></td></tr></table></figure>

<h2 id="物件類型-Object-types"><a href="#物件類型-Object-types" class="headerlink" title="物件類型 Object types"></a>物件類型 Object types</h2><p>又稱呼用戶自訂類型 User Defined Types。在 TypeScript 中所有不是原始類型的都是物件類型的子類。例如有 class、介面、函式、內建物件、陣列、元組等，我們將在後續章節中詳細介紹：</p>
<h3 id="JavaScript-內建物件"><a href="#JavaScript-內建物件" class="headerlink" title="JavaScript 內建物件"></a>JavaScript 內建物件</h3><p>JavaScript 的內建物件總類眾多</p>
<h4 id="標準物件"><a href="#標準物件" class="headerlink" title="標準物件"></a>標準物件</h4><p>標準的內建物件類型寫法如下，這裡不全列出，只需注意與原始類型差異為大寫命名方式。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: <span class="title class_">Boolean</span> = <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="attr">e</span>: <span class="title class_">Error</span> = <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Error occurred&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="attr">d</span>: <span class="title class_">Date</span> = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="attr">r</span>: <span class="title class_">RegExp</span> = <span class="regexp">/[a-z]/</span>;</span><br></pre></td></tr></table></figure>

<h4 id="BOM-與-DOM-物件"><a href="#BOM-與-DOM-物件" class="headerlink" title="BOM 與 DOM 物件"></a>BOM 與 DOM 物件</h4><p>BOM 與 DOM 本身的物件也有各自的類型，其名字注意大概為 HTMLElement、NodeList、MouseEvent 這些常用，可嘗試不寫改由系統來推論。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">body</span>: <span class="title class_">HTMLElement</span> = <span class="variable language_">document</span>.<span class="property">body</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">id</span>: <span class="title class_">Element</span> = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myid&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="attr">allDiv</span>: <span class="title class_">NodeList</span> = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e: MouseEvent</span>) &#123;</span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="介面-interface"><a href="#介面-interface" class="headerlink" title="介面 interface"></a>介面 interface</h3><p>介面是一種約束行為的自訂資料類型，能要求必需含有哪些項目類型，打包成一個自訂的介面 type。常用於 object 與 class。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Objtype</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>,</span><br><span class="line">&#125; <span class="comment">/*透過介面先整理好，注意命名與數量需匹配一致*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>通常開發者命名習慣上會用字首大寫或 I 開頭，這樣能醒目知道而是一個介面類型的名稱。</p>
</blockquote>
<h4 id="繼承-extends"><a href="#繼承-extends" class="headerlink" title="繼承 extends"></a>繼承 extends</h4><p>介面也可以透過繼承觀念來得到父介面與子介面的關係。繼承觀念在 class 會再討論一次。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Fa</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Fa</span>&#123;</span><br><span class="line">  <span class="attr">sex</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>:<span class="title class_">Son</span>=&#123;  <span class="comment">//error: 類型 &#x27;&#123; sex: string; &#125;&#x27; 在類型 &#x27;Son&#x27; 中缺少下列屬性：name, id</span></span><br><span class="line">  <span class="attr">sex</span>:<span class="string">&#x27;man&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="合併介面"><a href="#合併介面" class="headerlink" title="合併介面"></a>合併介面</h4><p>當存在相同名稱的介面可視同合併成一個同名介面，但注意屬性與類型組合不可有衝突。而方法的組合衝突時等同於函式的多載效果。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="title function_">echo</span>(<span class="attr">s</span>:<span class="built_in">number</span>):<span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">sex</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">echo</span>(<span class="attr">s</span>:<span class="built_in">string</span>):<span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* same as</span></span><br><span class="line"><span class="comment">interface User &#123;</span></span><br><span class="line"><span class="comment">  name: string;</span></span><br><span class="line"><span class="comment">  id: number;</span></span><br><span class="line"><span class="comment">  sex: string;</span></span><br><span class="line"><span class="comment">  echo(s:number):number;</span></span><br><span class="line"><span class="comment">  echo(s:string):string;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Box</span> &#123;</span><br><span class="line">  <span class="attr">price</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Box</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">price</span>: <span class="built_in">number</span>;  <span class="comment">//error: 後續的屬性宣告必須具有相同的類型。屬性 &#x27;price&#x27; 的類型必須是 &#x27;string&#x27;，但此處卻是類型 &#x27;number&#x27;。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="物件-object"><a href="#物件-object" class="headerlink" title="物件 object"></a>物件 object</h3><p>如果是宣告一個物件資料 JSON。定義之前一定要先使用介面並將類型都指定整理好。接著將這個介面名稱當作類型進行宣告給予變數，有些須注意：</p>
<ul>
<li>這個變數 object 必需與介面擁有一樣名稱與數量，否則缺少就會報錯。</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Objtype</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>,</span><br><span class="line">&#125; <span class="comment">/*透過介面先整理好，注意命名與數量需匹配一致*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: <span class="title class_">Objtype</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;loki&quot;</span>,</span><br><span class="line">  <span class="attr">id</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="可選、任意、唯獨屬性"><a href="#可選、任意、唯獨屬性" class="headerlink" title="可選、任意、唯獨屬性"></a>可選、任意、唯獨屬性</h4><ul>
<li>透過屬性名稱後綴<code>?</code>可指定某屬性為非約束之可選屬性，可存在也可不存在</li>
<li><code>[propName: string]: any</code> 代表任何名稱與任何的值類型，如果把 any 改成 string，會影響 id 報錯（因為這句會套用其他的屬性上）</li>
<li>透過屬性名稱前綴<code>readonly</code>，一旦被 obj 套入類型後，obj 這個屬性會獲得不可修改之狀況。</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> user &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  birthMonth?: <span class="built_in">number</span>; <span class="comment">//問號則可允許不存在</span></span><br><span class="line">  [<span class="attr">propName</span>: <span class="built_in">string</span>]: <span class="built_in">any</span>; <span class="comment">//屬性名稱與類型皆為未指定，加這個就能允許 obj 自添加</span></span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">city</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;loki&#x27;</span>,</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="string">&#x27;man&#x27;</span>,</span><br><span class="line">  <span class="attr">city</span>: <span class="string">&#x27;tp&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">//&#123;name: &#x27;loki&#x27;, id: 1, sex: &#x27;man&#x27;, city: &#x27;tp&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">obj.<span class="property">city</span> = <span class="string">&#x27;nt&#x27;</span>; <span class="comment">//報錯：因為 &#x27;city&#x27; 為唯讀屬性，所以無法指派至 &#x27;city&#x27;。</span></span><br></pre></td></tr></table></figure>

<p>注意的是<code>[propName: string]</code>等於是指任何屬性，也約束在其他已寫出的屬性，注意使用場合避免衝突。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> user &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  [<span class="attr">propName</span>: <span class="built_in">string</span>]: <span class="built_in">string</span>; <span class="comment">//如果這裡指定 string，介面任何 type 都必需是 string</span></span><br><span class="line">  <span class="comment">//也就是此邏輯套用在任何定義上</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 報錯：類型 &#x27;number&#x27; 的屬性 &#x27;id&#x27; 不可指派給字串索引類型 &#x27;string&#x27;。</span></span><br></pre></td></tr></table></figure>

<h3 id="陣列-array"><a href="#陣列-array" class="headerlink" title="陣列 array"></a>陣列 array</h3><p>陣列的指定類型方式需要多一個<code>[]</code>宣告在後餟，這樣的操作下會是陣列內所有值的類型都是同樣的，雖然不像 Javascript 自由彈性，但也是保護你的資料都是同樣 type 類型。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">ary</span>:<span class="built_in">number</span>[]=[<span class="number">123</span>,<span class="number">456</span>];</span><br><span class="line">ary.<span class="title function_">push</span>(<span class="number">789</span>);  <span class="comment">//[123,456,789]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">total</span>:<span class="built_in">number</span>=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> i <span class="keyword">in</span> ary) &#123;</span><br><span class="line">  total+=ary[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary,<span class="string">`SUM=<span class="subst">$&#123;total&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>

<p>如果需要彈性的類型資料，可使用複合方式達到。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">ary</span>: (<span class="built_in">string</span> | <span class="built_in">number</span>)[] = [<span class="string">&#x27;Loki&#x27;</span>, <span class="string">&#x27;Jiang&#x27;</span>, <span class="number">18</span>];</span><br><span class="line">ary.<span class="title function_">push</span>(<span class="string">&quot;taiwan&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary); <span class="comment">//(4) [&#x27;Loki&#x27;, &#x27;Jiang&#x27;, 18, &#x27;taiwan&#x27;]</span></span><br></pre></td></tr></table></figure>

<h4 id="搭配泛型"><a href="#搭配泛型" class="headerlink" title="搭配泛型"></a>搭配泛型</h4><p>陣列泛型（Array Generic）的寫法是專用給陣列的一種宣告方式。透過 Array 這個 JS 原生建構式獲得類型，並且傳遞 number 作為泛型的替代。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">ary</span>: <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>ary:any[]</code> 的解讀角度比較像是 ary 本身是 any type 且為陣列結構之類型，而 <code>ary:Array&lt;any&gt;</code> 的解讀為 ary 從 JS 建構式 Array 獲得類型，並由泛型的指定其內容值替代為 any type。</p>
</blockquote>
<h4 id="搭配介面"><a href="#搭配介面" class="headerlink" title="搭配介面"></a>搭配介面</h4><p>也可以用介面來做成約束類型給予陣列，但以下用法太複雜很少用於這種形式的陣列上。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Istr</span> &#123;</span><br><span class="line">  [<span class="attr">index</span>: <span class="built_in">number</span>]: <span class="built_in">string</span>; <span class="comment">//只要 index 是數字類型，其值為 string 類型</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">ary</span>: <span class="title class_">Istr</span>[] = [<span class="string">&#x27;Loki&#x27;</span>, <span class="string">&#x27;Jiang&#x27;</span>];</span><br><span class="line">ary.<span class="title function_">push</span>(<span class="string">&quot;taiwan&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary); <span class="comment">//(3) [&#x27;Loki&#x27;, &#x27;Jiang&#x27;, &#x27;taiwan&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>如果是用在陣列內的 value:Object 上就蠻適合的。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Staff</span> &#123;  <span class="comment">//設計介面</span></span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">ary</span>: <span class="title class_">Staff</span>[] = []; <span class="comment">//陣列內的值都是採用介面類型</span></span><br><span class="line"></span><br><span class="line">ary.<span class="title function_">push</span>(&#123;  <span class="comment">//直接 obj 塞入 ary，當下檢查此 obj 需約束於介面 Staff</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Jasmin&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">9</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">user</span>: <span class="title class_">Staff</span> = &#123;　　<span class="comment">//先宣告一個 obj 已需約束於介面 Staff</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Roxie&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">6</span></span><br><span class="line">&#125;</span><br><span class="line">ary.<span class="title function_">push</span>(user); <span class="comment">//再將 obj 塞入 ary</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">  &#123;</span></span><br><span class="line"><span class="comment">    &quot;name&quot;: &quot;Jasmin&quot;,</span></span><br><span class="line"><span class="comment">    &quot;age&quot;: 9</span></span><br><span class="line"><span class="comment">  &#125;,</span></span><br><span class="line"><span class="comment">  &#123;</span></span><br><span class="line"><span class="comment">    &quot;name&quot;: &quot;Roxie&quot;,</span></span><br><span class="line"><span class="comment">    &quot;age&quot;: 6</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="列舉-enum"><a href="#列舉-enum" class="headerlink" title="列舉 enum"></a>列舉 enum</h3><p>enum 是一種特別的資料類型稱呼為列舉類型。能預先將一些固定的資料存入並自動提供索引 key，結果會是以物件方式保存且不可再事後添加。使用列舉類型可以獲得 key 與 value 相反對應的物件，透過以下代碼做檢視就能明白：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> lokiStatus &#123; scuess, warn, error &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(lokiStatus); </span><br><span class="line"><span class="comment">//&#123;0: &#x27;scuess&#x27;, 1: &#x27;warn&#x27;, 2: &#x27;error&#x27;, scuess: 0, warn: 1, error: 2&#125;</span></span><br></pre></td></tr></table></figure>

<p>TypeScript 會自動將這些 value 做成 key 值，如果需要就能去尋找這些值的相關動作。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> lokiStatus &#123; scuess, warn, error &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(lokiStatus); </span><br><span class="line"><span class="comment">//&#123;0: &#x27;scuess&#x27;, 1: &#x27;warn&#x27;, 2: &#x27;error&#x27;, scuess: 0, warn: 1, error: 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// use value check in enum</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">code</span>:<span class="built_in">string</span>=<span class="string">&quot;scuess&quot;</span>;</span><br><span class="line"><span class="keyword">switch</span> (lokiStatus[code]) &#123;</span><br><span class="line">  <span class="keyword">case</span> lokiStatus.<span class="property">scuess</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;is scuess&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> lokiStatus.<span class="property">error</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;is error&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> lokiStatus.<span class="property">warn</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;is warning&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也可以去手動設定這些 index 值，舉例來說前後端的 status 對應可以用到。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> apiStatus &#123;</span><br><span class="line">  scuess = <span class="number">200</span>,</span><br><span class="line">  warn = <span class="number">300</span>,</span><br><span class="line">  error = <span class="number">400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(apiStatus);</span><br><span class="line"><span class="comment">//&#123;200: &#x27;scuess&#x27;, 300: &#x27;warn&#x27;, 400: &#x27;error&#x27;, scuess: 200, warn: 300, error: 400&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// use index check in enum</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">getcode</span>: <span class="built_in">number</span> = <span class="number">400</span>;</span><br><span class="line"><span class="keyword">switch</span> (getcode) &#123;</span><br><span class="line">  <span class="keyword">case</span> apiStatus.<span class="property">scuess</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;is scuess&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> apiStatus.<span class="property">error</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;is error&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> apiStatus.<span class="property">warn</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;is warning&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>避免同時存在手動索引值與自動索引值共存，TypeScript 會笨笨從 0 列項開始自動賦予索引值，可能會自動地給覆蓋掉。例如<code>[a=2,b,c,d]</code>的 c 會自動拿到 2，導致 a 手動的 2 被覆蓋。</p>
</blockquote>
<p>也能指定字串作為索引 key，只是不會額外產生反向關聯 key 與 value。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> msgStatus &#123;</span><br><span class="line">  scuess = <span class="string">&#x27;ok&#x27;</span>,</span><br><span class="line">  warn = <span class="string">&#x27;alert&#x27;</span>,</span><br><span class="line">  error = <span class="string">&#x27;fail&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(msgStatus);</span><br><span class="line"><span class="comment">//&#123;scuess: &#x27;ok&#x27;, warn: &#x27;alert&#x27;, error: &#x27;fail&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//use key check in enum</span></span><br><span class="line"><span class="keyword">const</span> &#123; scuess, error &#125; = msgStatus; <span class="comment">//可透過這方法再把 enum 轉回幾個變數，但名稱要存在</span></span><br><span class="line"><span class="keyword">const</span> msg = <span class="string">&quot;ok&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (msg <span class="keyword">as</span> <span class="built_in">string</span>) &#123; <span class="comment">//如果不指定 type 會出現 type 無法比較。因為前一行沒有宣告類型，這裡事後指定這裡的資料為字串</span></span><br><span class="line">  <span class="keyword">case</span> <span class="attr">scuess</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;is scuess&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="attr">error</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;is warning&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="常數列舉-const-enum"><a href="#常數列舉-const-enum" class="headerlink" title="常數列舉 const enum"></a>常數列舉 const enum</h4><p>enum 可以使用 const 來宣告，差別在於編譯完成後會刪除 object 但仍可正常於 TypeScript 上去列舉資料（實際因需求而存在）。可以觀察 TypeScript 產生的 JavaScript 精省到什麼程度減少內存效能。然而因為物件不存在，所以無法反向取值透過 index 數字去找到 value。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">enum</span> constStatus &#123;</span><br><span class="line">  scuess = <span class="string">&#x27;ok&#x27;</span>,</span><br><span class="line">  error = <span class="string">&#x27;fail&#x27;</span>,</span><br><span class="line">  apple=<span class="number">100</span>,</span><br><span class="line">  banana=<span class="number">200</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//應該但不存在的物件</span></span><br><span class="line"><span class="comment">//&#123;100: &#x27;apple&#x27;, 200: &#x27;banana&#x27;, scuess: &#x27;ok&#x27;, error: &#x27;fail&#x27;, apple: 100, banana: 200&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(constStatus) <span class="comment">// 報錯，無此物件</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(constStatus.<span class="property">error</span>); <span class="comment">//&#x27;fail&#x27;:string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(constStatus[<span class="number">200</span>]); <span class="comment">//不可能找到，沒有物件就沒有 index</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(constStatus.<span class="property">apple</span>); <span class="comment">// 100:number</span></span><br></pre></td></tr></table></figure>

<h4 id="聲明列舉-declare-enum"><a href="#聲明列舉-declare-enum" class="headerlink" title="聲明列舉 declare enum"></a>聲明列舉 declare enum</h4><p>聲明用途的列舉，僅檢查用途，編譯時不會有存在 object 與任何換算結果。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">enum</span> constStatus &#123;</span><br><span class="line">  scuess,</span><br><span class="line">  error</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="元組-tuple"><a href="#元組-tuple" class="headerlink" title="元組 tuple"></a>元組 tuple</h3><p>元組是指一種更嚴謹的陣列，相別於前面的寫法，能強迫嚴格指定每個陣列位置的類型為何。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">ary1</span>: [<span class="built_in">string</span>, <span class="built_in">string</span>, <span class="built_in">number</span>, <span class="built_in">string</span>];</span><br><span class="line">ary1 = [<span class="string">&#x27;Loki&#x27;</span>, <span class="string">&#x27;Jaing&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;Taiwan&#x27;</span>]; <span class="comment">//必需對應正確的型態否則會錯誤</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//上面兩行可簡化直接一行寫完</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">ary2</span>: [<span class="built_in">string</span>, <span class="built_in">string</span>, <span class="built_in">number</span>, <span class="built_in">string</span>] = [<span class="string">&#x27;Loki&#x27;</span>, <span class="string">&#x27;Jaing&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;Taiwan&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary1, ary2);</span><br></pre></td></tr></table></figure>

<p>搭配列舉與別名的範例</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> sex &#123; man, woman &#125;;  <span class="comment">//列舉類型物件</span></span><br><span class="line"><span class="keyword">type</span> username = <span class="built_in">string</span>; <span class="comment">//別名</span></span><br><span class="line"><span class="keyword">type</span> mail = <span class="built_in">string</span>; <span class="comment">//別名</span></span><br><span class="line"><span class="keyword">type</span> age = <span class="built_in">number</span>; <span class="comment">//別名</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">author</span>: [username, mail, sex, age]; <span class="comment">//設定 author 變數為元祖類型</span></span><br><span class="line">author = [<span class="string">&#x27;Loki&#x27;</span>, <span class="string">&#x27;summer@gmail.com&#x27;</span>, sex.<span class="property">man</span>, <span class="number">18</span>]; <span class="comment">//sex.man 會塞入 index 值</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(author);</span><br><span class="line"><span class="comment">//(4) [&#x27;Loki&#x27;, &#x27;summer@gmail.com&#x27;, 0, 18]</span></span><br></pre></td></tr></table></figure>

<p>如果搭配資料庫規劃可做成這樣的陣列宣告，將 type tuple 當作一個別名指定給陣列。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> sex &#123; man, woman &#125;;  <span class="comment">//列舉類型物件</span></span><br><span class="line"><span class="keyword">type</span> username = <span class="built_in">string</span>; <span class="comment">//別名</span></span><br><span class="line"><span class="keyword">type</span> mail = <span class="built_in">string</span>; <span class="comment">//別名</span></span><br><span class="line"><span class="keyword">type</span> age = <span class="built_in">number</span>; <span class="comment">//別名</span></span><br><span class="line"><span class="keyword">type</span> author = [username, mail, sex, age]; <span class="comment">//別名為元祖類型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">rows</span>: author[] = []; <span class="comment">//宣告變數為 author 這個別名類型</span></span><br><span class="line"></span><br><span class="line">rows.<span class="title function_">push</span>([<span class="string">&#x27;Loki&#x27;</span>, <span class="string">&#x27;loki@gmail.com&#x27;</span>, sex.<span class="property">man</span>, <span class="number">18</span>]);</span><br><span class="line">rows.<span class="title function_">push</span>([<span class="string">&#x27;Kelly&#x27;</span>, <span class="string">&#x27;kelly@gmail.com&#x27;</span>, sex.<span class="property">woman</span>, <span class="number">16</span>]);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rows);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  (2) [Array(4), Array(4)]</span></span><br><span class="line"><span class="comment">  0: (4) [&#x27;Loki&#x27;, &#x27;loki@gmail.com&#x27;, 0, 18]</span></span><br><span class="line"><span class="comment">  1: (4) [&#x27;Kelly&#x27;, &#x27;kelly@gmail.com&#x27;, 1, 16]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="函式-Function"><a href="#函式-Function" class="headerlink" title="函式 Function"></a>函式 Function</h3><p>除了變數需要指定類型，在函式的應用上也會用到定義函式，例如傳遞引數、回傳值以及函式型變數等場合。</p>
<h4 id="傳遞與回傳"><a href="#傳遞與回傳" class="headerlink" title="傳遞與回傳"></a>傳遞與回傳</h4><p>規則如變數一樣，在傳遞變數後綴指定類型，而回傳的資料也需要類型，寫在函式本體後綴指定類型。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">calc</span>(<span class="params">price: <span class="built_in">number</span>, tax: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;  <span class="comment">//回傳類型寫在函式本身後綴</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(price * (<span class="number">1</span> + tax / <span class="number">100</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">calc</span>(<span class="number">99</span>, <span class="number">5</span>));  <span class="comment">// 99*1.05=103.95=&gt; 103</span></span><br></pre></td></tr></table></figure>

<h5 id="傳遞：選配、預設、其餘"><a href="#傳遞：選配、預設、其餘" class="headerlink" title="傳遞：選配、預設、其餘"></a>傳遞：選配、預設、其餘</h5><p>如果傳遞引數為選配，可透過<code>?</code>來指定。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">calc</span>(<span class="params">price: <span class="built_in">number</span>, tax?: <span class="built_in">number</span></span>): <span class="built_in">void</span> &#123;  <span class="comment">//回傳類型寫在函式本身後綴</span></span><br><span class="line">  <span class="keyword">const</span> tx = tax ? tax : <span class="number">5</span>;  <span class="comment">//如果 tax 變數存在就指定，這裡不會報錯是因為透過推論得到為 number</span></span><br><span class="line">  <span class="keyword">const</span> <span class="attr">total</span>: <span class="built_in">number</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(price * (<span class="number">1</span> + tx / <span class="number">100</span>));</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(total);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">calc</span>(<span class="number">100</span>); <span class="comment">//105</span></span><br><span class="line"><span class="title function_">calc</span>(<span class="number">100</span>,<span class="number">7</span>); <span class="comment">//107</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意選擇性引數的順序需要於必要引數之後，不可以持有<code>?</code>的引數比沒有持有的引數還早出現。</p>
</blockquote>
<p>而預設引數與 JavaScript ES6 相同觀念使用。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">calc</span>(<span class="params">price: <span class="built_in">number</span>, tax: <span class="built_in">number</span> = <span class="number">5</span></span>): <span class="built_in">void</span> &#123;  <span class="comment">//回傳類型寫在函式本身後綴</span></span><br><span class="line">  <span class="keyword">const</span> <span class="attr">total</span>: <span class="built_in">number</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(price * (<span class="number">1</span> + tax / <span class="number">100</span>));</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(total);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">calc</span>(<span class="number">100</span>); <span class="comment">//105</span></span><br><span class="line"><span class="title function_">calc</span>(<span class="number">100</span>, <span class="number">7</span>); <span class="comment">//107</span></span><br></pre></td></tr></table></figure>

<p>其餘引數 rest parameter 同 JavaScript 用法，使用<code>...</code>來表示不確定數量的引數，因為是一種陣列結構所以需宣告陣列類型。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sumArg</span>(<span class="params">...ary: <span class="built_in">number</span>[]</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">total</span>: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> ary) total += item;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(total);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">sumArg</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<h5 id="回傳：void、never"><a href="#回傳：void、never" class="headerlink" title="回傳：void、never"></a>回傳：void、never</h5><p>如果沒有要回傳變數時，需函式類型為<code>void</code>來告知這個函式沒有回傳資料。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">calc</span>(<span class="params">price: <span class="built_in">number</span>, tax: <span class="built_in">number</span></span>): <span class="built_in">void</span> &#123;  <span class="comment">//回傳類型寫在函式本身後綴</span></span><br><span class="line">  <span class="keyword">const</span> <span class="attr">total</span>:<span class="built_in">number</span>=<span class="title class_">Math</span>.<span class="title function_">floor</span>(price * (<span class="number">1</span> + tax / <span class="number">100</span>)); <span class="comment">// 99*1.05=103.95=&gt; 103</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(total);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">calc</span>(<span class="number">99</span>,<span class="number">5</span>); <span class="comment">//do</span></span><br></pre></td></tr></table></figure>

<p>不回傳 never 與 void 很相近都是用在於不會回傳的函式，主要嚴格用在沒有結果的函式（無限迴圈或拋出錯誤），例如：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">errorMsg</span>(<span class="params">message:<span class="built_in">string</span></span>): <span class="built_in">never</span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="超載-overload"><a href="#超載-overload" class="headerlink" title="超載 overload"></a>超載 overload</h5><p>Overload 機制用於考量同一個函式下，多種方案用途其有不同類型的引數與回傳。透過宣告定義函式持有多種載入輸出的不同類型使用。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">setConvert</span>(<span class="params">arg: [<span class="built_in">string</span>, <span class="built_in">number</span>]</span>): <span class="built_in">number</span>; <span class="comment">//函式定義：傳入 tuple 傳出 number</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setConvert</span>(<span class="params">arg: <span class="built_in">number</span></span>): [<span class="built_in">string</span>, <span class="built_in">number</span>]; <span class="comment">//函式定義：傳入 number 傳出 tuple</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setConvert</span>(<span class="params">arg: [<span class="built_in">string</span>, <span class="built_in">number</span>] | <span class="built_in">number</span></span>): <span class="built_in">number</span> | [<span class="built_in">string</span>, <span class="built_in">number</span>] &#123; <span class="comment">//函式實現</span></span><br><span class="line">  <span class="keyword">enum</span> aryCode &#123; <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span> &#125;; <span class="comment">//A=0,B=1,...</span></span><br><span class="line">  <span class="keyword">switch</span> (<span class="keyword">typeof</span> arg) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;number&#x27;</span>:</span><br><span class="line">      <span class="keyword">const</span> <span class="attr">na</span>: <span class="built_in">string</span> = aryCode[<span class="title class_">Math</span>.<span class="title function_">floor</span>(arg / <span class="number">5</span>)];</span><br><span class="line">      <span class="keyword">const</span> <span class="attr">nb</span>: <span class="built_in">number</span> = arg % <span class="number">5</span>;</span><br><span class="line">      <span class="keyword">return</span> [na, nb];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;object&#x27;</span>:</span><br><span class="line">      <span class="keyword">const</span> <span class="attr">oa</span>: <span class="built_in">string</span> = arg[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">const</span> <span class="attr">ob</span>: <span class="built_in">number</span> = arg[<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">return</span> aryCode[oa] * <span class="number">5</span> + ob;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">setConvert</span>(<span class="number">7</span>)); <span class="comment">// array [&#x27;B&#x27;, 2]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">setConvert</span>([<span class="string">&#x27;B&#x27;</span>, <span class="number">2</span>])); <span class="comment">// 7</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>乍看之下拿掉函式定義單靠函式實現的複合類型也能正常執行，但其真正差異於當程式開始檢查型態時會從第一組函式定義循序做檢查。</p>
</blockquote>
<h4 id="函式表達式"><a href="#函式表達式" class="headerlink" title="函式表達式"></a>函式表達式</h4><p>前面介紹的都是故意使用一般命名函式方式來設計，如要改採用匿名函式做表達式之變數其寫法也差不多。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 函式宣告</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add1</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函式表達式</span></span><br><span class="line"><span class="keyword">let</span> add2 = <span class="keyword">function</span> (<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>其 add2 的寫法不完整，雖然是透過推論出來的。如下列寫法說明解釋：<code>=</code>的右側為匿名函式比較沒有問題，差別在於等號的左邊沒有給予宣告類型這是怎樣函式。所以右側將用到的傳遞與回傳之變數類型也要同樣宣告到左邊去，才能檢查傳遞進去的引數是哪種類型，也就是等號兩邊都要對應到。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 補充 add2 的類型，其正確的完整寫法為 add3</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">add3</span>: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = <span class="keyword">function</span> (<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>TypeScript 中的 <code>=&gt;</code> 和 ES6 中的 <code>=&gt;</code> 有所不同，在 TypeScript 邏輯上的 <code>=&gt;</code> 用來宣告 type is function 之傳遞與回傳區別定義。</p>
</blockquote>
<p>如果只有一個傳遞引數，其實可以省略變數名：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">add4</span>: <span class="function">(<span class="params"><span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = <span class="keyword">function</span> (<span class="params">x: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> x + x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="搭配介面-1"><a href="#搭配介面-1" class="headerlink" title="搭配介面"></a>搭配介面</h4><p>也可以用介面來做成約束類型給予函式</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  (<span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">mySearch</span>: <span class="title class_">User</span> = <span class="keyword">function</span> (<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name,age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">mySearch</span>(<span class="string">&#x27;loki&#x27;</span>, <span class="number">18</span>); <span class="comment">//loki 18</span></span><br></pre></td></tr></table></figure>

<h4 id="搭配斷言"><a href="#搭配斷言" class="headerlink" title="搭配斷言"></a>搭配斷言</h4><p>在複合類型搭配的可能下，需要處理某類型的動作可以額外採用斷言讓系統知道這是針對複合類型的指定類型之處理。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getLength</span>(<span class="params">arg: <span class="built_in">string</span> | <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="comment">// if (typeof arg == &#x27;string&#x27; &amp;&amp; arg.length) &#123;</span></span><br><span class="line">  <span class="keyword">if</span> ((&lt;<span class="built_in">string</span>&gt;arg).<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="comment">// return arg.length;</span></span><br><span class="line">    <span class="keyword">return</span> (&lt;<span class="built_in">string</span>&gt;arg).<span class="property">length</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> arg.<span class="title function_">toString</span>().<span class="property">length</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getLength</span>(<span class="string">&#x27;hello&#x27;</span>)); <span class="comment">//5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getLength</span>(<span class="number">100</span>)); <span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<h4 id="箭頭函式-Arrow-Function"><a href="#箭頭函式-Arrow-Function" class="headerlink" title="箭頭函式 Arrow Function"></a>箭頭函式 Arrow Function</h4><p>熟悉 JavaScript 函式表達式的話，其箭頭函式的用法就清楚了，唯獨<code>=&gt;</code>比較容易混淆需要特別注意一下。將上面的 add4 改成箭頭函式的寫法如下：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">let add5: (x: number, y: number) =&gt; number = (x: number, y: number): number =&gt; &#123;</span></span><br><span class="line"><span class="comment">  return x + y;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/* 箭頭函式的特性簡化後 */</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">add5</span>: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = (<span class="attr">x</span>: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="function"><span class="params">number</span> =&gt;</span> x + y;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果只有一個傳遞引數，可以省略變數名</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">add6</span>: <span class="function">(<span class="params"><span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = (<span class="attr">x</span>: <span class="built_in">number</span>): <span class="function"><span class="params">number</span> =&gt;</span> x + x;</span><br></pre></td></tr></table></figure>

<h5 id="引數上使用箭頭函式"><a href="#引數上使用箭頭函式" class="headerlink" title="引數上使用箭頭函式"></a>引數上使用箭頭函式</h5><p>箭頭函式可以當作一個變數，既然是變數就能傳送到別的函式做承接使用。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">echo</span>(<span class="params">num: <span class="built_in">number</span>, fn: (<span class="built_in">number</span>) =&gt; <span class="built_in">number</span></span>) &#123; <span class="comment">//傳遞變數分別為數字與函式且都有宣告型態</span></span><br><span class="line">  <span class="keyword">const</span> <span class="attr">total</span>: <span class="built_in">number</span> = <span class="title function_">fn</span>(num); <span class="comment">//將 num 作為傳遞引數 fn 之使用</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(total);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">sum</span>: <span class="function">(<span class="params"><span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = <span class="function">(<span class="params">n: <span class="built_in">number</span></span>) =&gt;</span> n * n;<span class="comment">//宣告 sum 這個函式主要會將引數 2 次方並回傳用途</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">echo</span>(<span class="number">7</span>, sum); <span class="comment">//將數字 7 以及變數 sum 整個都傳給 echo 函式做處理。</span></span><br></pre></td></tr></table></figure>

<h3 id="類別-Class"><a href="#類別-Class" class="headerlink" title="類別 Class"></a>類別 Class</h3><p>類別 class 在 JavaScript ES6 開始提供使用。類別作為物件導向的物件設計藍圖應用。比較常見的在建構函式上對其使用建構子、屬性、方法其定義。一旦類別定義完成後，透過指定來獲得實例化物件。如果你還不熟悉 ES6 的類別，可一邊學習 TypeScript 的寫法與查看轉譯後的 JavaScript ES6 之 Class 寫法。</p>
<p>類別的規劃可以分為三個部分：</p>
<ul>
<li><strong>attribute 屬性</strong><br>為整個類別下可使用的變數，可先寫好也可以透過建構子來獲得外部引數為值。在類別內想要存取屬性都得需要透過 this 來導向至該變數位置。</li>
<li><strong>constructor 建構子</strong><br>固定作為宣告時的特殊執行，當在外部使用 new 實例化物件時透過傳遞引數至建構子進行處理，藉此完成物件完成的初始前置動作。</li>
<li><strong>method 方法</strong><br>類似類別下專有的函式，不需要寫 function 字眼，之後操作實例化物件時直接就能找到此函式來執行。</li>
</ul>
<p>當設計完成時，透過 new 來實例化能呼叫這個建構式。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">info</span> &#123;　　<span class="comment">//建立類別 class</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//規劃屬性變數，可固定或透過建構子來賦予</span></span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">sex</span>: <span class="built_in">string</span> = <span class="string">&#x27;boy&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">na: <span class="built_in">string</span>, ag: <span class="built_in">number</span></span>) &#123; <span class="comment">//規劃建構子</span></span><br><span class="line">    <span class="comment">//透過建立物件當下的傳遞變數來進行處理回存到屬興趣</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = na;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = ag;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">echo</span>(): <span class="built_in">string</span> &#123;  <span class="comment">//規劃方法，等同函式設計無差異</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>&#x27;s ages is <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: info = <span class="keyword">new</span> <span class="title function_">info</span>(<span class="string">&#x27;Loki&#x27;</span>, <span class="number">18</span>); <span class="comment">//建立 info 這個類別，並傳遞引數提供建構子做處理，最終獲得整個實例化物件</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">//檢查實例化物件的內容</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&gt;info &#123;name: &#x27;Loki&#x27;, age: 18&#125;</span></span><br><span class="line"><span class="comment">  age: 18</span></span><br><span class="line"><span class="comment">  name: &quot;Loki&quot;</span></span><br><span class="line"><span class="comment">  &gt;[[Prototype]]: Object</span></span><br><span class="line"><span class="comment">    constructor: class info</span></span><br><span class="line"><span class="comment">    echo: ƒ echo()</span></span><br><span class="line"><span class="comment">    [[Prototype]]: Object</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">echo</span>()); <span class="comment">//呼叫物件內的方法</span></span><br><span class="line"><span class="comment">//Loki&#x27;s ages is 18</span></span><br></pre></td></tr></table></figure>

<h4 id="訪問修飾子-Access-Modifier"><a href="#訪問修飾子-Access-Modifier" class="headerlink" title="訪問修飾子 Access Modifier"></a>訪問修飾子 Access Modifier</h4><p>指定類別內的屬性或方法是否可被別處使用。可前綴指定 public（預設）無限制、private（限自身 class)、protected（限自身 class 與 extends 繼承之子類別）。透過以下範例可以得到錯誤資訊說明：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">tryit</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">x</span>: <span class="built_in">number</span>; <span class="comment">//預設，可從實例化物件或繼承之子 class 所存取</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">y</span>: <span class="built_in">number</span>; <span class="comment">//限定 class 自身所存取</span></span><br><span class="line">  <span class="keyword">protected</span> <span class="attr">z</span>: <span class="built_in">number</span>; <span class="comment">//限定 class 自身或繼承之子 class 所存取</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">tox: <span class="built_in">number</span>, toy: <span class="built_in">number</span>, toz: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = tox;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = toy;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">z</span> = toz;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: tryit = <span class="keyword">new</span> <span class="title function_">tryit</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>, obj.<span class="property">y</span>, obj.<span class="property">z</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">error TS2341: Property &#x27;y&#x27; is private and only accessible within class &#x27;tryit&#x27;.</span></span><br><span class="line"><span class="comment">error TS2445: Property &#x27;z&#x27; is protected and only accessible within class &#x27;tryit&#x27; and its subclasses.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">obj.<span class="property">y</span>=<span class="number">5</span>;</span><br><span class="line">obj.<span class="property">z</span>=<span class="number">6</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">error TS2341: Property &#x27;y&#x27; is private and only accessible within class &#x27;tryit&#x27;.</span></span><br><span class="line"><span class="comment">error TS2445: Property &#x27;z&#x27; is protected and only accessible within class &#x27;tryit&#x27; and its subclasses. </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>在 JavaScript ES6 版本還沒有存取修飾子這個觀念，因此 TypeScript 報錯後的編譯下都仍視同 public 存取，因此還需要搭配 Accessor 設計才完善。</p>
</blockquote>
<p>修飾子也能用在建構子內的傳遞引數使用，等同於 class 的屬性之取代。直接接給屬性了</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">tryit</span> &#123;</span><br><span class="line">  <span class="comment">/*替代</span></span><br><span class="line"><span class="comment">  public x: number;</span></span><br><span class="line"><span class="comment">  private y: number;</span></span><br><span class="line"><span class="comment">  protected z: number;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  傳遞引數做了 2 件事情，第一個是在 class 宣告了訪問屬性，第二個將值寫到這個塞給這個訪問屬性</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> x: <span class="built_in">number</span>,<span class="keyword">private</span> y: <span class="built_in">number</span>,<span class="keyword">protected</span> z: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="comment">// this.x = x;</span></span><br><span class="line">    <span class="comment">// this.y = y;</span></span><br><span class="line">    <span class="comment">// this.z = z;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: tryit = <span class="keyword">new</span> <span class="title function_">tryit</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>, obj.<span class="property">y</span>, obj.<span class="property">z</span>); <span class="comment">//1 2 3</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">error TS2341: Property &#x27;y&#x27; is private and only accessible within class &#x27;tryit&#x27;.</span></span><br><span class="line"><span class="comment">error TS2445: Property &#x27;z&#x27; is protected and only accessible within class &#x27;tryit&#x27; and its subclasses.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">obj.<span class="property">x</span> = <span class="number">4</span>;</span><br><span class="line">obj.<span class="property">y</span> = <span class="number">5</span>;</span><br><span class="line">obj.<span class="property">z</span> = <span class="number">6</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">error TS2341: Property &#x27;y&#x27; is private and only accessible within class &#x27;tryit&#x27;.</span></span><br><span class="line"><span class="comment">error TS2445: Property &#x27;z&#x27; is protected and only accessible within class &#x27;tryit&#x27; and its subclasses.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>, obj.<span class="property">y</span>, obj.<span class="property">z</span>); <span class="comment">//4 5 6</span></span><br></pre></td></tr></table></figure>

<p>另外一種是 readonly 的讀寫限制，可以跟訪問修飾子共存（注意寫位的順序）</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">tryit</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">readonly</span> <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">y</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">protected</span> <span class="attr">z</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">tox: <span class="built_in">number</span>,toy: <span class="built_in">number</span>,toz: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = tox;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = toy;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">z</span> = toz;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: tryit = <span class="keyword">new</span> <span class="title function_">tryit</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>, obj.<span class="property">y</span>, obj.<span class="property">z</span>); <span class="comment">//1 2 3</span></span><br><span class="line"><span class="comment">//error:&#x27;z&#x27; 是受保護屬性，只可從類別 &#x27;tryit&#x27; 及其子類別中存取。</span></span><br><span class="line"></span><br><span class="line">obj.<span class="property">x</span> = <span class="number">4</span>; <span class="comment">//error: 因為 &#x27;x&#x27; 為唯讀屬性，所以無法指派至 &#x27;x&#x27;。</span></span><br><span class="line">obj.<span class="property">y</span> = <span class="number">5</span>;</span><br><span class="line">obj.<span class="property">z</span> = <span class="number">6</span>; <span class="comment">//error: &#x27;z&#x27; 是受保護屬性，只可從類別 &#x27;tryit&#x27; 及其子類別中存取。</span></span><br></pre></td></tr></table></figure>

<h4 id="存取器-Accessor"><a href="#存取器-Accessor" class="headerlink" title="存取器 Accessor"></a>存取器 Accessor</h4><p>假設屬性或方法已經設定 private 情況下，添加 Accessor 的功能達到寫入與讀取的唯一窗口。Accessor 採用 Method 方法的函式形式來設計，分為 get（讀）與 set（寫）關鍵字使用。將前段的例子做調整（簡化移除 protected 考量）：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">tryit</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">x</span>: <span class="built_in">number</span>; <span class="comment">//公開</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">y</span>: <span class="built_in">number</span>; <span class="comment">//私有，限定 class 自身所存取</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">yy</span>(): <span class="built_in">number</span> &#123; <span class="comment">//創造 get yy 函式，作為外部讀取的方法，有 return 但不可有傳遞引數</span></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">y</span>; <span class="comment">//從內部轉達屬性值</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> <span class="title function_">yy</span>(<span class="params">newNum: <span class="built_in">number</span></span>) &#123;  <span class="comment">////創造 set yy 函式，作為外部寫入的方法，不可有 return 但有傳遞引數</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = newNum;  <span class="comment">//從內部改變屬性值</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">tox: <span class="built_in">number</span>, toy: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = tox;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = toy;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: tryit = <span class="keyword">new</span> <span class="title function_">tryit</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// 實例化物件</span></span><br><span class="line">obj.<span class="property">yy</span>=<span class="number">5</span>; <span class="comment">//透過 set yy 當窗口改寫物件屬性，實際上變化發生在 class 內</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>, obj.<span class="property">yy</span>);  <span class="comment">//讀取也是透過 get yy 來外部獲得</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>get 視同唯讀不可有傳遞變數，而 set 視同唯寫不可有回傳變數。否則 TypeScript 會報錯。</p>
</blockquote>
<p>如此一來 TypeScript 已符合存取條件不再報錯，同時這裡大多數的人不會額外命名，會把內部變數名稱與對外變數名稱以 <code>_</code> 一字之差來做提示自己。另外也可以添加通關密碼來做存取器的條件。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span></span><br><span class="line">  <span class="attr">readpwd</span>: <span class="built_in">string</span> = <span class="string">&#x27;lokineedget111&#x27;</span>,</span><br><span class="line">  <span class="attr">writepwd</span>: <span class="built_in">string</span> = <span class="string">&#x27;lokineedset111&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">tryit</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">x</span>: <span class="built_in">number</span>; <span class="comment">//預設，可從實例化物件或繼承之子 class 所存取</span></span><br><span class="line">  <span class="keyword">private</span> <span class="attr">_y</span>: <span class="built_in">number</span>; <span class="comment">//限定 class 自身所存取</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">y</span>(): <span class="built_in">number</span> | <span class="built_in">never</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (readpwd &amp;&amp; readpwd == <span class="string">&#x27;lokineedget&#x27;</span>) <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_y</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">throw</span> <span class="string">&#x27;get no access&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> <span class="title function_">y</span>(<span class="params">newNum: <span class="built_in">number</span></span>) &#123;  <span class="comment">//不可回傳所以不寫 return:type</span></span><br><span class="line">    <span class="keyword">if</span> (writepwd &amp;&amp; writepwd == <span class="string">&#x27;lokineedset&#x27;</span>) <span class="variable language_">this</span>.<span class="property">_y</span> = newNum;</span><br><span class="line">    <span class="keyword">else</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;:set no access&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">tox: <span class="built_in">number</span>, toy: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = tox;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_y</span> = toy;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: tryit = <span class="keyword">new</span> <span class="title function_">tryit</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">obj.<span class="property">y</span> = <span class="number">5</span>; <span class="comment">//set no access</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>, obj.<span class="property">y</span>); <span class="comment">////get no access</span></span><br></pre></td></tr></table></figure>

<h4 id="繼承-extends-1"><a href="#繼承-extends-1" class="headerlink" title="繼承 extends"></a>繼承 extends</h4><p>繼承如名詞解釋，可以新建立一個的子類別 class 來繼承父類別 class 的所有項目（屬性與方法）。在建立子類別當下描述寫入繼承自何處<code>class newClass extends SourceClass &#123;&#125;</code>。</p>
<p>子類別除了來自父類別的繼承，也能添加自己特有的項目（但此觀念不可反向適用於父類別身上）。而子類別不能直接使用父類別的建構子，必需透過 super 關鍵字來呼叫父類別的建構子與方法。以下範例觀察父子類別之特性：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">father</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">money</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">face</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">lastName</span>: <span class="built_in">string</span> = <span class="string">&#x27;jiang&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">money</span> = m;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">face</span> = f;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`俺姓<span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>，顏值如<span class="subst">$&#123;<span class="variable language_">this</span>.face&#125;</span>且身價有<span class="subst">$&#123;<span class="variable language_">this</span>.money&#125;</span>個億。`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">father</span> &#123;　<span class="comment">//son 會繼承 father 內的屬性與方法</span></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">iq</span>: <span class="built_in">number</span>;  <span class="comment">//這屬性寫在自身 class 只有 son 有，father 不會持有</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span>, i: <span class="built_in">number</span></span>) &#123; </span><br><span class="line">    <span class="variable language_">super</span>(m, f); <span class="comment">//使用建構子必需就得有 super 才能操作 father 的建構子</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">iq</span> = i;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">print2</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`我姓<span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>，拜老爸所賜顏值如<span class="subst">$&#123;<span class="variable language_">this</span>.face&#125;</span>且身價有<span class="subst">$&#123;<span class="variable language_">this</span>.money&#125;</span>個億。我的 IQ 有<span class="subst">$&#123;<span class="variable language_">this</span>.iq&#125;</span>高`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objf = <span class="keyword">new</span> <span class="title function_">father</span>(<span class="number">5</span>, <span class="string">&#x27;gold5&#x27;</span>); <span class="comment">//實例化物件只是從寫死的 class 建構物件出來，因此 class 的初始引數永遠是乾淨的</span></span><br><span class="line"><span class="keyword">const</span> objs = <span class="keyword">new</span> <span class="title function_">son</span>(<span class="number">10</span>, <span class="string">&#x27;sliver5&#x27;</span>, <span class="number">157</span>); <span class="comment">// 因此不可誤會 money 跟 face 可省略不寫，還是得跑一次初始建構作業，只是 son 已經從 father 繼承了不用宣告屬性</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(objf, objs);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">father &#123;lastName: &#x27;jiang&#x27;, money: 5, face: &#x27;gold5&#x27;&#125;</span></span><br><span class="line"><span class="comment">son &#123;lastName: &#x27;jiang&#x27;, money: 10, face: &#x27;sliver5&#x27;, iq: 157&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(objf.<span class="title function_">print</span>()); <span class="comment">//俺姓 jiang，顏值如 gold5 且身價有 5 個億。</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(objs.<span class="title function_">print</span>());  <span class="comment">//father 方法也會繼承給 son</span></span><br><span class="line"><span class="comment">//俺姓 jiang，顏值如 sliver5 且身價有 10 個億。</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(objs.<span class="title function_">print2</span>()); <span class="comment">//我姓 jiang，拜老爸所賜顏值如 sliver5 且身價有 10 個億。我的 IQ 有 157 高</span></span><br></pre></td></tr></table></figure>

<h5 id="抽象類別-abstract"><a href="#抽象類別-abstract" class="headerlink" title="抽象類別 abstract"></a>抽象類別 abstract</h5><p>對 class 指定為 abstract 模式，則能保護此 class 無法透過 new 實例化出來，只能被子 class 所繼承使用。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">father</span> &#123; <span class="comment">//抽象化無法被 new 使用</span></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">money</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">face</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">money</span> = m;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">face</span> = f;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">father</span> &#123;　<span class="comment">//son 會繼承 father</span></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">iq</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span>, i: <span class="built_in">number</span></span>) &#123; </span><br><span class="line">    <span class="variable language_">super</span>(m, f); <span class="comment">//使用建構子必需就得有 super 才能操作 father 的建構子</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">iq</span> = i;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objf = <span class="keyword">new</span> <span class="title function_">father</span>(<span class="number">5</span>, <span class="string">&#x27;gold5&#x27;</span>); <span class="comment">//error：無法建立抽象類別的執行個體。</span></span><br><span class="line"><span class="keyword">const</span> objs = <span class="keyword">new</span> <span class="title function_">son</span>(<span class="number">10</span>, <span class="string">&#x27;sliver5&#x27;</span>, <span class="number">157</span>); <span class="comment">//OK</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(objf, objs);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">father &#123;money: 5, face: &#x27;gold5&#x27;&#125;</span></span><br><span class="line"><span class="comment">son &#123;money: 10, face: &#x27;sliver5&#x27;, iq: 157&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>這裡雖然會報錯，但編譯後的 JavaScript 還是存在父 class。</p>
</blockquote>
<h5 id="複寫-Override"><a href="#複寫-Override" class="headerlink" title="複寫 Override"></a>複寫 Override</h5><p>設計繼承時，如果 son 的方法跟來自 father 的方法撞名時，會發生複寫現象並以 son 自身為主。需特別注意：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">father</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">money</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">face</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">lastName</span>: <span class="built_in">string</span> = <span class="string">&#x27;jiang&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">money</span> = m;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">face</span> = f;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`俺姓<span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>，顏值如<span class="subst">$&#123;<span class="variable language_">this</span>.face&#125;</span>且身價有<span class="subst">$&#123;<span class="variable language_">this</span>.money&#125;</span>個億。`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">father</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">iq</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span>, i: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(m, f);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">iq</span> = i;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`我姓<span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>，拜老爸所賜顏值如<span class="subst">$&#123;<span class="variable language_">this</span>.face&#125;</span>且身價有<span class="subst">$&#123;<span class="variable language_">this</span>.money&#125;</span>個億。我的 IQ 有<span class="subst">$&#123;<span class="variable language_">this</span>.iq&#125;</span>高`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objf = <span class="keyword">new</span> <span class="title function_">father</span>(<span class="number">5</span>, <span class="string">&#x27;gold5&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> objs = <span class="keyword">new</span> <span class="title function_">son</span>(<span class="number">10</span>, <span class="string">&#x27;sliver5&#x27;</span>, <span class="number">157</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(objf.<span class="title function_">print</span>()); <span class="comment">//俺姓 jiang，顏值如 gold5 且身價有 5 個億。</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(objs.<span class="title function_">print</span>()); <span class="comment">//俺姓 jiang，顏值如 sliver5 且身價有 10 個億。</span></span><br></pre></td></tr></table></figure>

<p>假設需要相同方法名稱下，你該考慮的方向很簡單，就是有兩個 class 可以新建構，你想選哪個做方法 print 使用：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">father</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">money</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">face</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">lastName</span>: <span class="built_in">string</span> = <span class="string">&#x27;jiang&#x27;</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">money</span> = m;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">face</span> = f;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`俺姓<span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>，顏值如<span class="subst">$&#123;<span class="variable language_">this</span>.face&#125;</span>且身價有<span class="subst">$&#123;<span class="variable language_">this</span>.money&#125;</span>個億。`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">father</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">iq</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span>, i: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(m, f);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">iq</span> = i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`我姓<span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>，拜老爸所賜顏值如<span class="subst">$&#123;<span class="variable language_">this</span>.face&#125;</span>且身價有<span class="subst">$&#123;<span class="variable language_">this</span>.money&#125;</span>個億。我的 IQ 有<span class="subst">$&#123;<span class="variable language_">this</span>.iq&#125;</span>高`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">obj</span>: father = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">利用技巧性，先創設一個變數為 null，但事後需要存入實例化物件，因此宣告類型為 father 物件</span></span><br><span class="line"><span class="comment">因為 son 有 father 的繼承，所以如果存入 son 的實例化物件不會有事，反若改用 son 當此 obj 類型則會失敗</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">who</span>: <span class="built_in">number</span> = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">switch</span> (who) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    obj = <span class="keyword">new</span> <span class="title function_">father</span>(<span class="number">5</span>, <span class="string">&#x27;gold5&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    obj = <span class="keyword">new</span> <span class="title function_">son</span>(<span class="number">10</span>, <span class="string">&#x27;sliver5&#x27;</span>, <span class="number">157</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">print</span>());</span><br></pre></td></tr></table></figure>

<h4 id="靜態-static"><a href="#靜態-static" class="headerlink" title="靜態 static"></a>靜態 static</h4><p>大多知道，透過實例化出來的物件的內容，可透過建構子在建構化過程中以 this 的物件導向觀念去修改值，也能實例化後再自行修改物件內容。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">father</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">money</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">face</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">lastName</span>: <span class="built_in">string</span> = <span class="string">&#x27;jiang&#x27;</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">money</span> = m;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">face</span> = f;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`俺姓<span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>，顏值如<span class="subst">$&#123;<span class="variable language_">this</span>.face&#125;</span>且身價有<span class="subst">$&#123;<span class="variable language_">this</span>.money&#125;</span>個億。`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="title function_">father</span>(<span class="number">5</span>, <span class="string">&#x27;gold5&#x27;</span>);</span><br><span class="line"></span><br><span class="line">obj.<span class="property">lastName</span>=<span class="string">&quot;chen&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">print</span>()); <span class="comment">//俺姓 chen，顏值如 gold5 且身價有 5 個億。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2= <span class="keyword">new</span> <span class="title function_">father</span>(<span class="number">10</span>, <span class="string">&#x27;sliver5&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2.<span class="title function_">print</span>()); <span class="comment">//俺姓 jiang，顏值如 sliver5 且身價有 10 個億。</span></span><br></pre></td></tr></table></figure>

<p>然而如果一開始類別內的屬性或方法有設定 static 狀態時，這個對象就只限定給 class 使用，無法透過在外部從 this 導向呼喚出來。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">father</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">money</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">face</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="attr">lastName</span>: <span class="built_in">string</span> = <span class="string">&#x27;jiang&#x27;</span>; <span class="comment">//獲得 static 的屬性，只會配置於 class 內，之後無法透過物件導向 this 呼叫使用</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">m: <span class="built_in">number</span>, f: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">money</span> = m;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">face</span> = f;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">print1</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`俺姓<span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>，顏值如<span class="subst">$&#123;<span class="variable language_">this</span>.face&#125;</span>且身價有<span class="subst">$&#123;<span class="variable language_">this</span>.money&#125;</span>個億。`</span>;</span><br><span class="line">    <span class="comment">//報錯，無法透過 this 找到靜態的 lastName</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">print2</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`俺姓<span class="subst">$&#123;father.lastName&#125;</span>，顏值如<span class="subst">$&#123;<span class="variable language_">this</span>.face&#125;</span>且身價有<span class="subst">$&#123;<span class="variable language_">this</span>.money&#125;</span>個億。`</span>;</span><br><span class="line">    <span class="comment">//直接從 class 獲取這個屬性，而不是用 this 導向找到</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj1 = <span class="keyword">new</span> <span class="title function_">father</span>(<span class="number">5</span>, <span class="string">&#x27;gold5&#x27;</span>); <span class="comment">//ok</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1); <span class="comment">//father &#123;money: 5, face: &#x27;gold5&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">obj.<span class="property">lastName</span>=<span class="string">&quot;chen&quot;</span>; <span class="comment">//報錯不存在，這裡只是後製強塞一個 key:value</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">print1</span>()); <span class="comment">//俺姓 chen，顏值如 gold5 且身價有 5 個億。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2= <span class="keyword">new</span> <span class="title function_">father</span>(<span class="number">10</span>, <span class="string">&#x27;sliver5&#x27;</span>); <span class="comment">//ok</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2.<span class="title function_">print2</span>()); <span class="comment">//俺姓 jiang，顏值如 sliver5 且身價有 10 個億。</span></span><br></pre></td></tr></table></figure>

<h4 id="搭配介面-2"><a href="#搭配介面-2" class="headerlink" title="搭配介面"></a>搭配介面</h4><p>interface 如果套用在 class 的屬性也是一種約束作業，多個 class 除了繼承這種 1 對多個觀念，還有一種狀況為這些 class 彼此有相同非繼承的特性（屬性與方法），可以用介面來將這些共同特性設為約束產生完整的靈活性。 </p>
<ul>
<li>class 要指定介面時必需要透過 implements 實現約束。</li>
<li>class 可綁定多個介面，介面名稱使用<code>,</code>符號分開。例如 <code>class lokiwithface implements User, Company</code></li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;  <span class="comment">//介面，約定持有 2+1 個屬性與方法</span></span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">lokiwithface</span> <span class="keyword">implements</span> <span class="title class_">User</span> &#123; <span class="comment">//根據 implements 來實踐介面 user，因故不可缺少此 name,id,print()</span></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">name</span>: <span class="built_in">string</span>; <span class="comment">//必存</span></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">id</span>: <span class="built_in">number</span>; <span class="comment">//必存</span></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">sex</span>: <span class="built_in">string</span> = <span class="string">&#x27;man&#x27;</span>; <span class="comment">//可以多增加介面沒有的</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">n: <span class="built_in">string</span>, i: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = n;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">id</span> = i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span> &#123; <span class="comment">//必存</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`#<span class="subst">$&#123;<span class="variable language_">this</span>.id&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">lokionly</span> &#123; <span class="comment">//對造組，跟介面無關的 class</span></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">sex</span>: <span class="built_in">string</span> = <span class="string">&#x27;man&#x27;</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">n: <span class="built_in">string</span>, i: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = n;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">id</span> = i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`#<span class="subst">$&#123;<span class="variable language_">this</span>.id&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">a1</span>: user = <span class="keyword">new</span> <span class="title function_">lokiwithface</span>(<span class="string">&#x27;loki&#x27;</span>, <span class="number">1</span>);   <span class="comment">//&quot;介面約束的 class&quot; 來實例化物件</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">a2</span>: lokionly = <span class="keyword">new</span> <span class="title function_">lokionly</span>(<span class="string">&#x27;loki&#x27;</span>, <span class="number">1</span>);   <span class="comment">//&quot;普通的 class&quot; 來實例化物件</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">a3</span>: user = &#123;                              <span class="comment">//&quot;介面約束的 object&quot; 來設計 object</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;loki&#x27;</span>,</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="string">&#x27;man&#x27;</span>, <span class="comment">//報錯，不可以規劃 user 介面所沒有的東西</span></span><br><span class="line">  <span class="title function_">print</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`#<span class="subst">$&#123;<span class="variable language_">this</span>.id&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a1, a1.<span class="title function_">print</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a2, a2.<span class="title function_">print</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a3, a3.<span class="title function_">print</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//結果來說差異不大，都能 print 相同內容。</span></span><br></pre></td></tr></table></figure>

<p>介面也可以反過來繼承自 class 認父來擴展介面內的屬性或方法。再提供給 object 或 class 做約束。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Member</span> <span class="keyword">extends</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  因為繼承，等於多了這兩項</span></span><br><span class="line"><span class="comment">  name: string;</span></span><br><span class="line"><span class="comment">  age: number;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">obj</span>: <span class="title class_">Member</span> = &#123; <span class="attr">name</span>: <span class="string">&#x27;Loki&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">id</span>: <span class="number">3</span> &#125;;</span><br></pre></td></tr></table></figure>

<p>介面能約束 class 的屬性與方法，也能約束</p>
<h5 id="舉例-多個-class-有相同特性"><a href="#舉例-多個-class-有相同特性" class="headerlink" title="舉例 多個 class 有相同特性"></a>舉例 多個 class 有相同特性</h5><p>能會發現一個介面對應一個 class 的使用意義不大，有點事是多此一舉的動作。介面真正的用途在於一個介面去約定多個 class 才是他真正價值。舉例且說明如下：</p>
<ol>
<li>3 個 class 代表法術說明應用，1 個 class 代表使用法術之遊戲按鈕。</li>
<li>clsBoth 這個 class 有前 2 個 class 相同用途。</li>
<li>joycon 這個 class 會透過傳遞的實例化物件來執行法術的應用。</li>
</ol>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">clsAdd</span> &#123; <span class="comment">//補血效果</span></span><br><span class="line">  <span class="attr">target</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">t: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">target</span> = t;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">addHP</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`使用<span class="subst">$&#123;<span class="variable language_">this</span>.target&#125;</span> +自身血`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">clsSub</span> &#123; <span class="comment">//扣血效果</span></span><br><span class="line">  <span class="attr">target</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">t: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">target</span> = t;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">subHP</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`使用<span class="subst">$&#123;<span class="variable language_">this</span>.target&#125;</span> -敵人血`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">clsBoth</span> &#123; <span class="comment">//補扣血效果</span></span><br><span class="line">  <span class="attr">target</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">t: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">target</span> = t;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">addHP</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`使用<span class="subst">$&#123;<span class="variable language_">this</span>.target&#125;</span> +自身血`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">subHP</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`使用<span class="subst">$&#123;<span class="variable language_">this</span>.target&#125;</span> -敵人血`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">joycon</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">btnA</span>(<span class="params">e: clsAdd</span>) &#123; <span class="comment">//按鈕 A 將執行傳入引數 class 的 add 詠唱</span></span><br><span class="line">    e.<span class="title function_">addHP</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">btnB</span>(<span class="params">e: clsSub</span>) &#123; <span class="comment">//按鈕 B 將執行傳入引數 class 的 sub 詠唱</span></span><br><span class="line">    e.<span class="title function_">subHP</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> spell_1 = <span class="keyword">new</span> <span class="title function_">clsAdd</span>(<span class="string">&#x27;恢復術&#x27;</span>); <span class="comment">// 恢復術 代號 spell_1 能補自身血</span></span><br><span class="line">joyCon.<span class="title function_">btnA</span>(spell_1); <span class="comment">//按下按鈕 A 觸發 spell_1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> spell_2 = <span class="keyword">new</span> <span class="title function_">clsSub</span>(<span class="string">&#x27;傷害術&#x27;</span>); <span class="comment">// 傷害術 代號 spell_2 能扣敵人血</span></span><br><span class="line">joyCon.<span class="title function_">btnB</span>(spell_2); <span class="comment">//按下按鈕 B 觸發 spell_2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> spell_3 = <span class="keyword">new</span> <span class="title function_">clsBoth</span>(<span class="string">&#x27;聖光術&#x27;</span>); <span class="comment">// 聖光術 代號 spell_3 能補自身血也能扣敵人血</span></span><br><span class="line">joyCon.<span class="title function_">btnA</span>(spell_3); <span class="comment">//按下按鈕 C 觸發 spell_3</span></span><br><span class="line">joyCon.<span class="title function_">btnB</span>(spell_3); <span class="comment">//按下按鈕 D 觸發 spell_3</span></span><br></pre></td></tr></table></figure>

<p>在沒有介面的約束情況下，這些 class 等於是各自提供自己 type 來告知傳遞內容物為何。一旦加上介面整個物件導向的流程會明確清晰：</p>
<ul>
<li>3 個法術 class 都是根據介面約束的定義 method 之應用。</li>
<li>joycon 拿到傳遞引數之 type 不再是 cls* 之 class，而是這些共同約束 itf* 之介面當作 type。</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> itfAdd &#123;</span><br><span class="line">  <span class="title function_">addHP</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> itfSub &#123;</span><br><span class="line">  <span class="title function_">subHP</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">clsAdd</span> <span class="keyword">implements</span> itfAdd &#123; <span class="comment">//補血效果</span></span><br><span class="line">  <span class="attr">target</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">t: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">target</span> = t;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">addHP</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`使用<span class="subst">$&#123;<span class="variable language_">this</span>.target&#125;</span> +自身血`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">clsSub</span> <span class="keyword">implements</span> itfSub &#123; <span class="comment">//扣血效果</span></span><br><span class="line">  <span class="attr">target</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">t: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">target</span> = t;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">subHP</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`使用<span class="subst">$&#123;<span class="variable language_">this</span>.target&#125;</span> -敵人血`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">clsBoth</span> <span class="keyword">implements</span> itfAdd, itfSub &#123; <span class="comment">//補扣血雙效果，綁兩個介面可用符號 &#x27;,&#x27; 表示</span></span><br><span class="line">  <span class="attr">target</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">t: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">target</span> = t;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">addHP</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`使用<span class="subst">$&#123;<span class="variable language_">this</span>.target&#125;</span> +自身血`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">subHP</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`使用<span class="subst">$&#123;<span class="variable language_">this</span>.target&#125;</span> -敵人血`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">joyCon</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">btnA</span>(<span class="params">e: itfAdd</span>) &#123; <span class="comment">//按鈕 A 將執行傳入引數 e 的 add 詠唱</span></span><br><span class="line">    e.<span class="title function_">addHP</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">btnB</span>(<span class="params">e: itfSub</span>) &#123; <span class="comment">//按鈕 B 將執行傳入引數 e 的 sub 詠唱</span></span><br><span class="line">    e.<span class="title function_">subHP</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Spell</span>_1 = <span class="keyword">new</span> <span class="title function_">clsAdd</span>(<span class="string">&#x27;恢復術&#x27;</span>); <span class="comment">// 恢復術 代號 Spell_1 能補自身血</span></span><br><span class="line">joyCon.<span class="title function_">btnA</span>(<span class="title class_">Spell</span>_1); <span class="comment">//按下按鈕 A 觸發 Spell_1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Spell</span>_2 = <span class="keyword">new</span> <span class="title function_">clsSub</span>(<span class="string">&#x27;傷害術&#x27;</span>); <span class="comment">// 傷害術 代號 Spell_2 能扣敵人血</span></span><br><span class="line">joyCon.<span class="title function_">btnB</span>(<span class="title class_">Spell</span>_2); <span class="comment">//按下按鈕 B 觸發 Spell_2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Spell</span>_3 = <span class="keyword">new</span> <span class="title function_">clsBoth</span>(<span class="string">&#x27;聖光術&#x27;</span>); <span class="comment">// 聖光術 代號 Spell_3 能補自身血也能扣敵人血</span></span><br><span class="line">joyCon.<span class="title function_">btnA</span>(<span class="title class_">Spell</span>_3); <span class="comment">//按下按鈕 A 觸發 Spell_3</span></span><br><span class="line">joyCon.<span class="title function_">btnB</span>(<span class="title class_">Spell</span>_3); <span class="comment">//按下按鈕 B 觸發 Spell_3</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果問這兩段代碼的差異在哪，最大差別在於 type 是否是指向同一個宣告領域。</p>
</blockquote>
<h1 id="進階技巧"><a href="#進階技巧" class="headerlink" title="進階技巧"></a>進階技巧</h1><p>避免後續介紹太複雜，這裡先偷跑一些需要的 type 觀念做初步介紹，詳細用法會在各單元再出現時依據必要性提供說明。</p>
<h2 id="別名機制"><a href="#別名機制" class="headerlink" title="別名機制"></a>別名機制</h2><p>類型本身可以使用別名來登記，再透過套用別名方式來達到宣告類型。舉例如下：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> userName = <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">type</span> userAge = <span class="built_in">number</span>;</span><br><span class="line"><span class="comment">//宣告這些別名且持有類型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: userName = <span class="string">&quot;Loki&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: userAge = <span class="number">18</span>;</span><br><span class="line"><span class="comment">//透過別名獨立額外寫成類類型名，能讓變數使用上更直覺清楚</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b);</span><br><span class="line"></span><br><span class="line"><span class="comment">/******to js</span></span><br><span class="line"><span class="comment">  let a = &quot;Loki&quot;;</span></span><br><span class="line"><span class="comment">  let b = 18;</span></span><br><span class="line"><span class="comment">  console.log(a, b);</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="字串字面值-String-Literal"><a href="#字串字面值-String-Literal" class="headerlink" title="字串字面值 (String Literal)"></a>字串字面值 (String Literal)</h3><p>透過別名並指定限定的字串多個選擇限定。範例定義了一個字串字面值之類型為 EventNames 只接受三種字串中的一種。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">EventNames</span> = <span class="string">&#x27;click&#x27;</span> | <span class="string">&#x27;scroll&#x27;</span> | <span class="string">&#x27;mousemove&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleEvent</span>(<span class="params">el: Element, event: EventNames</span>) &#123;</span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">handleEvent</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;hello&#x27;</span>), <span class="string">&#x27;scroll&#x27;</span>);  <span class="comment">// ok</span></span><br><span class="line"><span class="title function_">handleEvent</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;world&#x27;</span>), <span class="string">&#x27;dbclick&#x27;</span>); <span class="comment">// error: 類型 &#x27;&quot;dbclick&quot;&#x27; 的引數不可指派給類型 &#x27;EventNames&#x27; 的參數。</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">handleEvent</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;hello&#x27;</span>), <span class="string">&#x27;scroll&#x27;</span>);  <span class="comment">// ok</span></span><br><span class="line"><span class="title function_">handleEvent</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;world&#x27;</span>), <span class="string">&#x27;dbclick&#x27;</span>); <span class="comment">// 報錯，event 不能為 &#x27;dbclick&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="泛型-Generics"><a href="#泛型-Generics" class="headerlink" title="泛型 Generics"></a>泛型 Generics</h2><p>泛型的應用就是將規劃類型當下不先做宣告，在變數名稱後綴先使用<code>&lt;關鍵字&gt;</code>作替寫，等到執行函式時當下傳入的值再做類型說明。可適用於函式、介面、類別等各種場合出現。</p>
<h3 id="用於函式"><a href="#用於函式" class="headerlink" title="用於函式"></a>用於函式</h3><p>舉例以下設計 any 的傳遞引數與回傳如下。雖然整個函式都看似正常。如果 any 的思考則僅要求傳遞與回傳的類型是相同的，也就傳遞與回傳為 <code>string and string[]</code>就跟目前的<code>any and any[]</code>設計不適當。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ary</span>(<span class="params">value: <span class="built_in">any</span></span>): <span class="built_in">any</span>[] &#123; <span class="comment">//回傳 any 陣列</span></span><br><span class="line">  <span class="keyword">let</span> re = []; <span class="comment">//不寫，系統自動為 any</span></span><br><span class="line">  re.<span class="title function_">push</span>(value);</span><br><span class="line">  <span class="keyword">return</span> re;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">ary</span>(<span class="string">&#x27;A&#x27;</span>)); <span class="comment">// (2) [&#x27;A&#x27;, &#x27;A&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">ary</span>(<span class="number">3</span>)); <span class="comment">// (2) [3, 3]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">ary</span>(<span class="literal">true</span>)); <span class="comment">// (2) [true, true]</span></span><br></pre></td></tr></table></figure>

<p>此時可透過泛型先做替代的類型，等到執行函式當下決定用什麼類型來決定傳遞與回傳類型。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> ary&lt;T&gt;(<span class="attr">value</span>: T): T[] &#123; <span class="comment">//函式名稱後面使用&lt;T&gt;來指定泛型，其中 T 為關鍵字。接著在函式內部包含傳遞回傳都能用 T 這個類型名</span></span><br><span class="line">  <span class="keyword">let</span> <span class="attr">re</span>: T[] = []; <span class="comment">//指定 T type</span></span><br><span class="line">  re.<span class="title function_">push</span>(value);</span><br><span class="line">  <span class="keyword">return</span> re;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在使用函式時，提供真正 type 為泛型替換</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;A&#x27;</span>)); <span class="comment">// (2) [&#x27;A&#x27;, &#x27;A&#x27;] </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ary&lt;<span class="built_in">number</span>&gt;(<span class="number">3</span>)); <span class="comment">// (2) [3, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果沒有指定給泛型，系統會自動推論 type 給泛型</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">ary</span>(<span class="literal">true</span>)); <span class="comment">// (2) [true, true]</span></span><br></pre></td></tr></table></figure>

<h4 id="多個泛型"><a href="#多個泛型" class="headerlink" title="多個泛型"></a>多個泛型</h4><p>泛型能允許多個存在，使用符號<code>,</code>來分開。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> swap&lt;T, U&gt;(<span class="attr">val</span>: [T, U]): [T, U] &#123; <span class="comment">//回傳元祖</span></span><br><span class="line">  <span class="keyword">return</span> [val[<span class="number">1</span>], val[<span class="number">0</span>]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">tpl</span>: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">&#x27;A&#x27;</span>, <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//故意不寫泛型的真實 type，讓系統自己去推論</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">swap</span>(tpl)); <span class="comment">// (2)  [1, &#x27;A&#x27;]</span></span><br></pre></td></tr></table></figure>

<h4 id="泛型條件約束"><a href="#泛型條件約束" class="headerlink" title="泛型條件約束"></a>泛型條件約束</h4><p>另外有 2 個在函式上使用泛型的報錯現象值得討論，在使用泛型時在不清楚真實 type 之前，任何操作都可能因 type 不對盤而報錯。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> calc1&lt;myType&gt;(<span class="attr">price</span>: myType): myType &#123;  <span class="comment">//myType 是泛用類型，作為暫定類型使用</span></span><br><span class="line">  <span class="keyword">return</span> price * <span class="number">1.05</span>;  <span class="comment">//報錯，雖邏輯正確，但一開始預先不知道這是一個數字 type 不被認同數字計算</span></span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(calc1&lt;<span class="built_in">number</span>&gt;(<span class="number">100</span>)); <span class="comment">//將 number 提供給泛型做替換</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  類型 &#x27;number&#x27; 不可指派給類型 &#x27;myType&#x27;。</span></span><br><span class="line"><span class="comment">  &#x27;myType&#x27; 可以使用與 &#x27;number&#x27; 無關的任意類型來具現化。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>原因為 myType 無法進行算術符號，因此透過繼承來獲得 number type 的形狀，使得該泛型能進行對盤的操作。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> calc2&lt;myType <span class="keyword">extends</span> <span class="built_in">number</span>&gt;(<span class="attr">price</span>: myType): myType &#123;  <span class="comment">//可透過 extends 繼承 number，那麼這個 myType 初始情況下有 number 的定義可允許先接受數字計算</span></span><br><span class="line">  <span class="keyword">return</span> price * <span class="number">1.05</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(calc2&lt;<span class="built_in">number</span>&gt;(<span class="number">100</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> calc3&lt;T <span class="keyword">extends</span> <span class="built_in">number</span>, U <span class="keyword">extends</span> <span class="built_in">number</span>&gt;(<span class="attr">price</span>: T, <span class="attr">tax</span>: U): <span class="built_in">number</span> &#123;  <span class="comment">//多個泛型傳遞引數之寫法</span></span><br><span class="line">  <span class="keyword">return</span> price * (<span class="number">1</span> + tax / <span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(calc3&lt;<span class="built_in">number</span>, <span class="built_in">number</span>&gt;(<span class="number">100</span>, <span class="number">7</span>));</span><br></pre></td></tr></table></figure>

<p>另外一個問題如下：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> long&lt;myType&gt;(<span class="attr">str</span>: myType): <span class="built_in">number</span> &#123;  <span class="comment">// 未知確定 string 情況下，沒有 length 的原生屬性</span></span><br><span class="line">  <span class="keyword">return</span> str.<span class="property">length</span>;  <span class="comment">//error: 類型 &#x27;myType&#x27; 沒有屬性 &#x27;length&#x27;。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(long&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;HELLO&#x27;</span>));  <span class="comment">//5</span></span><br></pre></td></tr></table></figure>

<p>原因為 myType 沒有 length 這個屬性，因此 myType 透過繼承方式從介面來獲得 length 這個屬性形狀。注意這裡是用 extends 來繼承做形狀擴展，不是前面範例當作類型賦予。但如果傳進來資料不是 string 就不符合介面的約束報錯。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Plus</span>&#123;</span><br><span class="line">  <span class="attr">length</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> long&lt;myType <span class="keyword">extends</span> <span class="title class_">Plus</span>&gt;(<span class="attr">str</span>: myType): <span class="built_in">number</span> &#123;  <span class="comment">// 未知 string 情況下，沒有 length 的猿聲屬性</span></span><br><span class="line">  <span class="keyword">return</span> str.<span class="property">length</span>;  <span class="comment">//ok</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(long&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;HELLO&#x27;</span>));  <span class="comment">//5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(long&lt;<span class="built_in">number</span>&gt;(<span class="number">100</span>));  <span class="comment">//error: 類型 &#x27;number&#x27; 不符合條件約束 &#x27;Plus&#x27;。</span></span><br></pre></td></tr></table></figure>

<p>最後一個技巧為泛型與泛型進行約束。下列函式設計用途說明如下：</p>
<ul>
<li>將泛型 T 繼承至泛型 U，不討論兩者形狀是否雷同。我們最終目的為來源資料（套用泛型 U) 能判斷可否覆蓋至目標資料（套用泛型 T ) 上。</li>
<li>因為泛型 T 繼承了 U，所以 T 已受到約束必需持有 U 該有的屬性欄位。</li>
<li>當第一次函式執行時目標 T 類型為 a,b,c，而來源 U 為 b,c。因此程式可以正常執行。</li>
<li>而第二次函式執行時目標 T 類型為 a,b,c，而來源 U 為 d,c。因為 T 繼承了 U 所以應該需要 abcd 這些屬性。而傳入的 data 只有 abc 導致類型不符合產生報錯，達到偵測錯誤之目的。</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> overWrite&lt;T <span class="keyword">extends</span> U, U&gt;(<span class="attr">target</span>: T, <span class="attr">source</span>: U): T &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> id <span class="keyword">in</span> source) &#123;</span><br><span class="line">    target[id] = (&lt;T&gt;source)[id];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> data = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">overWrite</span>(data, &#123; <span class="attr">b</span>: <span class="number">10</span>, <span class="attr">c</span>: <span class="number">20</span> &#125;));  <span class="comment">//&#123;a: 1, b: 10, c: 3, d: 20&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">overWrite</span>(data, &#123; <span class="attr">d</span>: <span class="number">10</span>, <span class="attr">c</span>: <span class="number">20</span> &#125;));  <span class="comment">//error:</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">類型 &#x27;&#123; a: number; b: number; c: number; &#125;&#x27; 的引數不可指派給類型 &#x27;&#123; d: number; c: number; &#125;&#x27; 的引數。</span></span><br><span class="line"><span class="comment">類型 &#x27;&#123; a: number; b: number; c: number; &#125;&#x27; 缺少屬性 &#x27;d&#x27;，但類型 &#x27;&#123; d: number; c: number; &#125;&#x27; 必須有該屬性。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="用於搭配介面的函式"><a href="#用於搭配介面的函式" class="headerlink" title="用於搭配介面的函式"></a>用於搭配介面的函式</h3><p>三者合併示範搭配介面的函式如何整合泛型的應用。透過前面找到搭配介面的函式進行步驟說明：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">//由介面來約束 mySearch 的 type 形狀如何。</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  (<span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">mySearch</span>: <span class="title class_">User</span> = <span class="keyword">function</span> (<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name,age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">mySearch</span>(<span class="string">&#x27;loki&#x27;</span>, <span class="number">18</span>); <span class="comment">//loki 18</span></span><br></pre></td></tr></table></figure>

<ul>
<li>接著把 age 這個引數之類型 number 換成泛型名稱 T，有兩個地方要替換泛型 T。</li>
<li>函式綁定泛型如出一轍的替換；而介面的形狀寫法為 function 的形狀，因此介面綁泛型的方式與位置相同。</li>
<li>最後在函式執行的引數上指定泛型真正型態為 number，若省略此步驟其系統將自動推論出 number 給泛型。</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  &lt;T&gt;(<span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: T): <span class="built_in">void</span>; <span class="comment">//這裡是函式形狀有綁泛型</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">mySearch</span>: <span class="title class_">User</span> = <span class="keyword">function</span> &lt;T&gt;(<span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: T) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name, age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">mySearch</span>(<span class="string">&#x27;loki&#x27;</span>, &lt;<span class="built_in">number</span>&gt;<span class="number">18</span>); <span class="comment">//loki 18</span></span><br></pre></td></tr></table></figure>

<ul>
<li>介面綁泛型的方式也可寫在外面。缺點於 mySearch 這個類型指定就必需告知實際 type 不然會報錯。</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span>&lt;T&gt; &#123; <span class="comment">//變成是 User 這裡綁泛型</span></span><br><span class="line">  (<span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: T): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">mySearch</span>: <span class="title class_">User</span>&lt;<span class="built_in">number</span>&gt; = <span class="keyword">function</span> &lt;T&gt;(<span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: T) &#123;  <span class="comment">//理所當然使用 User 這個介面告知泛型的實際 type</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name, age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">mySearch</span>(<span class="string">&#x27;loki&#x27;</span>, &lt;<span class="built_in">number</span>&gt;<span class="number">18</span>); <span class="comment">//loki 18</span></span><br></pre></td></tr></table></figure>

<h3 id="用於類別"><a href="#用於類別" class="headerlink" title="用於類別"></a>用於類別</h3><p>用法差不多，從前面單元找範例調整一下來綁泛型：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">info</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">na: <span class="built_in">string</span>, ag: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = na;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = ag;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">echo</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>&#x27;s ages is <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: info = <span class="keyword">new</span> <span class="title function_">info</span>(<span class="string">&#x27;Loki&#x27;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">echo</span>()); <span class="comment">//Loki&#x27;s ages is 18</span></span><br></pre></td></tr></table></figure>

<ul>
<li>將 class 內的 string 替換成泛型，而 class 外面使用<code>&lt;T&gt;</code>做泛型綁定。</li>
<li>class 內的所有 string 換成關鍵字 T</li>
<li>new info 時可以告知泛型實際 type，或者讓系統推論</li>
<li>obj 指定時可選擇告知為 class 類型，但必需要告知 class 的泛型 type</li>
<li>會發現 echo() 方法的回傳報錯，既使透過約束 extends string 也無效。</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">info</span>&lt;T <span class="keyword">extends</span> <span class="built_in">string</span>&gt; &#123;</span><br><span class="line">  <span class="attr">name</span>: T;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">na: T, ag: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = na;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = ag;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">echo</span>(): T &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>&#x27;s ages is <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>`</span>;</span><br><span class="line">    <span class="comment">//error: 這裡因回傳一定是 string，泛型 T 無法確保其他可能，因此建議你乾脆直接寫 string 才對</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: info&lt;<span class="built_in">string</span>&gt; = <span class="keyword">new</span> info&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;Loki&#x27;</span>, <span class="number">18</span>); <span class="comment">// 等號：左邊無法推論需綁定；右邊可推論 Loki 為 string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">echo</span>()); <span class="comment">//Loki&#x27;s ages is 18</span></span><br></pre></td></tr></table></figure>

<p>改回固定的 string 回傳，畢竟很明顯只有 string 一種可能，也取消約束必要性。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">info</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="attr">name</span>: T;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">na: T, ag: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = na;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = ag;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">echo</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>&#x27;s ages is <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>`</span>;</span><br><span class="line">    <span class="comment">//error: 這裡因回傳一定是 string，泛型 T 無法確保其他可能，因此建議你乾脆直接寫 string 才對</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: info&lt;<span class="built_in">string</span>&gt; = <span class="keyword">new</span> info&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;Loki&#x27;</span>, <span class="number">18</span>); <span class="comment">// 等號：左邊無法推論需綁定；右邊可推論 Loki 為 string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">echo</span>()); <span class="comment">//Loki&#x27;s ages is 18</span></span><br></pre></td></tr></table></figure>

<h3 id="泛型之預設-type"><a href="#泛型之預設-type" class="headerlink" title="泛型之預設 type"></a>泛型之預設 type</h3><p>泛型可以預先綁定一組預設 type，如果外部沒有特別告知時會先嘗試自行推論，無法推論時會採用此預設 type</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> ary&lt;T = <span class="built_in">string</span>&gt;(<span class="attr">value</span>: T): T[] &#123;  </span><br><span class="line">  <span class="keyword">let</span> <span class="attr">re</span>: T[] = []; <span class="comment">//指定 T type</span></span><br><span class="line">  re.<span class="title function_">push</span>(value);</span><br><span class="line">  <span class="keyword">return</span> re;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="宣告檔案"><a href="#宣告檔案" class="headerlink" title="宣告檔案"></a>宣告檔案</h2><p>當專案內有使用一些第三方套件時，由於非 JavaScript 核心的關鍵名稱會導致 TypeScript 無法辨識產生錯誤。因此需要額外對這些關鍵名稱給予定義。舉例 jQuery 來解釋：</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;#title&quot;</span>).<span class="title function_">html</span>(<span class="string">&#x27;hello world&#x27;</span>);  <span class="comment">//找不到名稱 &#x27;$&#x27;。需要安裝 jQuery 的型別定義嗎？請嘗試 `npm i --save-dev @types/jquery`。</span></span><br></pre></td></tr></table></figure>

<p>這裡不認識<code>$</code>符號，但 TypeScript 回報懷疑是 jQuery 並建議你從第三方函式庫 npm 來安裝@type 擴充包來補充 jQuery 類型定義。跟著往下看：</p>
<h3 id="獲取-npm-上的-type"><a href="#獲取-npm-上的-type" class="headerlink" title="獲取 npm 上的 @type"></a>獲取 npm 上的 @type</h3><p>現在你可以嘗試使用 TypeScript 所提示的 npm 安裝 jQuery 類型定義擴展，透過 npm 來獲得指示上的指令，其中中的<code>i</code> 等價 <code>install</code>。</p>
<figure class="highlight plaintext"><figcaption><span>npm</span></figcaption><table><tr><td class="code"><pre><span class="line">npm i --save-dev @types/jquery</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果你有手動宣告這些第三方套件的類型定義會告知衝突存在，例如「無法重新宣告區塊範圍變數 ‘$’」。移除手動的 <code>.d.ts</code> 檔案即可。</p>
</blockquote>
<p>未來任何第三方套件都能嘗試從 npm 尋找現成的 type 定義擴展包。官方提供 <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/dt/search">TypeScript: Search for typed packages</a> 網頁查詢。注意安裝來源的是<code>@types/*</code>而不是套件本身。</p>
<p><img src="https://i.imgur.com/Cd776ku.png" alt="範例：搜尋 Bootstrap"></p>
<h3 id="宣告行為-declare"><a href="#宣告行為-declare" class="headerlink" title="宣告行為 declare"></a>宣告行為 declare</h3><p>假設不透過 npm 獲取 npm 上的 @type，或在上面找不到第三方套件之類型定義包，只能手動來宣告檔案之類型定義。原理為在編譯檔案<code>*.ts</code>之前會從檔案<code>*.d.ts</code>讀取內容作為宣告的前置作業。因此你可以在這個環節設計一些做為全域類型作用的變數、函式、類別等物件。使得之後的 TypeScript 編譯當下能獲得認知。</p>
<h4 id="宣告變數-declare-var"><a href="#宣告變數-declare-var" class="headerlink" title="宣告變數 declare var"></a>宣告變數 declare var</h4><p>最簡單的作法並同樣採用 jQuery 來示範。請移除從 npm 獲得的任何檔案目錄做練習。</p>
<ol>
<li>我們需要將<code>$()</code>這個函式補充類型之形狀，就能正常解析並將<code>$</code>當作一個（函數型）變數來處理</li>
<li>宣告的描述習慣上不會跟 TypeScript 之內容放在一起（當然堅持也可以）。另創立<code>*.d.ts</code>檔案可放置在任何位置。</li>
<li>每次編譯 TypeScript 會試著優先從專案內這些<code>*.d.ts</code>先理解宣告內容才會開始解析內容。</li>
</ol>
<figure class="highlight ts"><figcaption><span>jQuery.d.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">var</span> <span class="attr">$</span>: <span class="function">(<span class="params">selector: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line"><span class="comment">/* declare var 為宣告全域 var */</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>假如仍然無法解析，那麼可以檢查下 <code>tsconfig.json</code> 中的 <code>files</code>、<code>include</code> 和 <code>exclude</code> 配置，確保其包含了 <code>jQuery.d.ts</code> 檔案。</p>
</blockquote>
<p><code>declare</code>作為宣告，接著變數 var,let,const 都可以給予<code>$</code>這個變數，但注意使用 const 就無法再修改。建議用 const 避免宣告定義被改寫。</p>
<blockquote>
<p>這裡為了練習方便都合併在 test.ts 上一起寫並注意順序，不再宣告寫至 <code>*.d.ts</code>。</p>
</blockquote>
<figure class="highlight ts"><figcaption><span>test.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="attr">$</span>: <span class="function">(<span class="params">selector: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line"><span class="comment">//declare (var|let|const) 只能用在定義類型，不可用在其他用途，例如：</span></span><br><span class="line"><span class="comment">/* 錯誤示範</span></span><br><span class="line"><span class="comment">declare const $ = function (dom) &#123;</span></span><br><span class="line"><span class="comment">  return document.querySelector(dom);</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;#title&quot;</span>).<span class="title function_">html</span>(<span class="string">&#x27;hello world&#x27;</span>);  <span class="comment">//找不到名稱 &#x27;$&#x27;。需要安裝 jQuery 的型別定義嗎？請嘗試 `npm i --save-dev @types/jquery`。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//嘗試重新修改$失敗</span></span><br><span class="line">$ = <span class="keyword">function</span> (<span class="params">dom</span>) &#123;  <span class="comment">//error: 因為 &#x27;$&#x27; 為常數，所以無法指派至 &#x27;$&#x27;。</span></span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(dom);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="宣告函式-declare-function"><a href="#宣告函式-declare-function" class="headerlink" title="宣告函式 declare function"></a>宣告函式 declare function</h4><p>作為宣告一個全域方法。前例為<code>$</code>當作一個函數型變數，這裡將<code>$</code>當作一個函式（方法）來處理。如此一來，全域範圍下都認識這個 function 之類型。</p>
<figure class="highlight ts"><figcaption><span>test.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">$</span>(<span class="params">selector: <span class="built_in">string</span></span>): <span class="built_in">any</span>;</span><br></pre></td></tr></table></figure>

<p>也支援多載應用寫法</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// in jQuery.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">$</span>(<span class="params">selector: <span class="built_in">string</span></span>): <span class="built_in">any</span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">$</span>(<span class="params">domReadyCallback: () =&gt; <span class="built_in">any</span></span>): <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//in test.ts</span></span><br><span class="line">$(<span class="string">&quot;#title&quot;</span>).<span class="title function_">html</span>(<span class="string">&#x27;hello world&#x27;</span>);</span><br><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;document ready!&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="宣告類別-declare-class"><a href="#宣告類別-declare-class" class="headerlink" title="宣告類別 declare class"></a>宣告類別 declare class</h4><p>這裡沒辦法用 jQuery 來說明，假設你已經持有一個來自第三方的 class 為<code>plugin.js</code>且已透過<code>&lt;script src=&gt;</code>加入專案，現在就是欠缺這個 class 的類型描述。</p>
<figure class="highlight js"><figcaption><span>plugin.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//這是現成的 js 且沒有 TypeScript 所需要的 Type</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">user</span> &#123;</span><br><span class="line">  name;</span><br><span class="line">  age;</span><br><span class="line">  sex = <span class="string">&#x27;boy&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">na, ag</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = na;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = ag;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">echo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>&#x27;s ages is <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight ts"><figcaption><span>test.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: user = <span class="keyword">new</span> <span class="title function_">user</span>(<span class="string">&#x27;Loki&#x27;</span>, <span class="number">18</span>); <span class="comment">// error: 找不到名稱 &#x27;user&#x27;。</span></span><br></pre></td></tr></table></figure>

<p>因此 TypeScript 需要於全域部分進行宣告 class 之類型。</p>
<figure class="highlight ts"><figcaption><span>test.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">class</span> <span class="title class_">user</span>&#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>:<span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">sex</span>:<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">na:<span class="built_in">string</span>,ag:<span class="built_in">number</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">echo</span>():<span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: user = <span class="keyword">new</span> <span class="title function_">user</span>(<span class="string">&#x27;Loki&#x27;</span>, <span class="number">18</span>); <span class="comment">// error: 找不到名稱 &#x27;user&#x27;。</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>寫到這已開始明白當匯入自其他處的 js 檔案時，在 ts 檔案上嘗試使用該 js 資料物件因缺乏 type 而無法編譯，declare 就是根據不同物件類型有不同的用法。</p>
</blockquote>
<h4 id="宣告列舉-declare-enum"><a href="#宣告列舉-declare-enum" class="headerlink" title="宣告列舉 declare enum"></a>宣告列舉 declare enum</h4><p>同樣主要是在全域上宣告指定列舉之類型。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// in jQuery.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">enum</span> lokiStatus &#123; scuess, warn, error &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//int test.ts</span></span><br><span class="line"><span class="keyword">let</span> st = [lokiStatus.<span class="property">scuess</span>, lokiStatus.<span class="property">warn</span>, lokiStatus.<span class="property">error</span>];</span><br></pre></td></tr></table></figure>

<h4 id="宣告命名空間-declare-namespace"><a href="#宣告命名空間-declare-namespace" class="headerlink" title="宣告命名空間 declare namespace"></a>宣告命名空間 declare namespace</h4><p>用來表示一個組合性的自訂模組，例如 jQuery 有多種方法、屬性、建構式。可以透過命名空間一次組合起來宣告這些類型。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// in jQuery.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> $ &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url: <span class="built_in">string</span>, settings?: <span class="built_in">any</span></span>): <span class="built_in">void</span>;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">version</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Event</span> &#123;</span><br><span class="line">    <span class="title function_">blur</span>(<span class="attr">eventType</span>: <span class="title class_">EventType</span>): <span class="built_in">void</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// in test.ts</span></span><br><span class="line">$.<span class="title function_">ajax</span>(<span class="string">&#x27;/api/get_something&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>($.version);</span><br><span class="line"><span class="keyword">const</span> e = <span class="keyword">new</span> $.<span class="title class_">Event</span>();</span><br></pre></td></tr></table></figure>

<p>命名空間可使用巢狀結構，再包一個命名空間之組合。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// in jQuery.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> $ &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url: <span class="built_in">string</span>, settings?: <span class="built_in">any</span></span>): <span class="built_in">void</span>;</span><br><span class="line">  <span class="keyword">namespace</span> fn &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">extend</span>(<span class="params"><span class="built_in">object</span>: <span class="built_in">any</span></span>): <span class="built_in">void</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//in test.ts</span></span><br><span class="line">$.<span class="title function_">ajax</span>(<span class="string">&#x27;/api/get_something&#x27;</span>);</span><br><span class="line">$.fn.<span class="title function_">extend</span>(&#123;</span><br><span class="line">  <span class="attr">check</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">checked</span> = <span class="literal">true</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>其中的 fn 如果僅單獨抽取出來宣告命名，可以寫成以下宣告。</p>
<figure class="highlight ts"><figcaption><span>test.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> $.fn &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">extend</span>(<span class="params"><span class="built_in">object</span>: <span class="built_in">any</span></span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$.fn.<span class="title function_">extend</span>(&#123;</span><br><span class="line">  <span class="attr">check</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">checked</span> = <span class="literal">true</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="介面與別名"><a href="#介面與別名" class="headerlink" title="介面與別名"></a>介面與別名</h4><p>這裡不是使用 declare 來操作宣告，而是只是將介面與別名放置到<code>*.d.ts</code>提升到外部作為全域類型使得整份專案都能讀到。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// in jQuery.d.ts</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">AjaxSettings</span> &#123;</span><br><span class="line">  method?: <span class="string">&#x27;GET&#x27;</span> | <span class="string">&#x27;POST&#x27;</span></span><br><span class="line">  data?: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> jQuery &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url: <span class="built_in">string</span>, settings?: AjaxSettings</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// in test.ts</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">settings</span>: <span class="title class_">AjaxSettings</span> = &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;foo&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">jQuery.<span class="title function_">ajax</span>(<span class="string">&#x27;/api/post_something&#x27;</span>, settings);</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> jQuery &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url: <span class="built_in">string</span>, settings?: AjaxSettings</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然而提升到外部的宣告區則承擔了曝光風險，包含了可能取名上重複，可以技巧性地放置在已知的命名空間底下。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// in jQuery.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> $ &#123;</span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">AjaxSettings</span> &#123;  <span class="comment">//把特定介面放在$這個命名空間內</span></span><br><span class="line">    method?: <span class="string">&#x27;GET&#x27;</span> | <span class="string">&#x27;POST&#x27;</span></span><br><span class="line">    data?: <span class="built_in">any</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url: <span class="built_in">string</span>, settings?: AjaxSettings</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// in test.ts</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">settings</span>: &amp;.<span class="property">AjaxSettings</span> = &#123;  <span class="comment">//使用介面時，透過$.AjaxSettings 來找到</span></span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;foo&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">$.<span class="title function_">ajax</span>(<span class="string">&#x27;/api/post_something&#x27;</span>, settings);</span><br></pre></td></tr></table></figure>

<h4 id="宣告合併"><a href="#宣告合併" class="headerlink" title="宣告合併"></a>宣告合併</h4><p>當宣告不同物件類型且同名時是可以視同兩者合併不會影響。舉例 jQuery 來示範。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// in jQuery.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">$</span>(<span class="params">selector: <span class="built_in">string</span></span>): <span class="built_in">any</span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> $ &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url: <span class="built_in">string</span>, settings?: <span class="built_in">any</span></span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//in test.ts</span></span><br><span class="line">$(<span class="string">&#x27;#foo&#x27;</span>);</span><br><span class="line">$.<span class="title function_">ajax</span>(<span class="string">&#x27;/api/get_something&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="開發套件之類型包"><a href="#開發套件之類型包" class="headerlink" title="開發套件之類型包"></a>開發套件之類型包</h2><p>整理後餘時另編寫 [學習之路、] TypeScript 的進階篇 。有興趣請自詳閱 <a target="_blank" rel="noopener" href="https://willh.gitbook.io/typescript-tutorial/basics/declaration-files#npm-tao-jian">這裡</a></p>
<p>To Be Continued…</p>
<h1 id="參考文獻"><a href="#參考文獻" class="headerlink" title="參考文獻"></a>參考文獻</h1><ul>
<li><a target="_blank" rel="noopener" href="https://www.staging-typescript.org/tsconfig">TypeScript: TSConfig Reference - Docs on every TSConfig option</a></li>
<li><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/editor/tasks">Tasks in Visual Studio Code</a></li>
<li><a target="_blank" rel="noopener" href="https://ts.xcatliu.com/">TypeScript 入门教程</a></li>
<li><a target="_blank" rel="noopener" href="https://willh.gitbook.io/typescript-tutorial/">Will 保哥 - TypeScript 新手指南</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
              <a href="/tags/TypeScript/" rel="tag"># TypeScript</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/08-22/hexo/" rel="prev" title="[隨手紀錄] HEXO 維護相關問題紀錄">
                  <i class="fa fa-chevron-left"></i> [隨手紀錄] HEXO 維護相關問題紀錄
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/09-23/css-cssVariables/" rel="next" title="[學習之路] CSS 進階的原生變數">
                  [學習之路] CSS 進階的原生變數 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  
      <span class="post-meta-item">
        <span class="post-meta-item-icon with-love">
          <i class="fa fa-chart-line"></i>
        </span>
        <span title="全站總字數">519,854</span>
      </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon with-love">
          <i class="fa fa-coffee"></i>
        </span>
        <span title="全站總閱讀時間">15:45:11</span>
      </span>
      <span class="post-meta-item" id="busuanzi_container_site_uv">
        <span class="post-meta-item-icon with-love">
          <i class="fa fa-user"></i>
        </span>
        <span class="site-uv" title="訪客總數">
          <span id="busuanzi_value_site_uv"></span>
        </span>
      </span>
      <span class="post-meta-item" id="busuanzi_container_site_pv">
        <span class="post-meta-item-icon with-love">
          <i class="fa fa-eye"></i>
        </span>
        <span class="site-pv" title="總瀏覽次數">
          <span id="busuanzi_value_site_pv"></span>
        </span>
      </span>

    <div class="copyright">
      <span class="with-love">
        <i class="fa fa-star"></i>
      </span>
      <span class="author" itemprop="copyrightHolder" title="找我？！側單左上連結">Loki Jiang</span>
      <span class="post-meta-item-icon with-love">
        <i class="fas fa-copyright"></i>
      </span>
      2020 – 
      <span itemprop="copyrightYear">2023</span> All rights reserved.
    </div>
  
    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/summer10920" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.4.3/mermaid.min.js","integrity":"sha256-e0o3JYsdjqKajf9eOe22FhioYSz9WofRY4dLKo3F6do="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  
  
  <script>
    var bszCaller,
      bszTag;
    !function () {
      var c,
        d,
        e,
        a = !1,
        b = [];
      ready = function (c) {
        return a || "interactive" === document.readyState || "complete" === document.readyState
          ? c.call(document)
          : b.push(function () {
            return c.call(this)
          }),
        this
      },
      d = function () {
        for (var a = 0, c = b.length; c > a; a++) 
          b[a].apply(document);
        b = []
      },
      e = function () {
        a || (
          a = !0, d.call(window), document.removeEventListener
          ? document.removeEventListener("DOMContentLoaded", e, !1)
          : document.attachEvent && (document.detachEvent("onreadystatechange", e), window == window.top && (clearInterval(c), c = null)))
      },
      document.addEventListener
        ? document.addEventListener("DOMContentLoaded", e, !1)
        : document.attachEvent && (document.attachEvent("onreadystatechange", function () {
          /loaded|complete/.test(document.readyState) && e()
        }), window == window.top && (c = setInterval(function () {
          try {
            a || document
              .documentElement
              .doScroll("left")
          } catch (b) {
            return
          }
          e()
        }, 5)))
    }(),
    bszCaller = {
      fetch: function (a, b) {
        var c = "BusuanziCallback_" + Math.floor(1099511627776 * Math.random());
        window[c] = this.evalCall(b),
        a = a.replace("=BusuanziCallback", "=" + c),
        scriptTag = document.createElement("SCRIPT"),
        scriptTag.type = "text/javascript",
        scriptTag.defer = !0,
        scriptTag.src = a,
        scriptTag.referrerPolicy = "no-referrer-when-downgrade",
        document
          .getElementsByTagName("HEAD")[0]
          .appendChild(scriptTag)
      },
      evalCall: function (a) {
        return function (b) {
          ready(function () {
            try {
              a(b),
              scriptTag
                .parentElement
                .removeChild(scriptTag)
            } catch (c) {
              bszTag.hides()
            }
          })
        }
      }
    },
    bszCaller.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback", function (a) {
      bszTag.texts(a),
      bszTag.shows()
    }),
    bszTag = {
      bszs: [
        "site_pv", "page_pv", "site_uv"
      ],
      texts: function (a) {
        this
          .bszs
          .map(function (b) {
            var c = document.getElementById("busuanzi_value_" + b);
            c && (c.innerHTML = a[b].toLocaleString())
          })
      },
      hides: function () {
        this
          .bszs
          .map(function (a) {
            var b = document.getElementById("busuanzi_container_" + a);
            b && (b.style.display = "none")
          })
      },
      shows: function () {
        this
          .bszs
          .map(function (a) {
            var b = document.getElementById("busuanzi_container_" + a);
            b && (b.style.display = "inline")
          })
      }
    };
  </script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/wordcloud2.js/1.2.2/wordcloud2.min.js"
    integrity="sha512-lGnVsh3WK0YJ7NX7rQmUu6kqF7vqELuDrUTnxpI2iD86VwI+OlQhi3EAJJZbrBUOfDFOAYAkigxkApHGM2IZTg=="
    crossorigin="anonymous"></script>
<script src="/js/loki.js"></script>

</body>
</html>
